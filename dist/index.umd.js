!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es.array.concat"),require("core-js/modules/es.array.reduce"),require("core-js/modules/es.parse-int"),require("core-js/modules/es.array.index-of"),require("core-js/modules/es.array.some"),require("core-js/modules/es.array.splice"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.replace"),require("core-js/modules/es.string.sub"),require("core-js/modules/es.regexp.constructor"),require("core-js/modules/es.regexp.to-string"),require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.slice"),require("core-js/modules/es.object.entries"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.string.iterator"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/es.array.filter"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.map"),require("core-js/modules/es.array.sort"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/es.function.bind"),require("core-js/modules/es.object.assign"),require("core-js/modules/es.object.define-property"),require("core-js/modules/es.array.fill"),require("core-js/modules/es.date.to-string")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.array.concat","core-js/modules/es.array.reduce","core-js/modules/es.parse-int","core-js/modules/es.array.index-of","core-js/modules/es.array.some","core-js/modules/es.array.splice","core-js/modules/es.regexp.exec","core-js/modules/es.string.replace","core-js/modules/es.string.sub","core-js/modules/es.regexp.constructor","core-js/modules/es.regexp.to-string","core-js/modules/es.symbol","core-js/modules/es.symbol.description","core-js/modules/es.symbol.iterator","core-js/modules/es.array.iterator","core-js/modules/es.array.slice","core-js/modules/es.object.entries","core-js/modules/es.object.to-string","core-js/modules/es.string.iterator","core-js/modules/web.dom-collections.iterator","core-js/modules/es.array.filter","core-js/modules/es.array.for-each","core-js/modules/es.array.map","core-js/modules/es.array.sort","core-js/modules/web.dom-collections.for-each","core-js/modules/es.function.bind","core-js/modules/es.object.assign","core-js/modules/es.object.define-property","core-js/modules/es.array.fill","core-js/modules/es.date.to-string"],t):t((e=e||self).Dragee={})}(this,function(e){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(n,e){return e.reduce(function(e,t){return e+parseInt(window.getComputedStyle(n)[t]||0)},0)}var d=function(){function s(e,t){u(this,s),this.x=e,this.y=t}return t(s,[{key:"add",value:function(e){return new s(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new s(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new s(this.x*e,this.y*e)}},{key:"negative",value:function(){return new s(-this.x,-this.y)}},{key:"compare",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"clone",value:function(){return new s(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}],[{key:"elementOffset",value:function(e,t){t=t||e.parentNode;var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return new s(n.left-i.left,n.top-i.top)}},{key:"elementSize",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,i=parseInt(window.getComputedStyle(e).width),r=parseInt(window.getComputedStyle(e).height);return n||(i+=o(e,["padding-left","padding-right","border-left-width","border-right-width"]),r+=o(e,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new s(i,r)}}]),s}();function f(e,t){!function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)","g").test(e.className)}(e,t)&&(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function v(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}function p(e){for(var t=e.parentNode;t.parentNode&&"static"===window.getComputedStyle(t).position&&"BODY"!==t.tagName;)t=t.parentNode;return t}var m=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(u(this,a),this.context=e||this,this.events={},t&&t.on)for(var n=0,i=Object.entries(t.on);n<i.length;n++){var r=g(i[n],2),s=r[0],o=r[1];this.on(s,o)}}return t(a,[{key:"emit",value:function(e){this.interrupted=!1;var t=[].slice.call(arguments,1);if(this.events[e]){var n=!0,i=!1,r=void 0;try{for(var s,o=this.events[e][Symbol.iterator]();!(n=(s=o.next()).done);n=!0){if(s.value.apply(this.context,t),this.interrupted)return}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}}},{key:"interrupt",value:function(){this.interrupted=!0}},{key:"on",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"prependOn",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].unshift(t)}},{key:"unsubscribe",value:function(e,t){if(this.events[e]){var n=this.events[e].indexOf(t);this.events[e].splice(n,1)}}},{key:"resetEmitter",value:function(){this.events={}}},{key:"resetOn",value:function(e){this.events[e]=[]}}]),a}();var r,y=(function(e,t){var r,s;r="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style,e.exports=function(e){if(e){if("string"==typeof s[e])return e;var t;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=r.length;n<i;n++)if(t=r[n]+e,"string"==typeof s[t])return t}}}(r={exports:{}},r.exports),r.exports),b=function(){function a(e,t){u(this,a),this.position=e,this.size=t}return t(a,[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new d(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new d(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var t=new d(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new a(t,new d(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(t))}},{key:"and",value:function(e){var t=new d(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),n=new d(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(t);return n.x<=0||n.y<=0?null:new a(t,n)}},{key:"includePoint",value:function(e){return!(this.position.x>e.x||this.position.x+this.size.x<e.x||this.position.y>e.y||this.position.y+this.size.y<e.y)}},{key:"includeRectangle",value:function(e){return this.includePoint(e.position)&&this.includePoint(e.getP3())}},{key:"moveToBound",value:function(e,t){var n,i;if(t)n=t;else{if(!(i=this.and(e)))return e;n=i.size.x>i.size.y?"y":"x"}var r=this.getCenter(),s=e.getCenter(),o=0<(r[n]>s[n]?-1:1)?this.position[n]+this.size[n]-e.position[n]:this.position[n]-(e.position[n]+e.size[n]);return e.position[n]=e.position[n]+o,e}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(e){(e=e||document.querySelector("ind")).style.left=this.position.x+"px",e.style.top=this.position.y+"px",e.style.width=this.size.x+"px",e.style.height=this.size.y+"px"}},{key:"growth",value:function(e){this.size=this.size.add(e),this.position=this.position.add(e.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}],[{key:"fromElement",value:function(e,t,n,i){var r=1<arguments.length&&void 0!==t?t:e.parentNode,s=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==i&&i;return new a(d.elementOffset(e,r,o),d.elementSize(e,s))}}]),a}();function x(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function w(n){return function(e,t){return Math.sqrt(Math.pow(n.x*Math.abs(e.x-t.x),2)+Math.pow(n.y*Math.abs(e.y-t.y),2))}}function E(e,t,n,i){var r,s,o,a=3<arguments.length&&void 0!==i?i:x,u=0;if(0===e.length)return-1;for(r=a(e[0],t),s=0;s<e.length;s++)(o=a(e[s],t))<r&&(r=o,u=s);return 0<=n&&n<r?-1:u}function k(e,t,n){var i=t.x-e.x,r=t.y-e.y,s=n/x(e,t);return new d(e.x+s*i,e.y+s*r)}function P(e,t,n){for(var i=e.filter(function(e){return e.y>t.y||(n?e.x<t.x:e.x>t.x)}),r=0;r<i.length;r++)if(t.y<i[r].y)return i.splice(r,0,t),i;return i.push(t),i}function D(e,t){var n=Math.min(e,t),i=Math.max(e,t);return Math.min(i-n,n+2*Math.PI-i)}function j(e,t){var n=t.sub(e);return S(Math.atan2(n.y,n.x))}function S(e){for(;e<0;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;return e}function _(e,t,n){return(n=n||new d(0,0)).add(new d(t*Math.cos(e),t*Math.sin(e)))}var A=function(){function e(){u(this,e)}return t(e,[{key:"bound",value:function(e){return e}},{key:"refresh",value:function(){}}]),e}(),M=function(){function n(e){var t;return u(this,n),(t=l(this,h(n).call(this))).rectangle=e,t}return a(n,A),t(n,[{key:"bound",value:function(e,t){var n=e.clone(),i=this.rectangle.getP3();return this.rectangle.position.x>n.x&&(n.x=this.rectangle.position.x),this.rectangle.position.y>n.y&&(n.y=this.rectangle.position.y),i.x<n.x+t.x&&(n.x=i.x-t.x),i.y<n.y+t.y&&(n.y=i.y-t.y),n}}]),n}(),O=function(){function i(e,t){var n;return u(this,i),(n=l(this,h(i).call(this,b.fromElement(e,t)))).element=e,n.parent=t,n}return a(i,M),t(i,[{key:"refresh",value:function(){this.rectangle=b.fromElement(this.element,this.parent)}}]),i}(),T=function(){function r(e,t,n){var i;return u(this,r),(i=l(this,h(r).call(this))).x=e,i.startY=t,i.endY=n,i}return a(r,A),t(r,[{key:"bound",value:function(e,t){var n=e.clone();return n.x=this.x,this.startY>n.y&&(n.y=this.startY),this.endY<n.y+t.y&&(n.y=this.endY-t.y),n}}]),r}(),R=function(){function r(e,t,n){var i;return u(this,r),(i=l(this,h(r).call(this))).y=e,i.startX=t,i.endX=n,i}return a(r,A),t(r,[{key:"bound",value:function(e,t){var n=e.clone();return n.y=this.y,this.startX>n.x&&(n.x=this.startX),this.endX<n.x+t.x&&(n.x=this.endX-t.x),n}}]),r}(),z=function(){function r(e,t){var n;u(this,r),(n=l(this,h(r).call(this))).startPoint=e,n.endPoint=t;var i=Math.atan2(t.y-e.y,t.x-e.x)+Math.PI/2;return n.someK=10,n.cosBeta=Math.cos(i),n.sinBeta=Math.sin(i),n}return a(r,A),t(r,[{key:"bound",value:function(e,t){var n=new d(e.x+this.someK*this.cosBeta,e.y+this.someK*this.sinBeta),i=k(this.endPoint,this.startPoint,t.x),r=function(e,t,n,i){var r,s,o,a,u,h;return n.x===i.x&&(r=n,n=e,e=r,r=i,i=t,t=r),e.x===t.x?(o=(i.y-n.y)/(i.x-n.x),u=(i.x*n.y-n.x*i.y)/(i.x-n.x),h=e.x,new d(h,h*o+u)):(s=(t.y-e.y)/(t.x-e.x),a=(t.x*e.y-e.x*t.y)/(t.x-e.x),o=(i.y-n.y)/(i.x-n.x),u=(i.x*n.y-n.x*i.y)/(i.x-n.x),new d(h=(a-u)/(o-s),h*s+a))}(this.startPoint,this.endPoint,e,n);return function(e,t,n){var i=new d(n.x-e.x,n.y-e.y),r=new d(t.x-e.x,t.y-e.y),s=r.x*r.x+r.y*r.y,o=(i.x*r.x+i.y*r.y)/s;return new d(e.x+r.x*o,e.y+r.y*o)}(this.startPoint,i,r)}}]),r}(),L=function(){function i(e,t){var n;return u(this,i),(n=l(this,h(i).call(this))).center=e,n.radius=t,n}return a(i,A),t(i,[{key:"bound",value:function(e){return k(this.center,e,this.radius)}}]),i}(),C=function(){function s(e,t,n,i){var r;return u(this,s),(r=l(this,h(s).call(this,e,t)))._startAngle=n,r._endAngle=i,r}return a(s,L),t(s,[{key:"startAngle",value:function(){return"function"==typeof this._startAngle?this._startAngle():this._startAngle}},{key:"endAngle",value:function(){return"function"==typeof this._endAngle?this._endAngle():this._endAngle}},{key:"bound",value:function(e){var t=j(this.center,e);return t=S(t),_(t=function(e,t,n){return e<t&&e<n&&n<t?n:t<e&&(n<t||e<n)?n:D(e,n)<D(t,n)?e:t}(this.startAngle(),this.endAngle(),t),this.radius,this.center)}}]),s}();function I(e,t){for(var n=0;n<e.length;n++)e[n]===t&&(e.splice(n,1),n--);return e}function q(e,t,n){var i=[];if(void 0===t&&(t=e,e=0),void 0===n&&(n=1),0<n&&t<=e||n<0&&e<=t)return[];for(var r=e;0<n?r<t:t<r;r+=n)i.push(r);return i}var B=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};u(this,n),this.rectangle=e,this.options=t}return t(n,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),n}(),N=function(){function e(){return u(this,e),l(this,h(e).apply(this,arguments))}return a(e,B),t(e,[{key:"positioning",value:function(i,r){var t=this,s=i.reduce(function(e,t,n){return-1===r.indexOf(n)&&e.push(n),e},[]);return r.forEach(function(e){var n=i[e];s.forEach(function(e){var t=i[e];n=t.moveToBound(n)}),s.some(function(e){return!!i[e].and(n)})||n.and(t.boundRect).getSquare()!==n.getSquare()?n.removable=!0:s.push(e)}),i}},{key:"sorting",value:function(e,t,n){var i=e.concat(t);return t.forEach(function(e){n.push(i.indexOf(e))}),i}}]),e}(),Y=function(){function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,i),(t=l(this,h(i).call(this,e,n))).options=Object.assign({removable:!0},n),t.radius=n.radius||80,t.paddingTopLeft=n.paddingTopLeft||new d(0,0),t.paddingBottomRight=n.paddingBottomRight||new d(0,0),t.yGapBetweenDraggables=n.yGapBetweenDraggables||0,t.getDistance=n.getDistance||x,t.getPosition=n.getPosition||function(e){return e.position},t}return a(i,B),t(i,[{key:"positioning",value:function(e){var s=this,o=this.boundRect,a=o.getP2(),u=[o.position];return e.forEach(function(e,t){for(var n,i=!1,r=0;r<u.length&&!(i=(n=new d(u[r].x+s.paddingTopLeft.x,0<r?u[r-1].y+s.yGapBetweenDraggables:o.position.y+s.paddingTopLeft.y)).x+e.size.x<a.x);r++);i||(n=new d(o.position.x+s.paddingTopLeft.x,u[u.length-1].y+(0<t?s.yGapBetweenDraggables:s.paddingTopLeft.y))),e.position=n,s.options.removable&&e.getP3().y>o.getP3().y&&(e.removable=!0),u=P(u,e.getP3().add(s.paddingBottomRight))}),e}},{key:"sorting",value:function(n,e,t){var i=this,r=n.concat(),s=n.map(function(e){return e.getPosition()});return e.forEach(function(e){var t=E(s,i.getPosition(e),i.radius,i.getDistance);t=-1===t?r.length:r.indexOf(n[t]),r.splice(t,0,e)}),e.forEach(function(e){t.push(r.indexOf(e))}),r}}]),i}(),X=function(){function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,i),(t=l(this,h(i).call(this,e,n))).paddingTopRight=n.paddingTopRight||new d(5,5),t.paddingBottomLeft=n.paddingBottomLeft||new d(0,0),t.yGapBetweenDraggables=n.yGapBetweenDraggables||0,t.paddingBottomNegLeft=new d(-t.paddingBottomLeft.x,t.paddingBottomLeft.y),t}return a(i,Y),t(i,[{key:"positioning",value:function(e){var s=this,o=this.boundRect,a=[o.getP2()];return e.forEach(function(e,t){for(var n,i=!1,r=0;r<a.length&&!(i=(n=new d(a[r].x-e.size.x-s.paddingTopRight.x,0<r?a[r-1].y+s.yGapBetweenDraggables:o.position.y+s.paddingTopRight.y)).x>e.position.x);r++);i||(n=new d(o.getP2().x-e.size.x-s.paddingTopRight.x,a[a.length-1].y+(0<t?s.yGapBetweenDraggables:s.paddingTopRight.y))),e.position=n,s.options.removable&&e.getP4().y>o.getP4().y&&(e.removable=!0),a=P(a,e.getP4().add(s.paddingBottomNegLeft),!0)}),e}}]),i}(),G=function(){function o(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};u(this,o);var r=c(n=l(this,h(o).call(this,void 0,i))),s=i.parent||p(e);return n.options=Object.assign({timeEnd:200,timeExcange:400,parent:s},i),n.positioningStrategy=i.strategy||new Y(n.getRectangle.bind(c(n)),{radius:80,getDistance:w({x:1,y:4}),removable:!0}),n.element=e,t.forEach(function(e){return e.targets.push(r)}),n.draggables=t,o.emitter.emit("target:create",c(n)),n.init(),n}return a(o,m),t(o,[{key:"positioning",value:function(e,t){return this.positioningStrategy.positioning(e,t)}},{key:"sorting",value:function(e,t,n){return this.positioningStrategy.sorting(e,t,n)}},{key:"init",value:function(){var e,t,n=this;this.innerDraggables=this.draggables.filter(function(e){for(var t=e.element.parentNode;t;){if(t===n.element)return!0;t=t.parentNode}return!1}),this.innerDraggables.length&&(t=q(this.innerDraggables.length),e=this.positioning(this.innerDraggables.map(function(e){return e.getRectangle()}),t),this.setPosition(e,t),this.innerDraggables.forEach(function(e){return n.emit("target:add",e)}))}},{key:"getRectangle",value:function(){return b.fromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(e){if(this.options.catchDraggable)return this.options.catchDraggable(this,e);var t=this.getRectangle();return e.getRectangle().getSquare()<t.getSquare()&&t.includePoint(e.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;F.forEach(function(e){return I(e.targets,t)})}},{key:"refresh",value:function(){var e=this.positioning(this.innerDraggables.map(function(e){return e.getRectangle()}),[]);this.setPosition(e,[],0)}},{key:"onEnd",value:function(e){var t=[];if(!this.getRectangle().includePoint(e.getPosition())){if(!this.getRectangle().includePoint(e.getCenter()))return!1;e.position=e.getCenter().clone()}this.emit("target:beforeAdd",e),this.innerDraggables=this.sorting(this.innerDraggables,[e],t);var n=this.positioning(this.innerDraggables.map(function(e){return e.getRectangle()}),t);return this.setPosition(n,t),-1!==this.innerDraggables.indexOf(e)&&this.addRemoveOnMove(e),!0}},{key:"setPosition",value:function(r,s,o){var a=this;this.innerDraggables.slice(0).forEach(function(e,t){var n=r[t],i=o||0===o?o:-1!==s.indexOf(t)?a.options.timeEnd:a.options.timeExcange;n.removable?(e.move(e.initialPosition,i,!0,!0),I(a.innerDraggables,e),a.emit("target:remove",e)):e.move(n.position,i,!0,!0)})}},{key:"add",value:function(e,t){var n=this.innerDraggables.length;this.emit("target:beforeAdd",e),this.pushInnerDraggable(e);var i=this.positioning(this.innerDraggables.map(function(e){return e.getRectangle()}),n,e);this.setPosition(i,[n],t||0),-1!==this.innerDraggables.indexOf(e)&&this.addRemoveOnMove(e)}},{key:"pushInnerDraggable",value:function(e){-1===this.innerDraggables.indexOf(e)&&this.innerDraggables.push(e)}},{key:"addRemoveOnMove",value:function(e){var t=this;e.on("drag:move",this.removeHandler=function(){t.remove(e)}),this.emit("target:add",e)}},{key:"remove",value:function(e){e.unsubscribe("drag:move",this.removeHandler);var t=this.innerDraggables.indexOf(e);if(-1!==t){this.innerDraggables.splice(t,1);var n=this.positioning(this.innerDraggables.map(function(e){return e.getRectangle()}),[]);this.setPosition(n,[]),this.emit("target:remove",e)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach(function(e){e.move(e.initialPosition,0,!0,!0),t.emit("target:remove",e)}),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}]),o}();G.emitter=new m(G),G.emitter.on("target:create",function(e){$.addTarget(e)});var F=[],H=function(){function r(e,n){var t,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return u(this,r),t=l(this,h(r).call(this,void 0,i)),F.forEach(function(t){e&&e.forEach(function(e){I(t.draggables,e)}),n&&n.forEach(function(e){I(t.targets,e)})}),t.draggables=e||[],t.targets=n||[],F.push(c(t)),t.options={timeEnd:i.timeEnd||400},t.init(),t}return a(r,m),t(r,[{key:"init",value:function(){var t=this;this.draggables.forEach(function(e){e.dragEndAction=function(){return t.onEnd(e)}})}},{key:"addDraggable",value:function(e){var t=this;this.draggables.push(e),e.dragEndAction=function(){return t.onEnd(e)}}},{key:"addTarget",value:function(e){this.targets.push(e)}},{key:"onEnd",value:function(t){var e=this.targets.filter(function(e){return-1!==e.draggables.indexOf(t)}).filter(function(e){return e.catchDraggable(t)}).sort(function(e,t){return e.getRectangle().getSquare()-t.getRectangle().getSquare()});e.length?e[0].onEnd(t):t.targets.length&&t.pinPosition(t.initialPosition,this.options.timeEnd),this.emit("scope:change")}},{key:"reset",value:function(){this.targets.forEach(function(e){return e.reset()})}},{key:"refresh",value:function(){this.draggables.forEach(function(e){return e.refresh()}),this.targets.forEach(function(e){return e.refresh()})}},{key:"positions",get:function(){var t=this;return this.targets.map(function(e){return e.innerDraggables.map(function(e){return t.draggables.indexOf(e)})})},set:function(e){var n=this;if(e.length!==this.targets.length)throw"wrong array length";this.targets.forEach(function(e){return e.reset()}),e.forEach(function(e,t){e.forEach(function(e){n.targets[t].add(n.draggables[e])})})}}]),r}(),$=new H;var W=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),K="ontouchstart"in window,U="mousedown",J="mousemove",Q="mouseup",V="touchstart",Z="touchmove",ee="touchend",te=[],ne=y("transform"),ie=y("transition");function re(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return e.changedTouches[n];return!1}var se=function(){function s(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,s),(t=l(this,h(s).call(this,void 0,n))).targets=[],t.options=n,t.element=e,function(t){if(te.some(function(e){return t.element===e.element}))throw"for this element Dragee.Draggable is already exist, don't create it twice ";te.push(t)}(c(t)),s.emitter.emit("draggable:create",c(t)),t._enable=!0,t.startPositioning(),t.startListening(),t}return a(s,m),t(s,[{key:"startPositioning",value:function(){this._setDefaultTransition(),this.offset=d.elementOffset(this.element,this.parent,!0),this.pinnedPosition=this.offset,this.position=this.offset,this.initialPosition=this.options.position||this.offset,this.pinPosition(this.initialPosition),this.bounding.refresh&&this.bounding.refresh()}},{key:"startListening",value:function(){var t=this;this._dragStart=function(e){return t.dragStart(e)},this._dragMove=function(e){return t.dragMove(e)},this._dragEnd=function(e){return t.dragEnd(e)},this._nativeDragStart=function(e){return t.nativeDragStart(e)},this._nativeDragMove=function(e){return t.nativeDragMove(e)},this._nativeDragEnd=function(e){return t.nativeDragEnd(e)},this.handler.addEventListener(V,this._dragStart,!!W&&{passive:!1}),this.handler.addEventListener(U,this._dragStart,!!W&&{passive:!1}),this.handler.addEventListener("dragstart",this._nativeDragStart)}},{key:"getSize",value:function(){return d.elementSize(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new d(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setDefaultTransition",value:function(){this.element.style[ie]=window.getComputedStyle(this.element)[ie]}},{key:"_setTransition",value:function(e){var t=this.element.style[ie],n="transform ".concat(e,"ms");/transform \d*m?s/.test(t)?t=t.replace(/transform \d*m?s/,n):t?t+=", ".concat(n):t=n,this.element.style[ie]=t}},{key:"_setTranslate",value:function(e){this._transformPosition=e;var t=this.element.style[ne],n=" translate3d(".concat(e.x,"px, ").concat(e.y,"px, 0px)");-1!==window.navigator.userAgent.indexOf("MSIE ")?(n=" translate(".concat(e.x,"px,").concat(e.y,"px)"),/translate\([^)]+\)/.test(t)?t=t.replace(/translate\([^)]+\)/,n):t+=n):/translate3d\([^)]+\)/.test(t)?t=t.replace(/translate3d\([^)]+\)/,n):t+=n,this.element.style[ne]=t}},{key:"move",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:0,r=2<arguments.length&&void 0!==n&&n;e=e.clone(),this.determineDirection(e),this.position=e,this._setTransition(i),this._setTranslate(e.sub(this.offset)),r||this.emit("drag:move")}},{key:"pinPosition",value:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:0,r=!(2<arguments.length&&void 0!==n)||n;this.pinnedPosition=e.clone(),this.move(this.pinnedPosition,i,r)}},{key:"resetPositionToInitial",value:function(){this.pinPosition(this.initialPosition)}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(e){e=e.clone(),this.position=e,this._setTransition(0),this._setTranslate(e.sub(this.offset))}},{key:"determineDirection",value:function(e){this.leftDirection=this.position.x<e.x,this.rightDirection=this.position.x>e.x,this.upDirection=this.position.y>e.y,this.downDirection=this.position.y<e.y}},{key:"dragStart",value:function(e){if(this.currentEvent=e,this._enable){var t=K&&e instanceof window.TouchEvent;if(this._startTouchPoint=new d(t?e.changedTouches[0].pageX:e.clientX,t?e.changedTouches[0].pageY:e.clientY),this._startPosition=this.getPosition(),t&&(this._touchId=e.changedTouches[0].identifier),e.stopPropagation(),(e.target instanceof window.HTMLInputElement||e.target instanceof window.HTMLInputElement)&&e.target.focus(),this.nativeDragAndDrop||e.target instanceof window.HTMLInputElement||e.target instanceof window.HTMLInputElement||e.preventDefault(),this.nativeDragAndDrop){var n=/version\/(\d+).+?safari/i.test(window.navigator.userAgent);t&&this.emulateNativeDragAndDropOnTouch||n?this.emulateNativeDragAndDrop(e):(this.element.draggable=!0,document.addEventListener(Q,this._nativeDragEnd,!!W&&{passive:!1}))}else document.addEventListener(Z,this._dragMove,!!W&&{passive:!1}),document.addEventListener(J,this._dragMove,!!W&&{passive:!1}),document.addEventListener(ee,this._dragEnd,!!W&&{passive:!1}),document.addEventListener(Q,this._dragEnd,!!W&&{passive:!1});this.isDragging=!0,this.emit("drag:start"),f(this.element,"dragee-active"),this.emit("drag:move")}}},{key:"stopDragging",value:function(){document.removeEventListener(Z,this._dragMove),document.removeEventListener(J,this._dragMove),document.removeEventListener(ee,this._dragEnd),document.removeEventListener(Q,this._dragEnd),document.removeEventListener(Q,this._nativeDragEnd),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),this.element.draggable=!1,this.isDragging=!1,v(this.element,"dragee-active")}},{key:"dragMove",value:function(e){var t;this.currentEvent=e;var n=K&&e instanceof window.TouchEvent;if(!n||(t=re(e,this._touchId))){e.stopPropagation(),e.preventDefault();var i=new d(n?t.pageX:e.clientX,n?t.pageY:e.clientY),r=this._startPosition.add(i.sub(this._startTouchPoint));r=this.bounding.bound(r,this.getSize()),this.touchPoint=i,this.move(r)}}},{key:"dragEnd",value:function(e){K&&e instanceof window.TouchEvent&&!re(e,this._touchId)||(e.stopPropagation(),e.preventDefault(),this.dragEndAction(),this.emit("drag:end"),document.removeEventListener(Z,this._dragMove),document.removeEventListener(J,this._dragMove),document.removeEventListener(ee,this._dragEnd),document.removeEventListener(Q,this._dragEnd),this.isDragging=!1,this.element.removeAttribute("draggable"),v(this.element,"dragee-active"))}},{key:"nativeDragStart",value:function(e){e.dataTransfer.setData("text","FireFox fix"),document.addEventListener("dragover",this._nativeDragMove),document.addEventListener("dragend",this._nativeDragEnd)}},{key:"nativeDragMove",value:function(e){if(e.preventDefault(),f(this.element,"dragee-placeholder"),0!==(this.currentEvent=e).clientX||0!==e.clientY){var t=new d(e.clientX,e.clientY),n=this._startPosition.add(t.sub(this._startTouchPoint));n=this.bounding.bound(n,this.getSize()),this.touchPoint=t,this.position=n,this.emit("drag:move")}}},{key:"nativeDragEnd",value:function(){v(this.element,"dragee-placeholder"),this.dragEndAction(),this.emit("drag:end"),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),document.removeEventListener(Q,this._nativeDragEnd),this.isDragging=!1,this.element.removeAttribute("draggable"),v(this.element,"dragee-active")}},{key:"emulateNativeDragAndDrop",value:function(e){var t=this,n=this.parent.getBoundingClientRect(),i=this.element.cloneNode(!0);i.style[ne]="",function e(t,n){for(var i=window.getComputedStyle(t),r=0;r<i.length;r++){var s=i[r];s.indexOf("transition")<0&&s.indexOf("transform")<0&&(n.style[s]=i[s])}for(var o=0;o<t.children.length;o++)e(t.children[o],n.children[o])}(this.element,i),i.style.position="absolute",document.body.appendChild(i),f(this.element,"dragee-placeholder");var r=new s(i,{parent:document.body,on:{"drag:move":function(){t.position=new d(r.position.x-n.left-window.scrollX,r.position.y-n.top-window.scrollY),t.emit("drag:move")},"drag:end":function(){r.destroy(),document.body.removeChild(i),v(t.element,"dragee-placeholder"),v(t.element,"dragee-active")}}});r.move(new d(this.pinnedPosition.x+n.left+window.scrollX,this.pinnedPosition.y+n.top+window.scrollY)),r.dragStart(e)}},{key:"dragEndAction",value:function(){this.pinPosition(this.position)}},{key:"getRectangle",value:function(){return new b(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bounding.refresh&&this.bounding.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(V,this._dragStart),this.handler.removeEventListener(U,this._dragStart),document.removeEventListener(Z,this._dragMove),document.removeEventListener(J,this._dragMove),document.removeEventListener(ee,this._dragEnd),document.removeEventListener(Q,this._dragEnd),document.removeEventListener("dragstart",this._nativeDragStart),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),this.resetEmitter();var e=te.indexOf(this);-1<e&&te.splice(e,1)}},{key:"parent",get:function(){return this._parent=this._parent||this.options.parent||p(this.element)}},{key:"bounding",get:function(){return this._bounding=this._bounding||this.options.bounding||new O(this.parent,this.parent)}},{key:"handler",get:function(){return this._handler||("string"==typeof this.options.handler?this._handler=this.element.querySelector(this.options.handler)||this.element:this._handler=this.options.handler||this.element),this._handler}},{key:"nativeDragAndDrop",get:function(){return this.options.nativeDragAndDrop||!1}},{key:"emulateNativeDragAndDropOnTouch",get:function(){return this.options.emulateNativeDragAndDropOnTouch||!0}},{key:"enable",get:function(){return this._enable},set:function(e){return e?v(this.element,"dragee-disable"):f(this.element,"dragee-disable"),this._enable=e}}]),s}();se.emitter=new m(se),se.emitter.on("draggable:create",function(e){$.addDraggable(e)});var oe=function(){function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u(this,r),(t=l(this,h(r).call(this,void 0,n))).options=Object.assign({timeEnd:200,timeExcange:400,radius:30,getDistance:x},n),t.draggables=e,t.init(),t}return a(r,m),t(r,[{key:"init",value:function(){this._enable=!0,this.draggables.forEach(this.initDraggable,this)}},{key:"initDraggable",value:function(e){var t=this;e.enable=this._enable,e.on("drag:move",function(){return t.onMove(e)}),e.dragEndAction=function(){return e.pinPosition(e.pinnedPosition,t.options.timeEnd)}}},{key:"onMove",value:function(e){var t=this.getSortedDraggables(),n=t.map(function(e){return e.pinnedPosition}),i=t.indexOf(e),r=E(n,e.position,this.options.radius,this.options.getDistance);if(-1!==r&&i!==r){if(r<i)for(var s=r;s<i;s++)t[s].pinPosition(n[s+1],this.options.timeExcange);else for(var o=i;o<r;o++)t[o+1].pinPosition(n[o],this.options.timeExcange);e.nativeDragAndDrop?e.pinPosition(n[r]):e.pinnedPosition=n[r],this.emit("list:change")}}},{key:"getCurrentPinnedPositions",value:function(){return this.draggables.map(function(e){return e.pinnedPosition.clone()})}},{key:"getSortedDraggables",value:function(){var e=this;return this.draggables.map(function(e){return e.initialPosition}).map(function(t){return e.draggables.filter(function(e){return e.pinnedPosition.compare(t)})[0]})}},{key:"reset",value:function(){this.draggables.forEach(function(e){return e.resetPositionToInitial()})}},{key:"refresh",value:function(){this.draggables.forEach(function(e){return e.refresh()})}},{key:"add",value:function(e){var t=this;e instanceof Array||(e=[e]),e.forEach(function(e){return t.initDraggable(e)}),this.draggables=this.draggables.concat(e)}},{key:"remove",value:function(e){var t=this,n=this.draggables.map(function(e){return e.initialPosition}),i=[],r=this.getSortedDraggables();e instanceof Array||(e=[e]),e.forEach(function(e){e.resetOn("drag:end"),e.resetOn("drag:move"),I(t.draggables,e)});var s=0;r.forEach(function(e){-1!==t.draggables.indexOf(e)&&(e.pinnedPosition!==n[s]&&e.pinPosition(n[s],t.options.timeExcange),e.initialPosition=n[s],s++,i.push(e))}),this.draggables=i}},{key:"clear",value:function(){this.remove(this.draggables.slice())}},{key:"destroy",value:function(){this.draggables.forEach(function(e){return e.destroy()})}},{key:"positions",get:function(){return this.getCurrentPinnedPositions()},set:function(e){var n=this;if(e.length!==this.draggables.length)throw"wrong array length";e.forEach(function(e,t){n.draggables[t].pinPosition(e)})}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t,this.draggables.forEach(function(e){e.enable=t})}}],[{key:"factory",value:function(t,e,n){var i=2<arguments.length&&void 0!==n?n:{};return new r(s(e).map(function(e){return new se(e,Object.assign({parent:t},i.draggable||{}))}),i.list||{})}}]),r}();function ae(e,t){var n=document.createElement("canvas");return"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),n.setAttribute("width",t.size.x+"px"),n.setAttribute("height",t.size.y+"px"),function(e,t){t=t||{};var n="";for(var i in t)t.hasOwnProperty(i)&&(n+=i+": "+t[i]+"; ");e.style.cssText=n}(n,{position:"absolute",left:t.position.y+"px",top:t.position.y+"px",width:t.size.x+"px",height:t.size.y+"px"}),function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}(e,n),n}var ue=function(){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};u(this,r);var i=b.fromElement(e,e);this.options=Object.assign({angle:0,dAngle:2*Math.PI/t.length,center:i.getCenter(),startRadius:50,endRadius:i.getMinSide()/2,lineWidth:2,strokeStyle:"#ff5577",fillStyle:"rgba(150,255,50,0.8)"},n),this.area=e,this.areaRectangle=i,this.init(t)}return t(r,[{key:"init",value:function(e){var o=this;this.canvas=ae(this.area,this.areaRectangle),this.context=this.canvas.getContext("2d"),this.draggables=e.map(function(e,t){var n=o.options.angle+t*o.options.dAngle,i=d.elementSize(e).mult(.5),r=_(n,o.options.startRadius,o.options.center).sub(i),s=_(n,o.options.endRadius,o.options.center).sub(i);return new se(e,{parent:o.area,bounding:new z(r,s),position:r,on:{"drag:move":function(){return o.draw()}}})}),this.isInit=!0,this.draw()}},{key:"draw",value:function(){if(this.isInit){this.context.clearRect(0,0,this.areaRectangle.size.x,this.areaRectangle.size.y),this.context.beginPath();var e=this.draggables[0].getCenter();this.context.moveTo(e.x,e.y);for(var t=0;t<this.draggables.length;t++)e=this.draggables[t].getCenter(),this.context.lineTo(e.x,e.y);this.context.closePath(),this.context.lineWidth=this.options.lineWidth,this.context.strokeStyle=this.options.strokeStyle,this.context.stroke(),this.context.fillStyle=this.options.fillStyle,this.context.fill()}}}]),r}(),he=function(){function s(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};u(this,s),n=l(this,h(s).call(this,void 0,i));var r=b.fromElement(e,e);return n.options=Object.assign({center:r.getCenter(),radius:r.getMinSide()/2,startAngle:Math.PI,endAngle:0,angles:[Math.PI,-Math.PI/4,0,Math.PI/4,Math.PI/2],time:500},i),n.shiftedCenter=n.options.center,n.area=e,n.init(t),n}return a(s,m),t(s,[{key:"init",value:function(e){var t=this,n=this.options.startAngle,i=_(n,this.options.radius,this.shiftedCenter);this.angle=n,this.draggable=new se(e,{parent:this.area,bounding:new C(this.shiftedCenter,this.options.radius,this.options.startAngle,this.options.endAngle),position:i,on:{"drag:move":function(){return t.change()}}})}},{key:"updateAngle",value:function(){this.angle=j(this.shiftedCenter,this.draggable.position)}},{key:"change",value:function(){this.updateAngle(),this.emit("arcslider:change",{angle:this.angle})}},{key:"setAngle",value:function(e,t){var n=_(this.angle,this.options.radius,this.shiftedCenter);this.angle=S(e),this.draggable.pinPosition(n,t||0),this.emit("arcslider:change",this.angle)}}]),s}(),ce=function(){return Math.round(255*Math.random())},le=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t};var ge=function(){function s(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};u(this,s),n=l(this,h(s).call(this,void 0,i));var r=b.fromElement(e,e);return n.options=Object.assign({center:r.getCenter(),radius:r.getMinSide()/2,touchRadius:r.getMinSide()/2,boundAngle:Math.PI/9,fillStyles:q(0,t.length).map(function(){return"#".concat(le(ce())).concat(le(ce())).concat(le(ce()))}),initAngles:q(-90,270,360/t.length).map(function(e){return function(e){return e%360*Math.PI/180}(e)}),limitImg:null,limitImgOffset:new d(0,0)},i),n.area=e,n.areaRectangle=r,n.init(t),n}return a(s,m),t(s,[{key:"init",value:function(e){var s=this;this.canvas=ae(this.area,this.areaRectangle),this.context=this.canvas.getContext("2d"),this.draggables=e.map(function(e,t){var n=s.options.initAngles[t],i=d.elementSize(e).mult(.5),r=_(n,s.options.touchRadius,s.options.center.sub(i));return new se(e,{parent:s.area,bounding:new C(s.options.center.sub(i),s.options.touchRadius,s.getBoundAngle(t,!1),s.getBoundAngle(t,!0)),position:r,on:{"drag:move":function(){return s.draw()}}})}),this.isInit=!0,this.draw()}},{key:"updateAngles",value:function(){var n=this;this.angles=this.draggables.map(function(e){var t=e.getSize().mult(.5);return j(n.options.center.sub(t),e.position)})}},{key:"getBoundAngle",value:function(t,e){var n=this,i=e?1:-1;return function(){var e=(t+i)%n.angles.length;return e<0&&(e+=n.angles.length),S(n.angles[e]-i*n.options.boundAngle)}}},{key:"draw",value:function(){var n=this;this.isInit&&(this.updateAngles(),this.context.clearRect(0,0,this.areaRectangle.size.x,this.areaRectangle.size.y),this.draggables.forEach(function(e,t){n.drawArc(n.context,n.options.center,n.options.radius,t)}),this.draggables.forEach(function(e,t){n.drawLimitImg(t)}),this.emit("chart:draw"))}},{key:"createClone",value:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{};if(this.isInit){var r=b.fromElement(e,e),s=Object.assign({center:r.getCenter(),radius:r.getMinSide()/2,fillStyles:this.options.fillStyles},i),o=ae(e,r).getContext("2d"),a={draw:function(){o.clearRect(0,0,r.size.x,r.size.y),n.draggables.forEach(function(e,t){n.drawArc(o,s.center,s.radius,t)})}};return a.draw(),a}}},{key:"getFillStyle",value:function(e){return"function"==typeof this.options.fillStyles[e]&&(this.options.fillStyles[e]=this.options.fillStyles[e].call(this)),this.options.fillStyles[e]}},{key:"drawArc",value:function(e,t,n,i){var r=this.angles[i],s=this.angles[(i+1)%this.angles.length],o=this.getFillStyle(i);e.beginPath(),e.moveTo(t.x,t.y),e.arc(t.x,t.y,n,r,s,!1),e.lineTo(t.x,t.y),e.closePath(),e.fillStyle=o,e.fill()}},{key:"drawLimitImg",value:function(e){var t,n;if(this.options.limitImg&&(n=this.options.limitImg instanceof Array?this.options.limitImg[e]:this.options.limitImg),n){var i=S(this.angles[e]);t=(t=new d(0,-n.height/2)).add(this.options.limitImgOffset),this.context.translate(this.areaRectangle.size.x/2,this.areaRectangle.size.y/2),this.context.rotate(i),this.context.drawImage(n,t.x,t.y),this.context.setTransform(1,0,0,1,0,0)}}},{key:"getAnglesDiff",value:function(){var e=this.angles.slice(1),n=this.angles[0];return e.push(n),e.map(function(e){var t=S(e-n);return n=e,t})}},{key:"getPercent",value:function(){return this.getAnglesDiff().map(function(e){return e/(2*Math.PI)})}},{key:"getArcBisectrixs",value:function(){var n=this;return this.getAnglesDiff().map(function(e,t){return S(n.angles[t]+e/2)})}},{key:"getArcOnPoint",value:function(e){var t=j(this.options.center,e);if(x(this.options.center,e)>this.options.radius)return-1;var n,i,r=-1;for(n=0;n<this.angles.length;n++)(-1===r||this.angles[r]>this.angles[n])&&(r=n);for(n=0,i=r;n<this.angles.length&&!(t<this.angles[i]);i=(++n+r)%this.angles.length);return--i<0&&(i+=this.angles.length),i}},{key:"setAngles",value:function(e){var s=this;this.angles=e,this.draggables.forEach(function(e,t){var n=s.angles[t],i=e.getSize().mult(.5),r=_(n,s.options.touchRadius,s.options.center.sub(i));e.moveAndSave(r)}),this.draw()}},{key:"setActiveArc",value:function(e){var n=function(e,t){var n=[];return-1!==e&&(n.push(e),n.push((e+1)%t)),n}(e,this.draggables.length);this.activeArcIndex=e,this.draggables.forEach(function(e,t){e.enable=-1!==n.indexOf(t)}),this.draw()}}]),s}(),de={BoundToRectangle:M,BoundToElement:O,BoundToLineX:T,BoundToLineY:R,BoundToLine:z,BoundToCircle:L,BoundToArc:C},fe={getDistance:x,getXDifference:function(e,t){return Math.abs(e.x-t.x)},getYDifference:function(e,t){return Math.abs(e.y-t.y)},transformedSpaceDistanceFactory:w};e.ArcSlider=he,e.Chart=ge,e.Draggable=se,e.FloatLeftStrategy=Y,e.FloatRightStrategy=X,e.List=oe,e.NotCrossingStrategy=N,e.Point=d,e.Rectangle=d,e.Scope=H,e.Spider=ue,e.Target=G,e.addClass=f,e.bound=de,e.defaultScope=$,e.distance=fe,e.removeClass=v,e.scope=function(e){function t(e){i.addDraggable(e),se.emitter.interrupt()}function n(e){i.addTarget(e),se.emitter.interrupt()}var i=new H;return se.emitter.prependOn("draggable:create",t),G.emitter.prependOn("target:create",n),e.call(),se.emitter.unsubscribe("draggable:create",t),G.emitter.unsubscribe("target:create",n),i},e.scopes=F,Object.defineProperty(e,"__esModule",{value:!0})});

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Dragee",[],e):"object"==typeof exports?exports.Dragee=e():t.Dragee=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u}));var s=function(){function t(e,n){i(this,t),this.x=e,this.y=n}return r(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"negative",value:function(){return new t(-this.x,-this.y)}},{key:"compare",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}]),t}(),a=function(){function t(e,n){i(this,t),this.position=e,this.size=n}return r(t,[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new s(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new s(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var n=new s(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new t(n,new s(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n))}},{key:"and",value:function(e){var n=new s(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),i=new s(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n);return i.x<=0||i.y<=0?null:new t(n,i)}},{key:"includePoint",value:function(t){return!(this.position.x>t.x||this.position.x+this.size.x<t.x||this.position.y>t.y||this.position.y+this.size.y<t.y)}},{key:"includeRectangle",value:function(t){return this.includePoint(t.position)&&this.includePoint(t.getP3())}},{key:"moveToBound",value:function(t,e){var n,i;if(e)n=e;else{if(!(i=this.and(t)))return t;n=i.size.x>i.size.y?"y":"x"}var o=this.getCenter(),r=t.getCenter(),s=(o[n]>r[n]?-1:1)>0?this.position[n]+this.size[n]-t.position[n]:this.position[n]-(t.position[n]+t.size[n]);return t.position[n]=t.position[n]+s,t}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(t){(t=t||document.querySelector("ind")).style.left=this.position.x+"px",t.style.top=this.position.y+"px",t.style.width=this.size.x+"px",t.style.height=this.size.y+"px"}},{key:"growth",value:function(t){this.size=this.size.add(t),this.position=this.position.add(t.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}]),t}(),u={getDistance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},distance:function(t,e){return u.getDistance(t,e)},getXDifference:function(t,e){return Math.abs(t.x-e.x)},getYDifference:function(t,e){return Math.abs(t.y-e.y)},transformedSpaceDistanceFactory:function(t){return function(e,n){return Math.sqrt(Math.pow(t.x*Math.abs(e.x-n.x),2)+Math.pow(t.y*Math.abs(e.y-n.y),2))}},indexOfNearestPoint:function(t,e,n,i){var o,r,s,a=0;if(i=i||u.getDistance,0===t.length)return-1;for(o=i(t[0],e),r=0;r<t.length;r++)(s=i(t[r],e))<o&&(o=s,a=r);return n>=0&&o>n?-1:a},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},boundPoint:function(t,e,n){var i=Math.max(t.x,Math.min(e.x,n.x)),o=Math.max(t.y,Math.min(e.y,n.y));return new s(i,o)},directCrossing:function(t,e,n,i){var o,r,a,u,h,c;return n.x===i.x&&(o=n,n=t,t=o,o=i,i=e,e=o),t.x===e.x?(a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),c=t.x,new s(c,c*a+h)):(r=(e.y-t.y)/(e.x-t.x),u=(e.x*t.y-t.x*e.y)/(e.x-t.x),a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),new s(c=(u-h)/(a-r),c*r+u))},boundToSegment:function(t,e,n){var i,o;return(i=u.bound(Math.min(t.x,e.x),Math.max(t.x,e.x),n.x))!==n.x&&(o=i===t.x?t.y:e.y,n=new s(i,o)),(o=u.bound(Math.min(t.y,e.y),Math.max(t.y,e.y),n.y))!==n.y&&(i=o===t.y?t.x:e.x,n=new s(i,o)),n},boundToLine:function(t,e,n){var i=new s(n.x-t.x,n.y-t.y),o=new s(e.x-t.x,e.y-t.y),r=o.x*o.x+o.y*o.y,a=(i.x*o.x+i.y*o.y)/r;return new s(t.x+o.x*a,t.y+o.y*a)},getPointInLine:function(t,e,n){var i=e.x-t.x,o=e.y-t.y;return new s(t.x+n*i,t.y+n*o)},getPointInLineByLenght:function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=n/u.distance(t,e);return new s(t.x+r*i,t.y+r*o)},createRectangleFromElement:function(t,e,n,i){var o=this.getSizeOfElement(t,n);return new a(this.getOffset(t,e||t.parentNode,i),o)},getSumValueOfStyleRule:function(t,e){return e.reduce((function(e,n){return e+parseInt(window.getComputedStyle(t)[n]||0)}),0)},getSizeOfElement:function(t,e){var n=parseInt(window.getComputedStyle(t).width),i=parseInt(window.getComputedStyle(t).height);return e||(n+=this.getSumValueOfStyleRule(t,["padding-left","padding-right","border-left-width","border-right-width"]),i+=this.getSumValueOfStyleRule(t,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new s(n,i)},getOffset:function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return new s(n.left-i.left,n.top-i.top)},getPointFromRadialSystem:function(t,e,n){return(n=n||new s(0,0)).add(new s(e*Math.cos(t),e*Math.sin(t)))},addPointToBoundPoints:function(t,e,n){for(var i=t.filter((function(t){return t.y>e.y||(n?t.x<e.x:t.x>e.x)})),o=0;o<i.length;o++)if(e.y<i[o].y)return i.splice(o,0,e),i;return i.push(e),i},getAngle:function(t,e){var n=e.sub(t);return this.normalizeAngle(Math.atan2(n.y,n.x))},toRadian:function(t){return t%360*Math.PI/180},toDegree:function(t){return 180*t/Math.PI%360},boundAngle:function(t,e,n){return t<e&&n>t&&n<e?n:e<t&&(n<e||n>t)?n:this.getAngleDiff(t,n)<this.getAngleDiff(e,n)?t:e},getNearestAngle:function(t,e){var n,i,o,r=2*Math.PI;for(n=0;n<t.length;n++)r<(i=u.getAngleDiff(t[n],e))&&(r=i,o=t[n]);return o},getAngleDiff:function(t,e){var n=Math.min(t,e),i=Math.max(t,e);return Math.min(i-n,n+2*Math.PI-i)},normalizeAngle:function(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}}},function(t,e,n){"use strict";function i(t,e){(function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)","g").test(t.className)})(t,e)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function o(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}n.r(e);var r=n(6),s=n(2),a=n(8),u=n.n(a),h=n(7),c=n(0),f=n(4);function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"Draggable",(function(){return E})),n.d(e,"events",(function(){return y}));var g={Event:s.a},l="ontouchstart"in window,p={start:"mousedown",move:"mousemove",end:"mouseup"},v={start:"touchstart",move:"touchmove",end:"touchend"},y=l?v:p,m=[],b=u()("transform"),x=u()("transition");function w(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return!1}var E=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i.parent||Object(r.a)(e);this.targets=[],this.options=Object.assign({parent:o,bound:Object(h.b)(o,o),startFilter:!1,isContentBoxSize:!1,position:!1},i),"string"==typeof i.handler?this.handler=e.querySelector(i.handler)||e:this.handler=i.handler||e,this.onEnd=new g.Event(this,{isReverse:!0,isStopOnTrue:!0}),this.onMove=new g.Event(this),this.onStart=new g.Event(this),this.onEnd.add((function(){return n.move(n.position,0,!0,!0)})),i.onEnd&&this.onEnd.add(i.onEnd),i.onMove&&this.onMove.add(i.onMove),i.onStart&&this.onStart.add(i.onStart),this.element=e,this.bound=this.options.bound,function(t){if(m.some((function(e){return t.element===e.element})))throw"for this element Dragee.Draggable is already exist, don't create it twice ";m.push(t)}(this),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this._dragStart=this.dragStart.bind(this),this._dragMove=this.dragMove.bind(this),this._dragEnd=this.dragEnd.bind(this),this.handler.addEventListener(v.start,this._dragStart),this.handler.addEventListener(p.start,this._dragStart),this.bound.refresh&&this.bound.refresh()}},{key:"reinit",value:function(){this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this.bound.refresh&&this.bound.refresh()}},{key:"getSize",value:function(t){return c.a.getSizeOfElement(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new c.b(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setTranslate",value:function(t){this._transformPosition=t;var e=this.element.style[b],n=" translate3d("+t.x+"px,"+t.y+"px, 0px)";window.navigator.userAgent.indexOf("MSIE ")?(n=" translate("+t.x+"px,"+t.y+"px)",/translate\([^)]+\)/.test(e)?e=e.replace(/translate\([^)]+\)/,n):e+=n):/translate3d\([^)]+\)/.test(e)?e=e.replace(/translate3d\([^)]+\)/,n):e+=n,this.element.style[b]=e}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.clone(),n&&(this.fixPosition=t),this.determineDirection(t),this.position=t,x&&(this.element.style[x]=e+"ms"),this._setTranslate(t.sub(this.offset)),i||this.onMove.fire()}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(t){t=t.clone(),this.position=t,x&&(this.element.style[x]="0ms"),this._setTranslate(t.sub(this.offset))}},{key:"setZeroTransition",value:function(){x&&(this.element.style[x]="0ms")}},{key:"determineDirection",value:function(t){this.leftDirection=this.position.x<t.x,this.rightDirection=this.position.x>t.x,this.upDirection=this.position.y>t.y,this.downDirection=this.position.y<t.y}},{key:"dragStart",value:function(t){if(this.currentEvent=t,this._enable&&(!this.options.startFilter||this.options.startFilter(t))){var e=l&&t instanceof window.TouchEvent;this._startTouchPoint=new c.b(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY),this._startPosition=this.getPosition(),e&&(this._touchId=t.changedTouches[0].identifier),t.stopPropagation(),t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement?t.target.focus():t.preventDefault(),document.addEventListener(v.move,this._dragMove),document.addEventListener(p.move,this._dragMove),document.addEventListener(v.end,this._dragEnd),document.addEventListener(p.end,this._dragEnd),this.isDragging=!0,this.onStart.fire(t),i(this.element,"active"),this.onMove.fire(t)}}},{key:"dragMove",value:function(t){var e;this.currentEvent=t;var n=l&&t instanceof window.TouchEvent;if(!n||(e=w(t,this._touchId))){t.stopPropagation(),t.preventDefault();var i=new c.b(n?e.pageX:t.clientX,n?e.pageY:t.clientY),o=this._startPosition.add(i.sub(this._startTouchPoint));o=this.bound(o,this.getSize()),this.touchPoint=i,this.move(o,0)}}},{key:"dragEnd",value:function(t){l&&t instanceof window.TouchEvent&&!w(t,this._touchId)||(t.stopPropagation(),t.preventDefault(),this.onEnd.fire(t),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.isDragging=!1,o(this.element,"active"))}},{key:"getRectangle",value:function(){return new c.c(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bound.refresh&&this.bound.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(v.start,this._dragStart),this.handler.removeEventListener(p.start,this._dragStart),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.onEnd.reset(),this.onMove.reset()}},{key:"enable",get:function(){return this._enable},set:function(t){return t?o(this.element,"disable"):i(this.element,"disable"),this._enable=t}}])&&d(e.prototype,n),s&&d(e,s),t}();E.onCreate=new g.Event(E,{isReverse:!0,isStopOnTrue:!0}),E.onCreate.add((function(t){f.b.addDraggable(t)}))},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.funcs=[],this.context=t,this.isReverse=e.isReverse||!1,this.isStopOnTrue=e.isStopOnTrue||!1}i.prototype.fire=function(){for(var t,e=[].slice.call(arguments),n=this.isReverse?this.funcs.slice().reverse():this.funcs,i=0;i<n.length;i++)if(t=n[i].apply(this.context,e),this.isStopOnTrue&&t)return!0;return!this.isStopOnTrue},i.prototype.add=function(t){this.funcs.push(t)},i.prototype.unshift=function(t){this.funcs.unshift(t)},i.prototype.remove=function(t){var e=this.funcs.indexOf(t);-1!==e&&this.funcs.splice(e,1)},i.prototype.reset=function(t){this.funcs=[]},e.a=i},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--);return t}},function(t,e,n){"use strict";n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return d}));var i=n(3),o=n(2),r=n(1),s=n(5);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u={Event:o.a},h=[],c=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h.forEach((function(t){e&&e.forEach((function(e){Object(i.a)(t.draggables,e)})),n&&n.forEach((function(e){Object(i.a)(t.targets,e)}))})),this.draggables=e||[],this.targets=n||[],h.push(this),this.options={timeEnd:o.timeEnd||400},this.onChange=new u.Event(this),o.onChange&&this.onChange.add(o.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;this.draggables.forEach((function(e){e.onEnd.add((function(){return t.onEnd(e)}))}))}},{key:"addDraggable",value:function(t){var e=this;this.draggables.push(t),t.onEnd.unshift((function(){return e.onEnd(t)}))}},{key:"addTarget",value:function(t){this.targets.push(t)}},{key:"onEnd",value:function(t){var e=this.targets.filter((function(e){return-1!==e.draggables.indexOf(t)})).filter((function(e){return e.catchDraggable(t)})).sort((function(t,e){return t.getRectangle().getSquare()-e.getRectangle().getSquare()}));return e.length?e[0].onEnd(t):t.targets.length&&t.move(t.initPosition,this.options.timeEnd,!0,!0),this.onChange.fire(),!0}},{key:"reset",value:function(){this.targets.forEach((function(t){return t.reset()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()})),this.targets.forEach((function(t){return t.refresh()}))}},{key:"positions",get:function(){var t=this;return this.targets.map((function(e){return e.innerDraggables.map((function(e){return t.draggables.indexOf(e)}))}))},set:function(t){var e=this;if(t.length!==this.targets.length)throw"wrong array length";this.targets.forEach((function(t){return t.reset()})),t.forEach((function(t,n){t.forEach((function(t){e.targets[n].add(e.draggables[t])}))}))}}])&&a(e.prototype,n),o&&a(e,o),t}(),f=new c;function d(t){var e=new c,n=function(t){return e.addDraggable(t),!0},i=function(t){return e.addTarget(t),!0};return r.Draggable.onCreate.add(n),s.a.onCreate.add(i),t.call(),r.Draggable.onCreate.remove(n),s.a.onCreate.remove(i),e}function g(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.draggable||{},a=i.target||{},u=i.scope||{};o.parent=o.parent||t,a.parent=a.parent||t,e=Array.prototype.slice.call(e),n=Array.prototype.slice.call(n);var h=e.map((function(t){return new r.Draggable(t,o)})),f=n.map((function(t){return new s.a(t,h,a)}));return new c(h,f,u)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(9),o=n(3),r=n(6),s=n(2),a=n(0),u=n(4),h=n(10);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={Event:s.a},d=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,s=i.parent||Object(r.a)(e);this.options=Object.assign({timeEnd:200,timeExcange:400,parent:s},i),this.positioningStrategy=i.strategy||new h.a(this.getRectangle.bind(this),{radius:80,getDistance:a.a.transformedSpaceDistanceFactory({x:1,y:4}),removable:!0}),this.element=e,n.forEach((function(t){return t.targets.push(o)})),this.draggables=n,this.onAdd=new f.Event(this),this.beforeAdd=new f.Event(this),this.onRemove=new f.Event(this),i.onRemove&&this.onRemove.add(i.onRemove),i.onAdd&&this.onAdd.add(i.onAdd),i.beforeAdd&&this.beforeAdd.add(i.beforeAdd),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"positioning",value:function(t,e){return this.positioningStrategy.positioning(t,e)}},{key:"sorting",value:function(t,e,n){return this.positioningStrategy.sorting(t,e,n)}},{key:"init",value:function(){var t,e,n=this;this.innerDraggables=this.draggables.filter((function(t){for(var e=t.element.parentNode;e;){if(e===n.element)return!0;e=e.parentNode}return!1})),this.innerDraggables.length&&(e=Object(i.a)(this.innerDraggables.length),t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e),this.setPosition(t,e),this.innerDraggables.forEach((function(t){return n.onAdd.fire(t)})))}},{key:"getRectangle",value:function(){return a.a.createRectangleFromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(t){if(this.options.catchDraggable)return this.options.catchDraggable(this,t);var e=this.getRectangle();return t.getRectangle().getSquare()<e.getSquare()&&e.includePoint(t.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;u.e.forEach((function(e){return Object(o.a)(e.targets,t)}))}},{key:"refresh",value:function(){var t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(t,[],0)}},{key:"onEnd",value:function(t){var e=[];if(!this.getRectangle().includePoint(t.getPosition())){if(!this.getRectangle().includePoint(t.getCenter()))return!1;t.position=t.getCenter().clone()}this.beforeAdd.fire(t),this.innerDraggables=this.sorting(this.innerDraggables,[t],e);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e);return this.setPosition(n,e),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t),!0}},{key:"setPosition",value:function(t,e,n){var i=this;this.innerDraggables.slice(0).forEach((function(r,s){var a=t[s],u=n||0===n?n:-1!==e.indexOf(s)?i.options.timeEnd:i.options.timeExcange;a.removable?(r.move(r.initPosition,u,!0,!0),Object(o.a)(i.innerDraggables,r),i.onRemove.fire(r)):r.move(a.position,u,!0,!0)}))}},{key:"add",value:function(t,e){var n=this.innerDraggables.length;this.beforeAdd.fire(t),this.pushInnerDraggable(t);var i=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),n,t);this.setPosition(i,[n],e||0),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t)}},{key:"pushInnerDraggable",value:function(t){-1===this.innerDraggables.indexOf(t)&&this.innerDraggables.push(t)}},{key:"addRemoveOnMove",value:function(t){var e=this;t.onMove.add(this.removeHandler=function(){e.remove(t)}),this.onAdd.fire(t)}},{key:"remove",value:function(t){t.onMove.remove(this.removeHandler);var e=this.innerDraggables.indexOf(t);if(-1!==e){this.innerDraggables.splice(e,1);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(n,[]),this.onRemove.fire(t)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach((function(e){e.move(e.initPosition,0,!0,!0),t.onRemove.fire(e)})),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}])&&c(e.prototype,n),s&&c(e,s),t}();d.onCreate=new f.Event(d,{isReverse:!0,isStopOnTrue:!0}),d.onCreate.add((function(t){u.b.addTarget(t)}))},function(t,e,n){"use strict";function i(t){for(var e=t.parentNode;e.parentNode&&"static"===window.getComputedStyle(e).position;)e=e.parentNode;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n(0);function o(t,e){var n,o=function(){return n.apply(this,arguments)};return o.refresh=function(){var o;o=i.a.createRectangleFromElement(t,e),n=function(t,e){var n=t.clone(),i=o.getP3();return o.position.x>n.x&&(n.x=o.position.x),o.position.y>n.y&&(n.y=o.position.y),i.x<n.x+e.x&&(n.x=i.x-e.x),i.y<n.y+e.y&&(n.y=i.y-e.y),n}},o.refresh(),o}function r(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x)+Math.PI/2,o=Math.cos(n),r=Math.sin(n);return function(n,s){var a=new i.b(n.x+10*o,n.y+10*r),u=i.a.getPointInLineByLenght(e,t,s.x),h=i.a.directCrossing(t,e,n,a);return h=i.a.boundToLine(t,u,h)}}function s(t,e,n,o){return function(r,s){var a="function"==typeof n?n():n,u="function"==typeof n?o():o,h=i.a.getAngle(t,r);return h=i.a.normalizeAngle(h),h=i.a.boundAngle(a,u,h),i.a.getPointFromRadialSystem(h,e,t)}}},function(t,e,n){var i;
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */!function(o){"use strict";var r="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;function a(t){if(t){if("string"==typeof s[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=r.length;n<i;n++)if(e=r[n]+t,"string"==typeof s[e])return e}}void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){"use strict";function i(t,e,n){var i=[];if(void 0===e&&(e=t,t=0),void 0===n&&(n=1),n>0&&t>=e||n<0&&t<=e)return[];for(var o=t;n>0?o<e:o>e;o+=n)i.push(o);return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p}));var i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.rectangle=e,this.options=n}return f(t,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),t}(),g=function(t){function e(){return h(this,e),r(this,s(e).apply(this,arguments))}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,i=t.reduce((function(t,n,i){return-1===e.indexOf(i)&&t.push(i),t}),[]);return e.forEach((function(e){var o=t[e];i.forEach((function(e){var n=t[e];o=n.moveToBound(o)})),i.some((function(e){return!!t[e].and(o)}))||o.and(n.boundRect).getSquare()!==o.getSquare()?o.removable=!0:i.push(e)})),t}},{key:"sorting",value:function(t,e,n){var i=t.concat(e);return e.forEach((function(t){n.push(i.indexOf(t))})),i}}]),e}(d),l=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).options=Object.assign({removable:!0},o),n.radius=o.radius||80,n.paddingTopLeft=o.paddingTopLeft||new i.b(0,0),n.paddingBottomRight=o.paddingBottomRight||new i.b(0,0),n.yGapBetweenDraggables=o.yGapBetweenDraggables||0,n.getDistance=o.getDistance||i.a.getDistance,n.getPosition=o.getPosition||function(t){return t.position},n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=o.getP2(),s=[o.position];return t.forEach((function(t){for(var e,a=!1,u=0;u<s.length&&!(a=(e=new i.b(s[u].x,u>0?s[u-1].y+n.yGapBetweenDraggables:o.position.y).add(n.paddingTopLeft)).x+t.size.x<r.x);u++);a||(e=new i.b(o.position.x,s[s.length-1].y+n.yGapBetweenDraggables).add(n.paddingTopLeft)),t.position=e,n.options.removable&&t.getP3().y>o.getP3().y&&(t.removable=!0),s=i.a.addPointToBoundPoints(s,t.getP3().add(n.paddingBottomRight))})),t}},{key:"sorting",value:function(t,e,n){var o=this,r=t.concat(),s=t.map((function(t){return t.getPosition()}));return e.forEach((function(e){var n=i.a.indexOfNearestPoint(s,o.getPosition(e),o.radius,o.getDistance);n=-1===n?r.length:r.indexOf(t[n]),r.splice(n,0,e)})),e.forEach((function(t){n.push(r.indexOf(t))})),r}}]),e}(d),p=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).paddingTopRight=o.paddingTopRight||new i.b(5,5),n.paddingBottomLeft=o.paddingBottomLeft||new i.b(0,0),n.paddingTopNegRight=new i.b(-n.paddingTopRight.x,n.paddingTopRight.y),n.paddingBottomNegLeft=new i.b(-n.paddingBottomLeft.x,n.paddingBottomLeft.y),n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=[o.getRightTopPoint()];return t.forEach((function(t,e){for(var s,a=!1,u=0;u<r.length&&!(a=(s=new i.b(r[u].x-t.size.x,u>0?r[u-1].y:o.position.y).add(n.paddingTopNegRight)).x>t.position.x);u++);a||(s=new i.b(o.getP2().x,r[r.length-1].y)),t.position=s,n.options.removable&&t.getLeftBottomPoint().y>o.getP4().y&&(t.removable=!0),r=i.a.addPointToBoundPoints(r,t.getP4().add(n.paddingBottomNegLeft),!0)})),t}}]),e}(l)}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZWUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0RyYWdlZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtLmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy9zY29wZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvdGFyZ2V0LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2JvdW5kLmpzIiwid2VicGFjazovL0RyYWdlZS8uL25vZGVfbW9kdWxlcy9kZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9yYW5nZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvcG9zaXRpb25pbmcuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlBvaW50IiwieCIsInkiLCJ0aGlzIiwiayIsIlJlY3RhbmdsZSIsInBvc2l0aW9uIiwic2l6ZSIsImFkZCIsIm11bHQiLCJyZWN0IiwiTWF0aCIsIm1pbiIsIm1heCIsInN1YiIsInJlY3RhbmdsZSIsImluY2x1ZGVQb2ludCIsImdldFAzIiwiYXhpcyIsInNlbEF4aXMiLCJjcm9zc1JlY3RhbmdsZSIsImFuZCIsInRoaXNDZW50ZXIiLCJnZXRDZW50ZXIiLCJyZWN0Q2VudGVyIiwib2Zmc2V0IiwiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsIkdlb21ldHJ5IiwiZ2V0RGlzdGFuY2UiLCJwMSIsInAyIiwiZHgiLCJkeSIsInNxcnQiLCJkaXN0YW5jZSIsImdldFhEaWZmZXJlbmNlIiwiYWJzIiwiZ2V0WURpZmZlcmVuY2UiLCJ0cmFuc2Zvcm1lZFNwYWNlRGlzdGFuY2VGYWN0b3J5Iiwib3B0aW9ucyIsInBvdyIsImluZGV4T2ZOZWFyZXN0UG9pbnQiLCJhcnIiLCJ2YWwiLCJyYWRpdXMiLCJ0ZW1wIiwiaW5kZXgiLCJsZW5ndGgiLCJib3VuZCIsImJvdW5kUG9pbnQiLCJkaXJlY3RDcm9zc2luZyIsIkwxUDEiLCJMMVAyIiwiTDJQMSIsIkwyUDIiLCJrMSIsImsyIiwiYjEiLCJiMiIsImJvdW5kVG9TZWdtZW50IiwiTFAxIiwiTFAyIiwiUCIsImJvdW5kVG9MaW5lIiwiQSIsIkIiLCJBUCIsIkFCIiwiYWIyIiwiZ2V0UG9pbnRJbkxpbmUiLCJwZXJjZW50IiwiZ2V0UG9pbnRJbkxpbmVCeUxlbmdodCIsImxlbmdodCIsImNyZWF0ZVJlY3RhbmdsZUZyb21FbGVtZW50IiwicGFyZW50IiwiaXNDb250ZW50Qm94U2l6ZSIsImlzQ29uc2lkZXJUcmFuc2xhdGUiLCJnZXRTaXplT2ZFbGVtZW50IiwiZ2V0T2Zmc2V0IiwicGFyZW50Tm9kZSIsImdldFN1bVZhbHVlT2ZTdHlsZVJ1bGUiLCJlbGVtZW50IiwicnVsZXMiLCJyZWR1Y2UiLCJzdW0iLCJydWxlIiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZWxSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50UmVjdCIsImdldFBvaW50RnJvbVJhZGlhbFN5c3RlbSIsImFuZ2xlIiwiY2VudGVyIiwiY29zIiwic2luIiwiYWRkUG9pbnRUb0JvdW5kUG9pbnRzIiwiYm91bmRwb2ludHMiLCJwb2ludCIsImlzUmlnaHQiLCJyZXN1bHQiLCJmaWx0ZXIiLCJiUG9pbnQiLCJzcGxpY2UiLCJwdXNoIiwiZ2V0QW5nbGUiLCJkaWZmIiwibm9ybWFsaXplQW5nbGUiLCJhdGFuMiIsInRvUmFkaWFuIiwiUEkiLCJ0b0RlZ3JlZSIsImJvdW5kQW5nbGUiLCJnZXRBbmdsZURpZmYiLCJnZXROZWFyZXN0QW5nbGUiLCJhbHBoYSIsImJldGEiLCJtaW5BbmdsZSIsIm1heEFuZ2xlIiwiYWRkQ2xhc3MiLCJSZWdFeHAiLCJ0ZXN0IiwiY2xhc3NOYW1lIiwiaGFzQ2xhc3MiLCJyZXBsYWNlIiwicmVtb3ZlQ2xhc3MiLCJyZSIsIkRyYWdlZSIsIkV2ZW50IiwiaXNUb3VjaCIsIm1vdXNlRXZlbnRzIiwic3RhcnQiLCJtb3ZlIiwiZW5kIiwidG91Y2hFdmVudHMiLCJldmVudHMiLCJkcmFnZ2FibGVzIiwidHJhbnNmb3JtUHJvcGVydHkiLCJnZXRTdHlsZVByb3BlcnR5IiwidHJhbnNpdGlvblByb3BlcnR5IiwiZ2V0VG91Y2hCeUlEIiwidG91Y2hJZCIsImNoYW5nZWRUb3VjaGVzIiwiaWRlbnRpZmllciIsIkRyYWdnYWJsZSIsImdldERlZmF1bHRQYXJlbnQiLCJ0YXJnZXRzIiwiYXNzaWduIiwiYm91bmRUb0VsZW1lbnQiLCJzdGFydEZpbHRlciIsImhhbmRsZXIiLCJvbkVuZCIsImlzUmV2ZXJzZSIsImlzU3RvcE9uVHJ1ZSIsIm9uTW92ZSIsIm9uU3RhcnQiLCJkcmFnZ2FibGUiLCJzb21lIiwiZXhpc3RpbmciLCJwcmV2ZW50RG91YmxlSW5pdCIsIm9uQ3JlYXRlIiwiZmlyZSIsImluaXQiLCJfZW5hYmxlIiwiZml4UG9zaXRpb24iLCJpbml0UG9zaXRpb24iLCJfZHJhZ1N0YXJ0IiwiZHJhZ1N0YXJ0IiwiX2RyYWdNb3ZlIiwiZHJhZ01vdmUiLCJfZHJhZ0VuZCIsImRyYWdFbmQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsIl9yZWNhbHVsYXRlIiwiX3RyYW5zZm9ybVBvc2l0aW9uIiwiZ2V0U2l6ZSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZUNzcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJ0aW1lIiwiaXNGaXgiLCJpc1NpbGVudCIsImNsb25lIiwiZGV0ZXJtaW5lRGlyZWN0aW9uIiwiX3NldFRyYW5zbGF0ZSIsInNldFBvc2l0aW9uIiwiZ2V0UG9zaXRpb24iLCJsZWZ0RGlyZWN0aW9uIiwicmlnaHREaXJlY3Rpb24iLCJ1cERpcmVjdGlvbiIsImRvd25EaXJlY3Rpb24iLCJldmVudCIsImN1cnJlbnRFdmVudCIsImlzVG91Y2hFdmVudCIsIlRvdWNoRXZlbnQiLCJfc3RhcnRUb3VjaFBvaW50IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiX3N0YXJ0UG9zaXRpb24iLCJfdG91Y2hJZCIsInN0b3BQcm9wYWdhdGlvbiIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJmb2N1cyIsInByZXZlbnREZWZhdWx0IiwiaXNEcmFnZ2luZyIsInRvdWNoIiwidG91Y2hQb2ludCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXNldCIsImVuYWJsZSIsImRlZmF1bHRTY29wZSIsImFkZERyYWdnYWJsZSIsImNvbnRleHQiLCJmdW5jcyIsInJldFZhbHVlIiwiYXJncyIsInNsaWNlIiwiYXJndW1lbnRzIiwiZnMiLCJyZXZlcnNlIiwiYXBwbHkiLCJmIiwidW5zaGlmdCIsInJlbW92ZSIsIl9mIiwiYXJyYXkiLCJzY29wZXMiLCJTY29wZSIsImZvckVhY2giLCJzY29wZSIsInJlbW92ZUl0ZW0iLCJ0aW1lRW5kIiwib25DaGFuZ2UiLCJzaG90VGFyZ2V0cyIsImNhdGNoRHJhZ2dhYmxlIiwic29ydCIsImEiLCJiIiwiZ2V0UmVjdGFuZ2xlIiwiZ2V0U3F1YXJlIiwibWFwIiwiaW5uZXJEcmFnZ2FibGVzIiwicG9zaXRpb25zIiwidGFyZ2V0SW5kZXhlcyIsImZuIiwiY3VycmVudFNjb3BlIiwiYWRkRHJhZ2dhYmxlVG9TY29wZSIsImFkZFRhcmdldFRvU2NvcGUiLCJhZGRUYXJnZXQiLCJUYXJnZXQiLCJzY29wZUZhY3RvcnkiLCJwYXJlbnRFbGVtZW50IiwiZHJhZ2dhYmxlRWxlbWVudHMiLCJ0YXJnZXRFbGVtZW50cyIsImRyYWdnYWJsZU9wdGlvbnMiLCJ0YXJnZXRPcHRpb25zIiwic2NvcGVPcHRpb25zIiwiQXJyYXkiLCJ0aW1lRXhjYW5nZSIsInBvc2l0aW9uaW5nU3RyYXRlZ3kiLCJzdHJhdGVneSIsIkZsb2F0TGVmdFN0cmF0ZWd5IiwicmVtb3ZhYmxlIiwib25BZGQiLCJiZWZvcmVBZGQiLCJvblJlbW92ZSIsImluZGV4ZXNPZk5ldyIsInBvc2l0aW9uaW5nIiwib2xkRHJhZ2dhYmxlcyIsIm5ld0RyYWdnYWJsZXMiLCJpbmRleE9mTmV3cyIsInNvcnRpbmciLCJyZWN0YW5nbGVzIiwicmFuZ2UiLCJ0YXJnZXRSZWN0YW5nbGUiLCJuZXdEcmFnZ2FibGVzSW5kZXgiLCJhZGRSZW1vdmVPbk1vdmUiLCJwdXNoSW5uZXJEcmFnZ2FibGUiLCJyZW1vdmVIYW5kbGVyIiwicmV0RnVuYyIsImNhbGNQb2ludCIsInJlY3RQMiIsImNvc0JldGEiLCJzaW5CZXRhIiwicG9pbnQyIiwibmV3RW5kIiwicG9pbnRDcm9zc2luZyIsImJvdW5kVG9BcmMiLCJzdGFydEFnbGUiLCJlbmRBbmdsZSIsIl9zaXplIiwiYm91bmRTdGFydEFuZ2xlIiwiYm91bmRFbmR0QW5nbGUiLCJwcmVmaXhlcyIsInNwbGl0IiwiZG9jRWxlbVN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwicHJvcE5hbWUiLCJwcmVmaXhlZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibGVuIiwic3RvcCIsInN0ZXAiLCJCYXNpY1N0cmF0ZWd5IiwiTm90Q3Jvc3NpbmdTdHJhdGVneSIsInJlY3RhbmdsZUxpc3QiLCJpbmRleGVzT2ZOZXdzIiwic3RhdGljUmVjdGFuZ2xlSW5kZXhlcyIsImluZGV4ZXMiLCJfcmVjdCIsImluZGV4T2ZTdGF0aWMiLCJzdGF0aWNSZWN0IiwibW92ZVRvQm91bmQiLCJib3VuZFJlY3QiLCJvZGxEcmFnZ2FibGVzTGlzdCIsImNvbmNhdCIsInBhZGRpbmdUb3BMZWZ0IiwicGFkZGluZ0JvdHRvbVJpZ2h0IiwieUdhcEJldHdlZW5EcmFnZ2FibGVzIiwiX2luZGV4ZXNPZk5ld3MiLCJnZXRQMiIsImJvdW5kYXJ5UG9pbnRzIiwiaXNWYWxpZCIsIm5ld0xpc3QiLCJsaXN0T2xkUG9zaXRpb24iLCJuZXdEcmFnZ2FibGUiLCJGbG9hdFJpZ2h0U3RyYXRlZ3kiLCJwYWRkaW5nVG9wUmlnaHQiLCJwYWRkaW5nQm90dG9tTGVmdCIsInBhZGRpbmdUb3BOZWdSaWdodCIsInBhZGRpbmdCb3R0b21OZWdMZWZ0IiwiZ2V0UmlnaHRUb3BQb2ludCIsIl9pbmRleCIsImdldExlZnRCb3R0b21Qb2ludCIsImdldFA0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLFNBQVUsR0FBSUgsR0FDSyxpQkFBWkMsUUFDZEEsUUFBZ0IsT0FBSUQsSUFFcEJELEVBQWEsT0FBSUMsSUFSbkIsQ0FTR0ssUUFBUSxXQUNYLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FB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UixPQUFTLEdBQUdwRCxJQUc5Q1EsRUFBS0osU0FBV0EsRUFDWixFQUFLd0MsUUFBUXFPLFdBQWF6USxFQUFLaVYscUJBQXFCelYsRUFBSXFVLEVBQVVxQixRQUFRMVYsSUFDNUVRLEVBQUt5USxXQUFZLEdBRW5CNEQsRUFBaUI3UyxJQUFTcUUsc0JBQXNCd08sRUFBZ0JyVSxFQUFLa1YsUUFBUXBWLElBQUksRUFBS2dWLHVCQUF1QixNQUV4R3pCLE0sR0F2Q3NCN0MiLCJmaWxlIjoiZHJhZ2dhYmxlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiRHJhZ2VlXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkRyYWdlZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJEcmFnZWVcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG4gIH1cblxuICBhZGQocCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgcC54LCB0aGlzLnkgKyBwLnkpXG4gIH1cblxuICBzdWIocCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC0gcC54LCB0aGlzLnkgLSBwLnkpXG4gIH1cblxuICBtdWx0KGspIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAqIGssIHRoaXMueSAqIGspXG4gIH1cblxuICBuZWdhdGl2ZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KC10aGlzLngsIC10aGlzLnkpXG4gIH1cblxuICBjb21wYXJlKHApIHtcbiAgICByZXR1cm4gKHRoaXMueCA9PT0gcC54ICYmIHRoaXMueSA9PT0gcC55KVxuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSlcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBge3g9JHt0aGlzLnh9LHk9JHt0aGlzLnl9YFxuICB9XG59XG5cbmNsYXNzIFJlY3RhbmdsZSB7XG4gIGNvbnN0cnVjdG9yKHBvc2l0aW9uLCBzaXplKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgdGhpcy5zaXplID0gc2l6ZVxuICB9XG5cbiAgZ2V0UDEoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25cbiAgfVxuXG4gIGdldFAyKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLngsIHRoaXMucG9zaXRpb24ueSlcbiAgfVxuXG4gIGdldFAzKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnNpemUpXG4gIH1cblxuICBnZXRQNCgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnkpXG4gIH1cblxuICBnZXRDZW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWRkKHRoaXMuc2l6ZS5tdWx0KDAuNSkpXG4gIH1cblxuICBvcihyZWN0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUG9pbnQoTWF0aC5taW4odGhpcy5wb3NpdGlvbi54LCByZWN0LnBvc2l0aW9uLngpLCBNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnksIHJlY3QucG9zaXRpb24ueSkpXG4gICAgY29uc3Qgc2l6ZSA9IChuZXcgUG9pbnQoTWF0aC5tYXgodGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLngsIHJlY3QucG9zaXRpb24ueCArIHJlY3Quc2l6ZS54KSwgTWF0aC5tYXgodGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnksIHJlY3QucG9zaXRpb24ueSArIHJlY3Quc2l6ZS55KSkpLnN1Yihwb3NpdGlvbilcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZShwb3NpdGlvbiwgc2l6ZSlcbiAgfVxuXG4gIGFuZChyZWN0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUG9pbnQoTWF0aC5tYXgodGhpcy5wb3NpdGlvbi54LCByZWN0LnBvc2l0aW9uLngpLCBNYXRoLm1heCh0aGlzLnBvc2l0aW9uLnksIHJlY3QucG9zaXRpb24ueSkpXG4gICAgY29uc3Qgc2l6ZSA9IChuZXcgUG9pbnQoTWF0aC5taW4odGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLngsIHJlY3QucG9zaXRpb24ueCArIHJlY3Quc2l6ZS54KSwgTWF0aC5taW4odGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnksIHJlY3QucG9zaXRpb24ueSArIHJlY3Quc2l6ZS55KSkpLnN1Yihwb3NpdGlvbilcbiAgICBpZiAoc2l6ZS54IDw9IDAgfHwgc2l6ZS55IDw9IDApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHBvc2l0aW9uLCBzaXplKVxuICB9XG5cbiAgaW5jbHVkZVBvaW50KHApIHtcbiAgICByZXR1cm4gISh0aGlzLnBvc2l0aW9uLnggPiBwLnggfHwgdGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLnggPCBwLnggfHwgdGhpcy5wb3NpdGlvbi55ID4gcC55IHx8IHRoaXMucG9zaXRpb24ueSArIHRoaXMuc2l6ZS55IDwgcC55KVxuICB9XG5cbiAgaW5jbHVkZVJlY3RhbmdsZShyZWN0YW5nbGUpIHtcbiAgICByZXR1cm4gdGhpcy5pbmNsdWRlUG9pbnQocmVjdGFuZ2xlLnBvc2l0aW9uKSAmJiB0aGlzLmluY2x1ZGVQb2ludChyZWN0YW5nbGUuZ2V0UDMoKSlcbiAgfVxuXG4gIG1vdmVUb0JvdW5kKHJlY3QsIGF4aXMpIHtcbiAgICBsZXQgc2VsQXhpcywgY3Jvc3NSZWN0YW5nbGVcbiAgICBpZiAoYXhpcykge1xuICAgICAgc2VsQXhpcyA9IGF4aXNcbiAgICB9IGVsc2Uge1xuICAgICAgY3Jvc3NSZWN0YW5nbGUgPSB0aGlzLmFuZChyZWN0KVxuICAgICAgaWYgKCFjcm9zc1JlY3RhbmdsZSkge1xuICAgICAgICByZXR1cm4gcmVjdFxuICAgICAgfVxuICAgICAgc2VsQXhpcyA9IGNyb3NzUmVjdGFuZ2xlLnNpemUueCA+IGNyb3NzUmVjdGFuZ2xlLnNpemUueSA/ICd5JyA6ICd4J1xuICAgIH1cbiAgICBjb25zdCB0aGlzQ2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKVxuICAgIGNvbnN0IHJlY3RDZW50ZXIgPSByZWN0LmdldENlbnRlcigpXG4gICAgY29uc3Qgc2lnbiA9IHRoaXNDZW50ZXJbc2VsQXhpc10gPiByZWN0Q2VudGVyW3NlbEF4aXNdID8gLTEgOiAxXG4gICAgY29uc3Qgb2Zmc2V0ID0gc2lnbiA+IDAgPyB0aGlzLnBvc2l0aW9uW3NlbEF4aXNdICsgdGhpcy5zaXplW3NlbEF4aXNdIC0gcmVjdC5wb3NpdGlvbltzZWxBeGlzXSA6IHRoaXMucG9zaXRpb25bc2VsQXhpc10gLSAocmVjdC5wb3NpdGlvbltzZWxBeGlzXSArIHJlY3Quc2l6ZVtzZWxBeGlzXSlcbiAgICByZWN0LnBvc2l0aW9uW3NlbEF4aXNdID0gcmVjdC5wb3NpdGlvbltzZWxBeGlzXSArIG9mZnNldFxuICAgIHJldHVybiByZWN0XG4gIH1cblxuICBnZXRTcXVhcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZS54ICogdGhpcy5zaXplLnlcbiAgfVxuXG4gIHN0eWxlQXBwbHkoZWwpIHtcbiAgICBlbCA9IGVsIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2luZCcpXG4gICAgZWwuc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ueCArICdweCdcbiAgICBlbC5zdHlsZS50b3AgPSB0aGlzLnBvc2l0aW9uLnkgKyAncHgnXG4gICAgZWwuc3R5bGUud2lkdGggPSB0aGlzLnNpemUueCArICdweCdcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSB0aGlzLnNpemUueSArICdweCdcbiAgfVxuXG4gIGdyb3d0aChzaXplKSB7XG4gICAgdGhpcy5zaXplID0gdGhpcy5zaXplLmFkZChzaXplKVxuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uLmFkZChzaXplLm11bHQoLTAuNSkpXG4gIH1cblxuICBnZXRNaW5TaWRlKCkge1xuICAgIHJldHVybiBNYXRoLm1pbih0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpXG4gIH1cbn1cblxuLyoqKioqKioqKioqKioqKioqL1xuY29uc3QgR2VvbWV0cnkgPSB7XG4gIGdldERpc3RhbmNlKHAxLCBwMikge1xuICAgIGNvbnN0IGR4ID0gcDEueCAtIHAyLngsIGR5ID0gcDEueSAtIHAyLnlcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KVxuICB9LFxuICBkaXN0YW5jZShwMSwgcDIpIHtcbiAgICByZXR1cm4gR2VvbWV0cnkuZ2V0RGlzdGFuY2UocDEsIHAyKVxuICB9LFxuICBnZXRYRGlmZmVyZW5jZShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMocDEueCAtIHAyLngpXG4gIH0sXG4gIGdldFlEaWZmZXJlbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLmFicyhwMS55IC0gcDIueSlcbiAgfSxcbiAgdHJhbnNmb3JtZWRTcGFjZURpc3RhbmNlRmFjdG9yeShvcHRpb25zKSB7XG4gICAgcmV0dXJuIChwMSwgcDIpID0+IHtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoXG4gICAgICAgIE1hdGgucG93KG9wdGlvbnMueCAqIE1hdGguYWJzKHAxLnggLSBwMi54KSwgMikgK1xuICAgICAgICBNYXRoLnBvdyhvcHRpb25zLnkgKiBNYXRoLmFicyhwMS55IC0gcDIueSksIDIpXG4gICAgICApXG4gICAgfVxuICB9LFxuICBpbmRleE9mTmVhcmVzdFBvaW50KGFyciwgdmFsLCByYWRpdXMsIGdldERpc3RhbmNlKSB7XG4gICAgbGV0IHNpemUsIGluZGV4ID0gMCwgaSwgdGVtcFxuICAgIGdldERpc3RhbmNlID0gZ2V0RGlzdGFuY2UgfHwgR2VvbWV0cnkuZ2V0RGlzdGFuY2VcbiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHNpemUgPSBnZXREaXN0YW5jZShhcnJbMF0sIHZhbClcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wID0gZ2V0RGlzdGFuY2UoYXJyW2ldLCB2YWwpXG4gICAgICBpZiAodGVtcCA8IHNpemUpIHtcbiAgICAgICAgc2l6ZSA9IHRlbXBcbiAgICAgICAgaW5kZXggPSBpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyYWRpdXMgPj0gMCAmJiBzaXplID4gcmFkaXVzKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4XG4gIH0sXG4gIGJvdW5kKG1pbiwgbWF4LCB2YWwpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbCkpXG4gIH0sXG4gIGJvdW5kUG9pbnQobWluLCBtYXgsIHZhbCkge1xuICAgIGNvbnN0IHggPSBNYXRoLm1heChtaW4ueCwgTWF0aC5taW4obWF4LngsIHZhbC54KSlcbiAgICBjb25zdCB5ID0gTWF0aC5tYXgobWluLnksIE1hdGgubWluKG1heC55LCB2YWwueSkpXG4gICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5KVxuICB9LFxuICAgIC8vUmV0dXJuIGNyb3NzaW5nIHBvaW50IG9mIHR3byBsaW5lc1xuICBkaXJlY3RDcm9zc2luZyhMMVAxLCBMMVAyLCBMMlAxLCBMMlAyKSB7XG4gICAgbGV0IHRlbXAsIGsxLCBrMiwgYjEsIGIyLCB4LCB5XG4gICAgaWYgKEwyUDEueCA9PT0gTDJQMi54KSB7XG4gICAgICB0ZW1wID0gTDJQMVxuICAgICAgTDJQMSA9IEwxUDFcbiAgICAgIEwxUDEgPSB0ZW1wXG4gICAgICB0ZW1wID0gTDJQMlxuICAgICAgTDJQMiA9IEwxUDJcbiAgICAgIEwxUDIgPSB0ZW1wXG4gICAgfVxuICAgIGlmIChMMVAxLnggPT09IEwxUDIueCkge1xuICAgICAgazIgPSAoTDJQMi55IC0gTDJQMS55KSAvIChMMlAyLnggLSBMMlAxLngpXG4gICAgICBiMiA9IChMMlAyLnggKiBMMlAxLnkgLSBMMlAxLnggKiBMMlAyLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIHggPSBMMVAxLnhcbiAgICAgIHkgPSB4ICogazIgKyBiMlxuICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5KVxuICAgIH0gZWxzZSB7XG4gICAgICBrMSA9IChMMVAyLnkgLSBMMVAxLnkpIC8gKEwxUDIueCAtIEwxUDEueClcbiAgICAgIGIxID0gKEwxUDIueCAqIEwxUDEueSAtIEwxUDEueCAqIEwxUDIueSkgLyAoTDFQMi54IC0gTDFQMS54KVxuICAgICAgazIgPSAoTDJQMi55IC0gTDJQMS55KSAvIChMMlAyLnggLSBMMlAxLngpXG4gICAgICBiMiA9IChMMlAyLnggKiBMMlAxLnkgLSBMMlAxLnggKiBMMlAyLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIHggPSAoYjEgLSBiMikgLyAoazIgLSBrMSlcbiAgICAgIHkgPSB4ICogazEgKyBiMVxuICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5KVxuICAgIH1cbiAgfSxcbiAgYm91bmRUb1NlZ21lbnQoTFAxLCBMUDIsIFApIHtcbiAgICBsZXQgeCwgeVxuICAgIHggPSBHZW9tZXRyeS5ib3VuZChNYXRoLm1pbihMUDEueCwgTFAyLngpLCBNYXRoLm1heChMUDEueCwgTFAyLngpLCBQLngpXG4gICAgaWYgKHggIT09IFAueCkge1xuICAgICAgeSA9ICh4ID09PSBMUDEueCkgPyBMUDEueSA6IExQMi55XG4gICAgICBQID0gbmV3IFBvaW50KHgsIHkpXG4gICAgfVxuXG4gICAgeSA9IEdlb21ldHJ5LmJvdW5kKE1hdGgubWluKExQMS55LCBMUDIueSksIE1hdGgubWF4KExQMS55LCBMUDIueSksIFAueSlcbiAgICBpZiAoeSAhPT0gUC55KSB7XG4gICAgICB4ID0gKHkgPT09IExQMS55KSA/IExQMS54IDogTFAyLnhcbiAgICAgIFAgPSBuZXcgUG9pbnQoeCwgeSlcbiAgICB9XG5cbiAgICByZXR1cm4gUFxuICB9LFxuICBib3VuZFRvTGluZShBLCBCLCBQKSB7XG4gICAgY29uc3QgQVAgPSBuZXcgUG9pbnQoUC54IC0gQS54LCBQLnkgLSBBLnkpLFxuICAgICAgQUIgPSBuZXcgUG9pbnQoQi54IC0gQS54LCBCLnkgLSBBLnkpLFxuICAgICAgYWIyID0gQUIueCAqIEFCLnggKyBBQi55ICogQUIueSxcbiAgICAgIGFwX2FiID0gQVAueCAqIEFCLnggKyBBUC55ICogQUIueSxcbiAgICAgIHQgPSBhcF9hYiAvIGFiMlxuICAgIHJldHVybiBuZXcgUG9pbnQoQS54ICsgQUIueCAqIHQsIEEueSArIEFCLnkgKiB0KVxuICB9LFxuICBnZXRQb2ludEluTGluZShMUDEsIExQMiwgcGVyY2VudCkge1xuICAgIGNvbnN0IGR4ID0gTFAyLnggLSBMUDEueCwgZHkgPSBMUDIueSAtIExQMS55XG4gICAgcmV0dXJuIG5ldyBQb2ludChMUDEueCArIHBlcmNlbnQgKiBkeCwgTFAxLnkgKyBwZXJjZW50ICogZHkpXG4gIH0sXG4gIGdldFBvaW50SW5MaW5lQnlMZW5naHQoTFAxLCBMUDIsIGxlbmdodCkge1xuICAgIGNvbnN0IGR4ID0gTFAyLnggLSBMUDEueCwgZHkgPSBMUDIueSAtIExQMS55LCBwZXJjZW50ID0gbGVuZ2h0IC8gR2VvbWV0cnkuZGlzdGFuY2UoTFAxLCBMUDIpXG4gICAgcmV0dXJuIG5ldyBQb2ludChMUDEueCArIHBlcmNlbnQgKiBkeCwgTFAxLnkgKyBwZXJjZW50ICogZHkpXG4gIH0sXG4gIGNyZWF0ZVJlY3RhbmdsZUZyb21FbGVtZW50KGVsLCBwYXJlbnQsIGlzQ29udGVudEJveFNpemUsIGlzQ29uc2lkZXJUcmFuc2xhdGUpIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplT2ZFbGVtZW50KGVsLCBpc0NvbnRlbnRCb3hTaXplKVxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMuZ2V0T2Zmc2V0KGVsLCBwYXJlbnQgfHwgZWwucGFyZW50Tm9kZSwgaXNDb25zaWRlclRyYW5zbGF0ZSksIHNpemUpXG4gIH0sXG4gIGdldFN1bVZhbHVlT2ZTdHlsZVJ1bGUoZWxlbWVudCwgcnVsZXMpIHtcbiAgICByZXR1cm4gcnVsZXMucmVkdWNlKChzdW0sIHJ1bGUpID0+IHtcbiAgICAgIHJldHVybiBzdW0gKyBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVtydWxlXXx8MClcbiAgICB9LCAwKVxuICB9LFxuICBnZXRTaXplT2ZFbGVtZW50KGVsLCBpc0NvbnRlbnRCb3hTaXplKSB7XG4gICAgbGV0IHdpZHRoID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpWyd3aWR0aCddKSwgaGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpWydoZWlnaHQnXSlcbiAgICBpZiAoIWlzQ29udGVudEJveFNpemUpIHtcbiAgICAgIHdpZHRoICs9IHRoaXMuZ2V0U3VtVmFsdWVPZlN0eWxlUnVsZShlbCwgWydwYWRkaW5nLWxlZnQnLCAncGFkZGluZy1yaWdodCcsICdib3JkZXItbGVmdC13aWR0aCcsICdib3JkZXItcmlnaHQtd2lkdGgnXSlcbiAgICAgIGhlaWdodCArPSB0aGlzLmdldFN1bVZhbHVlT2ZTdHlsZVJ1bGUoZWwsIFsncGFkZGluZy10b3AnLCAncGFkZGluZy1ib3R0b20nLCAnYm9yZGVyLXRvcC13aWR0aCcsICdib3JkZXItYm90dG9tLXdpZHRoJ10pXG4gICAgfVxuICAgIHJldHVybiBuZXcgUG9pbnQod2lkdGgsIGhlaWdodClcbiAgfSxcbiAgZ2V0T2Zmc2V0KGVsLCBwYXJlbnQpIHtcbiAgICBjb25zdCBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgcGFyZW50UmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHJldHVybiBuZXcgUG9pbnQoZWxSZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQsIGVsUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcClcbiAgfSxcbiAgZ2V0UG9pbnRGcm9tUmFkaWFsU3lzdGVtKGFuZ2xlLCBsZW5ndGgsIGNlbnRlcikge1xuICAgIGNlbnRlciA9IGNlbnRlciB8fCBuZXcgUG9pbnQoMCwgMClcbiAgICByZXR1cm4gY2VudGVyLmFkZChuZXcgUG9pbnQobGVuZ3RoICogTWF0aC5jb3MoYW5nbGUpLCBsZW5ndGggKiBNYXRoLnNpbihhbmdsZSkpKVxuICB9LFxuICBhZGRQb2ludFRvQm91bmRQb2ludHMoYm91bmRwb2ludHMsIHBvaW50LCBpc1JpZ2h0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYm91bmRwb2ludHMuZmlsdGVyKGZ1bmN0aW9uKGJQb2ludCkge1xuICAgICAgcmV0dXJuICBiUG9pbnQueSA+IHBvaW50LnkgfHwgKGlzUmlnaHQgPyBiUG9pbnQueCA8IHBvaW50LnggOiBiUG9pbnQueCA+IHBvaW50LngpXG4gICAgfSlcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocG9pbnQueSA8IHJlc3VsdFtpXS55KSB7XG4gICAgICAgIHJlc3VsdC5zcGxpY2UoaSwgMCwgcG9pbnQpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnB1c2gocG9pbnQpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LFxuICBnZXRBbmdsZShwMSwgcDIpIHtcbiAgICBjb25zdCBkaWZmID0gcDIuc3ViKHAxKVxuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZUFuZ2xlKE1hdGguYXRhbjIoZGlmZi55LCBkaWZmLngpKVxuICB9LFxuICB0b1JhZGlhbihhbmdsZSkge1xuICAgIHJldHVybiAoKGFuZ2xlICUgMzYwKSAqIE1hdGguUEkgLyAxODApXG4gIH0sXG4gIHRvRGVncmVlKGFuZ2xlKSB7XG4gICAgcmV0dXJuIChhbmdsZSAqIDE4MCAvIE1hdGguUEkpICUgMzYwXG4gIH0sXG4gIGJvdW5kQW5nbGUobWluLCBtYXgsIHZhbCkge1xuICAgIGxldCBkbWluLCBkbWF4XG4gICAgaWYgKG1pbiA8IG1heCAmJiB2YWwgPiBtaW4gJiYgdmFsIDwgbWF4KSB7XG4gICAgICByZXR1cm4gdmFsXG4gICAgfSBlbHNlIGlmIChtYXggPCBtaW4gJiYgKHZhbCA8IG1heCB8fCB2YWwgPiBtaW4pKSB7XG4gICAgICByZXR1cm4gdmFsXG4gICAgfSBlbHNlIHtcbiAgICAgIGRtaW4gPSB0aGlzLmdldEFuZ2xlRGlmZihtaW4sIHZhbClcbiAgICAgIGRtYXggPSB0aGlzLmdldEFuZ2xlRGlmZihtYXgsIHZhbClcbiAgICAgIGlmIChkbWluIDwgZG1heCkge1xuICAgICAgICByZXR1cm4gbWluXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF4XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXROZWFyZXN0QW5nbGUoYXJyLCBhbmdsZSkge1xuICAgIGxldCBpLCB0ZW1wLCBkaWZmID0gTWF0aC5QSSAqIDIsIHZhbHVlXG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7aSsrKSB7XG4gICAgICB0ZW1wID0gR2VvbWV0cnkuZ2V0QW5nbGVEaWZmKGFycltpXSwgYW5nbGUpXG4gICAgICBpZiAoZGlmZiA8IHRlbXApIHtcbiAgICAgICAgZGlmZiA9IHRlbXBcbiAgICAgICAgdmFsdWUgPSBhcnJbaV1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH0sXG4gIGdldEFuZ2xlRGlmZihhbHBoYSwgYmV0YSkge1xuICAgIGNvbnN0IG1pbkFuZ2xlID0gTWF0aC5taW4oYWxwaGEsIGJldGEpLFxuICAgICAgbWF4QW5nbGUgPSAgTWF0aC5tYXgoYWxwaGEsIGJldGEpXG4gICAgcmV0dXJuIE1hdGgubWluKG1heEFuZ2xlIC0gbWluQW5nbGUsIG1pbkFuZ2xlICsgTWF0aC5QSSoyIC0gbWF4QW5nbGUpXG4gIH0sXG4gIG5vcm1hbGl6ZUFuZ2xlKHZhbCkge1xuICAgIHdoaWxlICh2YWwgPCAwKSB7XG4gICAgICB2YWwgKz0gMiAqIE1hdGguUElcbiAgICB9XG4gICAgd2hpbGUgKHZhbCA+IDIgKiBNYXRoLlBJKSB7XG4gICAgICB2YWwgLT0gMiAqIE1hdGguUElcbiAgICB9XG4gICAgcmV0dXJuIHZhbFxuICB9XG59XG5cbmV4cG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIEdlb21ldHJ5IH1cbiIsImV4cG9ydCBmdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCBjKSB7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGMgKyAnKFxcXFxzfCQpJywgJ2cnKVxuICByZXR1cm4gKHJlLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgYykge1xuICBpZiAoIWhhc0NsYXNzKGVsZW1lbnQsIGMpKSB7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSAoZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvKF4gfCAkKS9nLCAnJylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgYykge1xuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjICsgJyhcXFxcc3wkKScsICdnJylcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKHJlLCAnJDEnKS5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvKF4gfCAkKS9nLCAnJylcbn1cbiIsImltcG9ydCB7IGFkZENsYXNzLCByZW1vdmVDbGFzcyB9IGZyb20gJy4vdXRpbHMvY2xhc3NlcydcbmltcG9ydCBnZXREZWZhdWx0UGFyZW50IGZyb20gJy4vdXRpbHMvZ2V0LWRlZmF1bHQtcGFyZW50J1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgZ2V0U3R5bGVQcm9wZXJ0eSBmcm9tICdkZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHknXG5pbXBvcnQgeyBib3VuZFRvRWxlbWVudCB9IGZyb20gJy4vYm91bmQnXG5pbXBvcnQgeyBHZW9tZXRyeSwgUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJy4vZ2VvbWV0cnknXG5pbXBvcnQgeyBkZWZhdWx0U2NvcGUgfSBmcm9tICcuL3Njb3BlJ1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0gLy90b2RvIHJlbW92ZSBhZnRlciByZWZhY3RvcmVcblxuY29uc3QgaXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdywgbW91c2VFdmVudHMgPSB7XG4gICAgc3RhcnQ6ICdtb3VzZWRvd24nLFxuICAgIG1vdmU6ICdtb3VzZW1vdmUnLFxuICAgIGVuZDogJ21vdXNldXAnXG4gIH0sIHRvdWNoRXZlbnRzID0ge1xuICAgIHN0YXJ0OiAndG91Y2hzdGFydCcsXG4gICAgbW92ZTogJ3RvdWNobW92ZScsXG4gICAgZW5kOiAndG91Y2hlbmQnXG4gIH0sXG4gIGV2ZW50cyA9IGlzVG91Y2ggPyB0b3VjaEV2ZW50cyA6IG1vdXNlRXZlbnRzLFxuICBkcmFnZ2FibGVzID0gW10sXG4gIHRyYW5zZm9ybVByb3BlcnR5ID0gZ2V0U3R5bGVQcm9wZXJ0eSgndHJhbnNmb3JtJyksXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IGdldFN0eWxlUHJvcGVydHkoJ3RyYW5zaXRpb24nKVxuXG5mdW5jdGlvbiBnZXRUb3VjaEJ5SUQoZWxlbWVudCwgdG91Y2hJZCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZWxlbWVudC5jaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyID09PSB0b3VjaElkKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5jaGFuZ2VkVG91Y2hlc1tpXVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gcHJldmVudERvdWJsZUluaXQoZHJhZ2dhYmxlKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBcImZvciB0aGlzIGVsZW1lbnQgRHJhZ2VlLkRyYWdnYWJsZSBpcyBhbHJlYWR5IGV4aXN0LCBkb24ndCBjcmVhdGUgaXQgdHdpY2UgXCJcbiAgaWYgKGRyYWdnYWJsZXMuc29tZSgoZXhpc3RpbmcpID0+IGRyYWdnYWJsZS5lbGVtZW50ID09PSBleGlzdGluZy5lbGVtZW50KSkge1xuICAgIHRocm93IG1lc3NhZ2VcbiAgfVxuICBkcmFnZ2FibGVzLnB1c2goZHJhZ2dhYmxlKVxufVxuXG5mdW5jdGlvbiBhZGRUb0RlZmF1bHRTY29wZShkcmFnZ2FibGUpIHtcbiAgZGVmYXVsdFNjb3BlLmFkZERyYWdnYWJsZShkcmFnZ2FibGUpXG59XG5cbmNsYXNzIERyYWdnYWJsZSB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnM9e30pIHtcbiAgICBjb25zdCBwYXJlbnQgPSBvcHRpb25zLnBhcmVudCB8fCBnZXREZWZhdWx0UGFyZW50KGVsZW1lbnQpXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgYm91bmQ6IGJvdW5kVG9FbGVtZW50KHBhcmVudCwgcGFyZW50KSxcbiAgICAgIHN0YXJ0RmlsdGVyOiBmYWxzZSxcbiAgICAgIGlzQ29udGVudEJveFNpemU6IGZhbHNlLFxuICAgICAgcG9zaXRpb246IGZhbHNlXG4gICAgfSwgb3B0aW9ucylcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5oYW5kbGVyID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuaGFuZGxlcikgfHwgZWxlbWVudFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZXIgPSBvcHRpb25zLmhhbmRsZXIgfHwgZWxlbWVudFxuICAgIH1cblxuICAgIHRoaXMub25FbmQgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMsIHsgaXNSZXZlcnNlOiB0cnVlLCBpc1N0b3BPblRydWU6IHRydWUgfSlcbiAgICB0aGlzLm9uTW92ZSA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG5cbiAgICB0aGlzLm9uRW5kLmFkZCgoKSA9PiB0aGlzLm1vdmUodGhpcy5wb3NpdGlvbiwgMCwgdHJ1ZSwgdHJ1ZSkpXG5cbiAgICBpZiAob3B0aW9ucy5vbkVuZCkge1xuICAgICAgdGhpcy5vbkVuZC5hZGQob3B0aW9ucy5vbkVuZClcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25Nb3ZlKSB7XG4gICAgICB0aGlzLm9uTW92ZS5hZGQob3B0aW9ucy5vbk1vdmUpXG4gICAgfVxuICAgIGlmIChvcHRpb25zLm9uU3RhcnQpIHtcbiAgICAgIHRoaXMub25TdGFydC5hZGQob3B0aW9ucy5vblN0YXJ0KVxuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5ib3VuZCA9IHRoaXMub3B0aW9ucy5ib3VuZFxuICAgIHByZXZlbnREb3VibGVJbml0KHRoaXMpXG4gICAgRHJhZ2dhYmxlLm9uQ3JlYXRlLmZpcmUodGhpcylcbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLl9lbmFibGUgPSB0cnVlXG4gICAgdGhpcy5vZmZzZXQgPSBHZW9tZXRyeS5nZXRPZmZzZXQodGhpcy5lbGVtZW50LCB0aGlzLm9wdGlvbnMucGFyZW50LCB0cnVlKVxuICAgIHRoaXMuZml4UG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uXG4gICAgICB0aGlzLm1vdmUodGhpcy5pbml0UG9zaXRpb24sIDAsIHRydWUsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICB9XG4gICAgdGhpcy5fZHJhZ1N0YXJ0ID0gdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKVxuICAgIHRoaXMuX2RyYWdNb3ZlID0gdGhpcy5kcmFnTW92ZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5fZHJhZ0VuZCA9IHRoaXMuZHJhZ0VuZC5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5zdGFydCwgdGhpcy5fZHJhZ1N0YXJ0KVxuICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG5cbiAgICBpZiAodGhpcy5ib3VuZC5yZWZyZXNoKSB7XG4gICAgICB0aGlzLmJvdW5kLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuXG4gIHJlaW5pdCgpIHtcbiAgICB0aGlzLm9mZnNldCA9IEdlb21ldHJ5LmdldE9mZnNldCh0aGlzLmVsZW1lbnQsIHRoaXMub3B0aW9ucy5wYXJlbnQsIHRydWUpXG4gICAgdGhpcy5maXhQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb25cbiAgICAgIHRoaXMubW92ZSh0aGlzLmluaXRQb3NpdGlvbiwgMCwgdHJ1ZSwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIH1cblxuICAgIGlmICh0aGlzLmJvdW5kLnJlZnJlc2gpIHtcbiAgICAgIHRoaXMuYm91bmQucmVmcmVzaCgpXG4gICAgfVxuICB9XG5cbiAgZ2V0U2l6ZShfcmVjYWx1bGF0ZSkge1xuICAgIHJldHVybiBHZW9tZXRyeS5nZXRTaXplT2ZFbGVtZW50KHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLmlzQ29udGVudEJveFNpemUpXG4gIH1cblxuICBnZXRQb3NpdGlvbigpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5vZmZzZXQuYWRkKHRoaXMuX3RyYW5zZm9ybVBvc2l0aW9uIHx8IG5ldyBQb2ludCgwLCAwKSlcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblxuICB9XG5cbiAgZ2V0Q2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLmdldFNpemUoKS5tdWx0KDAuNSkpXG4gIH1cblxuICBfc2V0VHJhbnNsYXRlKHBvaW50KSB7XG4gICAgdGhpcy5fdHJhbnNmb3JtUG9zaXRpb24gPSBwb2ludFxuXG4gICAgbGV0IHRyYW5zZm9ybSA9IHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV1cbiAgICBsZXQgdHJhbnNsYXRlQ3NzID0gJyB0cmFuc2xhdGUzZCgnICsgcG9pbnQueCArICdweCwnICsgcG9pbnQueSArICdweCwgMHB4KSdcblxuICAgIGNvbnN0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnRcbiAgICBjb25zdCBtc2llID0gdWEuaW5kZXhPZignTVNJRSAnKVxuXG4gICAgaWYgKG1zaWUpIHtcbiAgICAgIHRyYW5zbGF0ZUNzcyA9ICcgdHJhbnNsYXRlKCcgKyBwb2ludC54ICsgJ3B4LCcgKyBwb2ludC55ICsgJ3B4KSdcbiAgICAgIGlmICghL3RyYW5zbGF0ZVxcKFteKV0rXFwpLy50ZXN0KHRyYW5zZm9ybSkpIHtcbiAgICAgICAgdHJhbnNmb3JtICs9IHRyYW5zbGF0ZUNzc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtLnJlcGxhY2UoL3RyYW5zbGF0ZVxcKFteKV0rXFwpLywgdHJhbnNsYXRlQ3NzKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIS90cmFuc2xhdGUzZFxcKFteKV0rXFwpLy50ZXN0KHRyYW5zZm9ybSkpIHtcbiAgICAgICAgdHJhbnNmb3JtICs9IHRyYW5zbGF0ZUNzc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtLnJlcGxhY2UoL3RyYW5zbGF0ZTNkXFwoW14pXStcXCkvLCB0cmFuc2xhdGVDc3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9IHRyYW5zZm9ybVxuICB9XG5cbiAgbW92ZShwb2ludCwgdGltZT0wLCBpc0ZpeD1mYWxzZSwgaXNTaWxlbnQ9ZmFsc2UpIHtcbiAgICBwb2ludCA9IHBvaW50LmNsb25lKClcbiAgICBpZiAoaXNGaXgpIHtcbiAgICAgIHRoaXMuZml4UG9zaXRpb24gPSBwb2ludFxuICAgIH1cblxuICAgIHRoaXMuZGV0ZXJtaW5lRGlyZWN0aW9uKHBvaW50KVxuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvaW50XG5cbiAgICBpZiAodHJhbnNpdGlvblByb3BlcnR5KSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNpdGlvblByb3BlcnR5XSA9IHRpbWUgKyAnbXMnXG4gICAgfVxuXG4gICAgdGhpcy5fc2V0VHJhbnNsYXRlKHBvaW50LnN1Yih0aGlzLm9mZnNldCkpXG4gICAgaWYgKCFpc1NpbGVudCkge1xuICAgICAgdGhpcy5vbk1vdmUuZmlyZSgpXG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaFBvc2l0aW9uICgpIHtcbiAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuZ2V0UG9zaXRpb24oKSlcbiAgfVxuXG4gIHNldFBvc2l0aW9uKHBvaW50KSB7XG4gICAgcG9pbnQgPSBwb2ludC5jbG9uZSgpXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvaW50XG5cbiAgICBpZiAodHJhbnNpdGlvblByb3BlcnR5KSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNpdGlvblByb3BlcnR5XSA9ICcwbXMnXG4gICAgfVxuXG4gICAgdGhpcy5fc2V0VHJhbnNsYXRlKHBvaW50LnN1Yih0aGlzLm9mZnNldCkpXG4gIH1cblxuICBzZXRaZXJvVHJhbnNpdGlvbigpIHtcbiAgICBpZiAodHJhbnNpdGlvblByb3BlcnR5KSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNpdGlvblByb3BlcnR5XSA9ICcwbXMnXG4gICAgfVxuICB9XG5cbiAgZGV0ZXJtaW5lRGlyZWN0aW9uKHBvaW50KSB7XG4gICAgdGhpcy5sZWZ0RGlyZWN0aW9uID0gKHRoaXMucG9zaXRpb24ueCA8IHBvaW50LngpXG4gICAgdGhpcy5yaWdodERpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnggPiBwb2ludC54KVxuICAgIHRoaXMudXBEaXJlY3Rpb24gPSAodGhpcy5wb3NpdGlvbi55ID4gcG9pbnQueSlcbiAgICB0aGlzLmRvd25EaXJlY3Rpb24gPSAodGhpcy5wb3NpdGlvbi55IDwgcG9pbnQueSlcbiAgfVxuXG4gIGRyYWdTdGFydChldmVudCkge1xuICAgIHRoaXMuY3VycmVudEV2ZW50ID0gZXZlbnRcbiAgICBpZiAoIXRoaXMuX2VuYWJsZSB8fCAodGhpcy5vcHRpb25zLnN0YXJ0RmlsdGVyICYmICF0aGlzLm9wdGlvbnMuc3RhcnRGaWx0ZXIoZXZlbnQpKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgaXNUb3VjaEV2ZW50ID0gKGlzVG91Y2ggJiYgKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlRvdWNoRXZlbnQpKVxuXG4gICAgdGhpcy5fc3RhcnRUb3VjaFBvaW50ID0gbmV3IFBvaW50KGlzVG91Y2hFdmVudCA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZXZlbnQuY2xpZW50WCwgaXNUb3VjaEV2ZW50ID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBldmVudC5jbGllbnRZKVxuXG4gICAgdGhpcy5fc3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgIGlmIChpc1RvdWNoRXZlbnQpIHtcbiAgICAgIHRoaXMuX3RvdWNoSWQgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyXG4gICAgfVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgaWYgKCEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbnB1dEVsZW1lbnQgfHxcbiAgICAgICAgICBldmVudC50YXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElucHV0RWxlbWVudCkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnQudGFyZ2V0LmZvY3VzKClcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcblxuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWVcblxuICAgIHRoaXMub25TdGFydC5maXJlKGV2ZW50KVxuICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgJ2FjdGl2ZScpXG4gICAgdGhpcy5vbk1vdmUuZmlyZShldmVudClcbiAgfVxuXG4gIGRyYWdNb3ZlKGV2ZW50KSB7XG4gICAgdGhpcy5jdXJyZW50RXZlbnQgPSBldmVudFxuICAgIGxldCB0b3VjaFxuXG4gICAgY29uc3QgaXNUb3VjaEV2ZW50ID0gKGlzVG91Y2ggJiYgKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlRvdWNoRXZlbnQpKVxuICAgIGlmIChpc1RvdWNoRXZlbnQpIHtcbiAgICAgIHRvdWNoID0gZ2V0VG91Y2hCeUlEKGV2ZW50LCB0aGlzLl90b3VjaElkKVxuXG4gICAgICBpZiAoIXRvdWNoKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHRvdWNoUG9pbnQgPSBuZXcgUG9pbnQoaXNUb3VjaEV2ZW50ID8gdG91Y2gucGFnZVggOiBldmVudC5jbGllbnRYLCBpc1RvdWNoRXZlbnQgPyB0b3VjaC5wYWdlWSA6IGV2ZW50LmNsaWVudFkpXG4gICAgbGV0IHBvaW50ID0gdGhpcy5fc3RhcnRQb3NpdGlvbi5hZGQodG91Y2hQb2ludC5zdWIodGhpcy5fc3RhcnRUb3VjaFBvaW50KSlcbiAgICBwb2ludCA9IHRoaXMuYm91bmQocG9pbnQsIHRoaXMuZ2V0U2l6ZSgpKVxuICAgIHRoaXMudG91Y2hQb2ludCA9IHRvdWNoUG9pbnRcbiAgICB0aGlzLm1vdmUocG9pbnQsIDApXG4gIH1cblxuICBkcmFnRW5kKGV2ZW50KSB7XG4gICAgY29uc3QgaXNUb3VjaEV2ZW50ID0gKGlzVG91Y2ggJiYgKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlRvdWNoRXZlbnQpKVxuXG4gICAgaWYgKGlzVG91Y2hFdmVudCAmJiAhZ2V0VG91Y2hCeUlEKGV2ZW50LCB0aGlzLl90b3VjaElkKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5vbkVuZC5maXJlKGV2ZW50KVxuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG5cbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZVxuICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2FjdGl2ZScpXG4gIH1cblxuICBnZXRSZWN0YW5nbGUoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy5wb3NpdGlvbiwgdGhpcy5nZXRTaXplKCkpXG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMuZ2V0U2l6ZSh0cnVlKVxuICAgIGlmICh0aGlzLmJvdW5kLnJlZnJlc2gpIHtcbiAgICAgIHRoaXMuYm91bmQucmVmcmVzaCgpXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5zdGFydCwgdGhpcy5fZHJhZ1N0YXJ0KVxuICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuXG4gICAgdGhpcy5vbkVuZC5yZXNldCgpXG4gICAgdGhpcy5vbk1vdmUucmVzZXQoKVxuICB9XG5cbiAgZ2V0IGVuYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlXG4gIH1cblxuICBzZXQgZW5hYmxlKGVuYWJsZSkge1xuICAgIGlmIChlbmFibGUpIHtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2Rpc2FibGUnKVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnQsICdkaXNhYmxlJylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlID0gZW5hYmxlXG4gIH1cbn1cblxuRHJhZ2dhYmxlLm9uQ3JlYXRlID0gbmV3IERyYWdlZS5FdmVudChEcmFnZ2FibGUsIHsgaXNSZXZlcnNlOiB0cnVlLCBpc1N0b3BPblRydWU6IHRydWUgfSlcbkRyYWdnYWJsZS5vbkNyZWF0ZS5hZGQoYWRkVG9EZWZhdWx0U2NvcGUpXG5cbmV4cG9ydCB7IERyYWdnYWJsZSwgZXZlbnRzIH1cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBFdmVudChjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgdGhpcy5mdW5jcyA9IFtdXG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgdGhpcy5pc1JldmVyc2UgPSBvcHRpb25zLmlzUmV2ZXJzZSB8fCBmYWxzZVxuICB0aGlzLmlzU3RvcE9uVHJ1ZSA9IG9wdGlvbnMuaXNTdG9wT25UcnVlIHx8IGZhbHNlXG59XG5cbkV2ZW50LnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgY29uc3QgZnMgPSB0aGlzLmlzUmV2ZXJzZSA/IHRoaXMuZnVuY3Muc2xpY2UoKS5yZXZlcnNlKCkgOiB0aGlzLmZ1bmNzXG4gIGxldCByZXRWYWx1ZVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnMubGVuZ3RoOyBpKyspIHtcbiAgICByZXRWYWx1ZSA9IGZzW2ldLmFwcGx5KHRoaXMuY29udGV4dCwgYXJncylcbiAgICBpZiAodGhpcy5pc1N0b3BPblRydWUgJiYgcmV0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiAhdGhpcy5pc1N0b3BPblRydWVcbn1cblxuRXZlbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGYpIHtcbiAgdGhpcy5mdW5jcy5wdXNoKGYpXG59XG5cbkV2ZW50LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24oZikge1xuICB0aGlzLmZ1bmNzLnVuc2hpZnQoZilcbn1cblxuRXZlbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGYpIHtcbiAgY29uc3QgaW5kZXggPSB0aGlzLmZ1bmNzLmluZGV4T2YoZilcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHRoaXMuZnVuY3Muc3BsaWNlKGluZGV4LCAxKVxuICB9XG59XG5cbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKF9mKSB7XG4gIHRoaXMuZnVuY3MgPSBbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudFxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXJyYXksIHZhbCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWwpIHtcbiAgICAgIGFycmF5LnNwbGljZShpLCAxKVxuICAgICAgaS0tXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJheVxufVxuIiwiaW1wb3J0IHJlbW92ZUl0ZW0gZnJvbSAnLi91dGlscy9yZW1vdmUtYXJyYXktaXRlbSdcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50J1xuaW1wb3J0IHsgRHJhZ2dhYmxlIH0gZnJvbSAnLi9kcmFnZ2FibGUnXG5pbXBvcnQgeyBUYXJnZXQgfSBmcm9tICcuL3RhcmdldCdcblxuY29uc3QgRHJhZ2VlID0geyBFdmVudCB9IC8vdG9kbyByZW1vdmUgYWZ0ZXIgcmVmYWN0b3JlXG5cbmNvbnN0IHNjb3BlcyA9IFtdXG5cbmNsYXNzIFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZHJhZ2dhYmxlcywgdGFyZ2V0cywgb3B0aW9ucz17fSkge1xuICAgIHNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4ge1xuICAgICAgaWYgKGRyYWdnYWJsZXMpIHtcbiAgICAgICAgZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgICAgICByZW1vdmVJdGVtKHNjb3BlLmRyYWdnYWJsZXMsIGRyYWdnYWJsZSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldHMpIHtcbiAgICAgICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcbiAgICAgICAgICByZW1vdmVJdGVtKHNjb3BlLnRhcmdldHMsIHRhcmdldClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gZHJhZ2dhYmxlcyB8fCBbXVxuICAgIHRoaXMudGFyZ2V0cyA9IHRhcmdldHMgfHwgW11cbiAgICBzY29wZXMucHVzaCh0aGlzKVxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHRpbWVFbmQ6IChvcHRpb25zLnRpbWVFbmQpIHx8IDQwMFxuICAgIH1cblxuICAgIHRoaXMub25DaGFuZ2UgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG4gICAgaWYgKG9wdGlvbnMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMub25DaGFuZ2UuYWRkKG9wdGlvbnMub25DaGFuZ2UpXG4gICAgfVxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5vbkVuZC5hZGQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkVuZChkcmFnZ2FibGUpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBhZGREcmFnZ2FibGUoZHJhZ2dhYmxlKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLnB1c2goZHJhZ2dhYmxlKVxuICAgIGRyYWdnYWJsZS5vbkVuZC51bnNoaWZ0KCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm9uRW5kKGRyYWdnYWJsZSlcbiAgICB9KVxuICB9XG5cbiAgYWRkVGFyZ2V0KHRhcmdldCkge1xuICAgIHRoaXMudGFyZ2V0cy5wdXNoKHRhcmdldClcbiAgfVxuXG4gIG9uRW5kKGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IHNob3RUYXJnZXRzID0gdGhpcy50YXJnZXRzLmZpbHRlcigodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpICE9PSAtMVxuICAgIH0pLmZpbHRlcigodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LmNhdGNoRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbiAgICB9KS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYS5nZXRSZWN0YW5nbGUoKS5nZXRTcXVhcmUoKSAtIGIuZ2V0UmVjdGFuZ2xlKCkuZ2V0U3F1YXJlKClcbiAgICB9KVxuXG4gICAgaWYgKHNob3RUYXJnZXRzLmxlbmd0aCkge1xuICAgICAgc2hvdFRhcmdldHNbMF0ub25FbmQoZHJhZ2dhYmxlKVxuICAgIH0gZWxzZSBpZiAoZHJhZ2dhYmxlLnRhcmdldHMubGVuZ3RoKSB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUVuZCwgdHJ1ZSwgdHJ1ZSlcbiAgICB9XG4gICAgdGhpcy5vbkNoYW5nZS5maXJlKClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy50YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnJlc2V0KCkpXG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5yZWZyZXNoKCkpXG4gICAgdGhpcy50YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnJlZnJlc2goKSlcbiAgfVxuXG4gIGdldCBwb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5tYXAoKHRhcmdldCkgPT4ge1xuICAgICAgcmV0dXJuIHRhcmdldC5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkpXG4gICAgfSlcbiAgfVxuXG4gIHNldCBwb3NpdGlvbnMocG9zaXRpb25zKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9ICd3cm9uZyBhcnJheSBsZW5ndGgnXG4gICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT09IHRoaXMudGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHRhcmdldC5yZXNldCgpKVxuXG4gICAgICBwb3NpdGlvbnMuZm9yRWFjaCgodGFyZ2V0SW5kZXhlcywgaSkgPT4ge1xuICAgICAgICB0YXJnZXRJbmRleGVzLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICAgICAgdGhpcy50YXJnZXRzW2ldLmFkZCh0aGlzLmRyYWdnYWJsZXNbaW5kZXhdKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbWVzc2FnZVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0U2NvcGUgPSBuZXcgU2NvcGUoKVxuXG5mdW5jdGlvbiBzY29wZShmbikge1xuICBjb25zdCBjdXJyZW50U2NvcGUgPSBuZXcgU2NvcGUoKVxuICBjb25zdCBhZGREcmFnZ2FibGVUb1Njb3BlID0gZnVuY3Rpb24oZHJhZ2dhYmxlKSB7XG4gICAgY3VycmVudFNjb3BlLmFkZERyYWdnYWJsZShkcmFnZ2FibGUpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBjb25zdCBhZGRUYXJnZXRUb1Njb3BlID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgY3VycmVudFNjb3BlLmFkZFRhcmdldCh0YXJnZXQpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIERyYWdnYWJsZS5vbkNyZWF0ZS5hZGQoYWRkRHJhZ2dhYmxlVG9TY29wZSlcbiAgVGFyZ2V0Lm9uQ3JlYXRlLmFkZChhZGRUYXJnZXRUb1Njb3BlKVxuICBmbi5jYWxsKClcbiAgRHJhZ2dhYmxlLm9uQ3JlYXRlLnJlbW92ZShhZGREcmFnZ2FibGVUb1Njb3BlKVxuICBUYXJnZXQub25DcmVhdGUucmVtb3ZlKGFkZFRhcmdldFRvU2NvcGUpXG4gIHJldHVybiBjdXJyZW50U2NvcGVcbn1cblxuZnVuY3Rpb24gc2NvcGVGYWN0b3J5KHBhcmVudEVsZW1lbnQsIGRyYWdnYWJsZUVsZW1lbnRzLCB0YXJnZXRFbGVtZW50cywgb3B0aW9ucz17fSkge1xuICBjb25zdCBkcmFnZ2FibGVPcHRpb25zID0gb3B0aW9ucy5kcmFnZ2FibGUgfHwge31cbiAgY29uc3QgdGFyZ2V0T3B0aW9ucyA9IG9wdGlvbnMudGFyZ2V0IHx8IHt9XG4gIGNvbnN0IHNjb3BlT3B0aW9ucyA9IG9wdGlvbnMuc2NvcGUgfHwge31cbiAgZHJhZ2dhYmxlT3B0aW9ucy5wYXJlbnQgPSBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCB8fCBwYXJlbnRFbGVtZW50XG4gIHRhcmdldE9wdGlvbnMucGFyZW50ID0gdGFyZ2V0T3B0aW9ucy5wYXJlbnQgfHwgcGFyZW50RWxlbWVudFxuICBkcmFnZ2FibGVFbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRyYWdnYWJsZUVsZW1lbnRzKVxuICB0YXJnZXRFbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRhcmdldEVsZW1lbnRzKVxuXG4gIGNvbnN0IGRyYWdnYWJsZXMgPSBkcmFnZ2FibGVFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IERyYWdnYWJsZShlbGVtZW50LCBkcmFnZ2FibGVPcHRpb25zKVxuICB9KVxuXG4gIGNvbnN0IHRhcmdldHMgPSB0YXJnZXRFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IFRhcmdldChlbGVtZW50LCBkcmFnZ2FibGVzLCB0YXJnZXRPcHRpb25zKVxuICB9KVxuICByZXR1cm4gbmV3IFNjb3BlKGRyYWdnYWJsZXMsIHRhcmdldHMsIHNjb3BlT3B0aW9ucylcbn1cblxuZXhwb3J0IHsgc2NvcGVzLCBkZWZhdWx0U2NvcGUsIFNjb3BlLCBzY29wZUZhY3RvcnksIHNjb3BlIH1cbiIsImltcG9ydCByYW5nZSBmcm9tICcuL3V0aWxzL3JhbmdlLmpzJ1xuaW1wb3J0IHJlbW92ZUl0ZW0gZnJvbSAnLi91dGlscy9yZW1vdmUtYXJyYXktaXRlbSdcbmltcG9ydCBnZXREZWZhdWx0UGFyZW50IGZyb20gJy4vdXRpbHMvZ2V0LWRlZmF1bHQtcGFyZW50J1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnknXG5pbXBvcnQgeyBzY29wZXMsIGRlZmF1bHRTY29wZSB9IGZyb20gJy4vc2NvcGUnXG5cbmltcG9ydCB7IEZsb2F0TGVmdFN0cmF0ZWd5IH0gZnJvbSAnLi9wb3NpdGlvbmluZydcblxuY29uc3QgRHJhZ2VlID0geyBFdmVudCB9Ly90b2RvIHJlbW92ZSBhZnRlciByZWZhY3RvcmVcblxuY29uc3QgYWRkVG9EZWZhdWx0U2NvcGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgZGVmYXVsdFNjb3BlLmFkZFRhcmdldCh0YXJnZXQpXG59XG5cbmNsYXNzIFRhcmdldCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGRyYWdnYWJsZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNcbiAgICBjb25zdCBwYXJlbnQgPSBvcHRpb25zLnBhcmVudCB8fCBnZXREZWZhdWx0UGFyZW50KGVsZW1lbnQpXG5cbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHRpbWVFbmQ6IDIwMCxcbiAgICAgIHRpbWVFeGNhbmdlOiA0MDAsXG4gICAgICBwYXJlbnQ6IHBhcmVudFxuICAgIH0sIG9wdGlvbnMpXG5cbiAgICB0aGlzLnBvc2l0aW9uaW5nU3RyYXRlZ3kgPSBvcHRpb25zLnN0cmF0ZWd5IHx8IG5ldyBGbG9hdExlZnRTdHJhdGVneShcbiAgICAgIHRoaXMuZ2V0UmVjdGFuZ2xlLmJpbmQodGhpcyksXG4gICAgICB7XG4gICAgICAgIHJhZGl1czogODAsXG4gICAgICAgIGdldERpc3RhbmNlOiBHZW9tZXRyeS50cmFuc2Zvcm1lZFNwYWNlRGlzdGFuY2VGYWN0b3J5KHsgeDogMSwgeTogNCB9KSxcbiAgICAgICAgcmVtb3ZhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgKVxuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUudGFyZ2V0cy5wdXNoKHRhcmdldCkpXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gZHJhZ2dhYmxlc1xuICAgIHRoaXMub25BZGQgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG4gICAgdGhpcy5iZWZvcmVBZGQgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG4gICAgdGhpcy5vblJlbW92ZSA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcblxuICAgIGlmIChvcHRpb25zLm9uUmVtb3ZlKSB7XG4gICAgICB0aGlzLm9uUmVtb3ZlLmFkZChvcHRpb25zLm9uUmVtb3ZlKVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm9uQWRkKSB7XG4gICAgICB0aGlzLm9uQWRkLmFkZChvcHRpb25zLm9uQWRkKVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmJlZm9yZUFkZCkge1xuICAgICAgdGhpcy5iZWZvcmVBZGQuYWRkKG9wdGlvbnMuYmVmb3JlQWRkKVxuICAgIH1cblxuICAgIFRhcmdldC5vbkNyZWF0ZS5maXJlKHRoaXMpXG5cbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgcG9zaXRpb25pbmcgKGRyYWdnYWJsZXMsIGluZGV4ZXNPZk5ldykge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uaW5nU3RyYXRlZ3kucG9zaXRpb25pbmcoZHJhZ2dhYmxlcywgaW5kZXhlc09mTmV3KVxuICB9XG5cbiAgc29ydGluZyAob2xkRHJhZ2dhYmxlcywgbmV3RHJhZ2dhYmxlcywgaW5kZXhPZk5ld3MpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbmluZ1N0cmF0ZWd5LnNvcnRpbmcob2xkRHJhZ2dhYmxlcywgbmV3RHJhZ2dhYmxlcywgaW5kZXhPZk5ld3MpXG4gIH1cblxuICBpbml0KCkge1xuICAgIGxldCByZWN0YW5nbGVzLCBpbmRleGVzT2ZOZXdcblxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzID0gdGhpcy5kcmFnZ2FibGVzLmZpbHRlcigoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBsZXQgZWxlbWVudCA9IGRyYWdnYWJsZS5lbGVtZW50LnBhcmVudE5vZGVcbiAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5pbm5lckRyYWdnYWJsZXMubGVuZ3RoKSB7XG4gICAgICBpbmRleGVzT2ZOZXcgPSByYW5nZSh0aGlzLmlubmVyRHJhZ2dhYmxlcy5sZW5ndGgpXG4gICAgICByZWN0YW5nbGVzID0gdGhpcy5wb3NpdGlvbmluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgICB9KSwgaW5kZXhlc09mTmV3KVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBpbmRleGVzT2ZOZXcpXG4gICAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHRoaXMub25BZGQuZmlyZShkcmFnZ2FibGUpKVxuICAgIH1cbiAgfVxuXG4gIGdldFJlY3RhbmdsZSgpIHtcbiAgICByZXR1cm4gR2VvbWV0cnkuY3JlYXRlUmVjdGFuZ2xlRnJvbUVsZW1lbnQoXG4gICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICB0aGlzLm9wdGlvbnMucGFyZW50LFxuICAgICAgdGhpcy5vcHRpb25zLmlzQ29udGVudEJveFNpemUsXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY2F0Y2hEcmFnZ2FibGUoZHJhZ2dhYmxlKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jYXRjaERyYWdnYWJsZSkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jYXRjaERyYWdnYWJsZSh0aGlzLCBkcmFnZ2FibGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldFJlY3RhbmdsZSA9IHRoaXMuZ2V0UmVjdGFuZ2xlKClcbiAgICAgIGNvbnN0IGRyYWdnYWJsZVNxdWFyZSA9IGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKS5nZXRTcXVhcmUoKVxuXG4gICAgICByZXR1cm4gZHJhZ2dhYmxlU3F1YXJlIDwgdGFyZ2V0UmVjdGFuZ2xlLmdldFNxdWFyZSgpXG4gICAgICAgICAgICAgICYmIHRhcmdldFJlY3RhbmdsZS5pbmNsdWRlUG9pbnQoZHJhZ2dhYmxlLmdldENlbnRlcigpKVxuICAgIH1cbiAgfVxuXG4gIGdldFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFJlY3RhbmdsZSgpLnBvc2l0aW9uXG4gIH1cblxuICBnZXRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmdldFJlY3RhbmdsZSgpLnNpemVcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiByZW1vdmVJdGVtKHNjb3BlLnRhcmdldHMsIHRoaXMpKVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICBjb25zdCByZWN0YW5nbGVzID0gdGhpcy5wb3NpdGlvbmluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKVxuICAgIH0pLCBbXSlcbiAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIFtdLCAwKVxuICB9XG5cbiAgb25FbmQoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3QgbmV3RHJhZ2dhYmxlc0luZGV4ID0gW11cbiAgICBjb25zdCBpbmNsdWRlUG9pbnQgPSB0aGlzLmdldFJlY3RhbmdsZSgpLmluY2x1ZGVQb2ludChkcmFnZ2FibGUuZ2V0UG9zaXRpb24oKSlcblxuICAgIGlmICghaW5jbHVkZVBvaW50KSB7XG4gICAgICBpZiAodGhpcy5nZXRSZWN0YW5nbGUoKS5pbmNsdWRlUG9pbnQoZHJhZ2dhYmxlLmdldENlbnRlcigpKSkge1xuICAgICAgICBkcmFnZ2FibGUucG9zaXRpb24gPSBkcmFnZ2FibGUuZ2V0Q2VudGVyKCkuY2xvbmUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5iZWZvcmVBZGQuZmlyZShkcmFnZ2FibGUpXG5cbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcyA9IHRoaXMuc29ydGluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcywgW2RyYWdnYWJsZV0sIG5ld0RyYWdnYWJsZXNJbmRleClcbiAgICBjb25zdCByZWN0YW5nbGVzID0gdGhpcy5wb3NpdGlvbmluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKVxuICAgIH0pLCBuZXdEcmFnZ2FibGVzSW5kZXgpXG5cbiAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIG5ld0RyYWdnYWJsZXNJbmRleClcbiAgICBpZiAodGhpcy5pbm5lckRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpICE9PSAtMSkge1xuICAgICAgdGhpcy5hZGRSZW1vdmVPbk1vdmUoZHJhZ2dhYmxlKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgaW5kZXhlc09mTmV3LCB0aW1lKSB7XG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuc2xpY2UoMCkuZm9yRWFjaCgoZHJhZ2dhYmxlLCBpKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gcmVjdGFuZ2xlc1tpXSxcbiAgICAgICAgdGltZUVuZCA9IHRpbWUgfHwgdGltZSA9PT0gMCA/IHRpbWUgOiBpbmRleGVzT2ZOZXcuaW5kZXhPZihpKSAhPT0gLTEgPyB0aGlzLm9wdGlvbnMudGltZUVuZCA6IHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZVxuXG4gICAgICBpZiAocmVjdC5yZW1vdmFibGUpIHtcbiAgICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmluaXRQb3NpdGlvbiwgdGltZUVuZCwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgcmVtb3ZlSXRlbSh0aGlzLmlubmVyRHJhZ2dhYmxlcywgZHJhZ2dhYmxlKVxuXG4gICAgICAgIHRoaXMub25SZW1vdmUuZmlyZShkcmFnZ2FibGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmFnZ2FibGUubW92ZShyZWN0LnBvc2l0aW9uLCB0aW1lRW5kLCB0cnVlLCB0cnVlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBhZGQoZHJhZ2dhYmxlLCB0aW1lKSB7XG4gICAgY29uc3QgbmV3RHJhZ2dhYmxlc0luZGV4ID0gdGhpcy5pbm5lckRyYWdnYWJsZXMubGVuZ3RoXG5cbiAgICB0aGlzLmJlZm9yZUFkZC5maXJlKGRyYWdnYWJsZSlcblxuICAgIHRoaXMucHVzaElubmVyRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbiAgICBjb25zdCByZWN0YW5nbGVzID0gdGhpcy5wb3NpdGlvbmluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKVxuICAgIH0pLCBuZXdEcmFnZ2FibGVzSW5kZXgsIGRyYWdnYWJsZSlcblxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgW25ld0RyYWdnYWJsZXNJbmRleF0sIHRpbWUgfHwgMClcbiAgICBpZiAodGhpcy5pbm5lckRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpICE9PSAtMSkge1xuICAgICAgdGhpcy5hZGRSZW1vdmVPbk1vdmUoZHJhZ2dhYmxlKVxuICAgIH1cbiAgfVxuXG4gIHB1c2hJbm5lckRyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICBpZiAodGhpcy5pbm5lckRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpPT09LTEpIHtcbiAgICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLnB1c2goZHJhZ2dhYmxlKVxuICAgIH1cbiAgfVxuXG4gIGFkZFJlbW92ZU9uTW92ZShkcmFnZ2FibGUpIHtcbiAgICBkcmFnZ2FibGUub25Nb3ZlLmFkZCh0aGlzLnJlbW92ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZShkcmFnZ2FibGUpXG4gICAgfSlcblxuICAgIHRoaXMub25BZGQuZmlyZShkcmFnZ2FibGUpXG4gIH1cblxuICByZW1vdmUoZHJhZ2dhYmxlKSB7XG4gICAgZHJhZ2dhYmxlLm9uTW92ZS5yZW1vdmUodGhpcy5yZW1vdmVIYW5kbGVyKVxuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICBjb25zdCByZWN0YW5nbGVzID0gdGhpcy5wb3NpdGlvbmluZyh0aGlzLmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKVxuICAgIH0pLCBbXSlcblxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgW10pXG4gICAgdGhpcy5vblJlbW92ZS5maXJlKGRyYWdnYWJsZSlcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmluaXRQb3NpdGlvbiwgMCwgdHJ1ZSwgdHJ1ZSlcbiAgICAgIHRoaXMub25SZW1vdmUuZmlyZShkcmFnZ2FibGUpXG4gICAgfSlcbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcyA9IFtdXG4gIH1cblxuICBnZXRTb3J0ZWREcmFnZ2FibGVzKCkge1xuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLnNsaWNlKClcbiAgfVxufVxuXG5UYXJnZXQub25DcmVhdGUgPSBuZXcgRHJhZ2VlLkV2ZW50KFRhcmdldCwgeyBpc1JldmVyc2U6IHRydWUsIGlzU3RvcE9uVHJ1ZTogdHJ1ZSB9KVxuVGFyZ2V0Lm9uQ3JlYXRlLmFkZChhZGRUb0RlZmF1bHRTY29wZSlcblxuZXhwb3J0IHsgVGFyZ2V0IH1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldERlZmF1bHRQYXJlbnQoZWxlbWVudCkge1xuICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlXG4gIHdoaWxlIChwYXJlbnQucGFyZW50Tm9kZSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpWydwb3NpdGlvbiddID09PSAnc3RhdGljJykge1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlXG4gIH1cbiAgcmV0dXJuIHBhcmVudFxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnksIFBvaW50IH0gZnJvbSAnLi9nZW9tZXRyeSdcblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9SZWN0YW5nbGUocmVjdGFuZ2xlKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IGNhbGNQb2ludCA9IHBvaW50LmNsb25lKCksXG4gICAgICByZWN0UDIgPSByZWN0YW5nbGUuZ2V0UDMoKVxuXG4gICAgaWYgKHJlY3RhbmdsZS5wb3NpdGlvbi54ID4gY2FsY1BvaW50LngpIHtcbiAgICAgIChjYWxjUG9pbnQueCA9IHJlY3RhbmdsZS5wb3NpdGlvbi54KVxuICAgIH1cbiAgICBpZiAocmVjdGFuZ2xlLnBvc2l0aW9uLnkgPiBjYWxjUG9pbnQueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSByZWN0YW5nbGUucG9zaXRpb24ueVxuICAgIH1cbiAgICBpZiAocmVjdFAyLnggPCBjYWxjUG9pbnQueCArIHNpemUueCkge1xuICAgICAgY2FsY1BvaW50LnggPSByZWN0UDIueCAtIHNpemUueFxuICAgIH1cbiAgICBpZiAocmVjdFAyLnkgPCBjYWxjUG9pbnQueSArIHNpemUueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSByZWN0UDIueSAtIHNpemUueVxuICAgIH1cblxuICAgIHJldHVybiBjYWxjUG9pbnRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0VsZW1lbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gIGNvbnN0IHJldEZ1bmMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYm91bmQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG4gIGxldCBib3VuZFxuXG4gIHJldEZ1bmMucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIGJvdW5kID0gYm91bmRUb1JlY3RhbmdsZShHZW9tZXRyeS5jcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudChlbGVtZW50LCBwYXJlbnQpKVxuICB9XG5cbiAgcmV0RnVuYy5yZWZyZXNoKClcbiAgcmV0dXJuIHJldEZ1bmNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9MaW5lWCh4LCBzdGFydFksIGVuZFkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBzaXplKSB7XG4gICAgY29uc3QgY2FsY1BvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIGNhbGNQb2ludC54ID0geFxuICAgIGlmIChzdGFydFkgPiBjYWxjUG9pbnQueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSBzdGFydFlcbiAgICB9XG4gICAgaWYgKGVuZFkgPCBjYWxjUG9pbnQueSArIHNpemUueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSBlbmRZIC0gc2l6ZS55XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGNQb2ludFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvTGluZVkoeSwgc3RhcnRYLCBlbmRYKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IGNhbGNQb2ludCA9IHBvaW50LmNsb25lKClcbiAgICBjYWxjUG9pbnQueSA9IHlcbiAgICBpZiAoc3RhcnRYID4gY2FsY1BvaW50LngpIHtcbiAgICAgIGNhbGNQb2ludC54ID0gc3RhcnRYXG4gICAgfVxuICAgIGlmIChlbmRYIDwgY2FsY1BvaW50LnggKyBzaXplLngpIHtcbiAgICAgIGNhbGNQb2ludC54ID0gZW5kWCAtIHNpemUueFxuICAgIH1cbiAgICByZXR1cm4gY2FsY1BvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9MaW5lKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgYWxwaGEgPSBNYXRoLmF0YW4yKGVuZC55IC0gc3RhcnQueSwgZW5kLnggLSBzdGFydC54KSxcbiAgICBiZXRhID0gYWxwaGEgKyBNYXRoLlBJIC8gMixcbiAgICBzb21lSyA9IDEwLFxuICAgIGNvc0JldGEgPSBNYXRoLmNvcyhiZXRhKSxcbiAgICBzaW5CZXRhID0gTWF0aC5zaW4oYmV0YSlcblxuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIHNpemUpIHtcbiAgICBjb25zdCBwb2ludDIgPSBuZXcgUG9pbnQocG9pbnQueCArIHNvbWVLICogY29zQmV0YSwgcG9pbnQueSArIHNvbWVLICogc2luQmV0YSksXG4gICAgICBuZXdFbmQgPSBHZW9tZXRyeS5nZXRQb2ludEluTGluZUJ5TGVuZ2h0KGVuZCwgc3RhcnQsIHNpemUueClcbiAgICBsZXQgcG9pbnRDcm9zc2luZyA9IEdlb21ldHJ5LmRpcmVjdENyb3NzaW5nKHN0YXJ0LCBlbmQsIHBvaW50LCBwb2ludDIpXG5cbiAgICBwb2ludENyb3NzaW5nID0gR2VvbWV0cnkuYm91bmRUb0xpbmUoc3RhcnQsIG5ld0VuZCwgcG9pbnRDcm9zc2luZylcbiAgICByZXR1cm4gcG9pbnRDcm9zc2luZ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvQ2lyY2xlKGNlbnRlciwgcmFkaXVzKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgX3NpemUpIHtcbiAgICBjb25zdCBib3VuZGVkUG9pbnQgPSBHZW9tZXRyeS5nZXRQb2ludEluTGluZUJ5TGVuZ2h0KGNlbnRlciwgcG9pbnQsIHJhZGl1cylcbiAgICByZXR1cm4gYm91bmRlZFBvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9BcmMoY2VudGVyLCByYWRpdXMsIHN0YXJ0QWdsZSwgZW5kQW5nbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBfc2l6ZSkge1xuICAgIGNvbnN0IGJvdW5kU3RhcnRBbmdsZSA9IHR5cGVvZiBzdGFydEFnbGUgPT09ICdmdW5jdGlvbicgPyBzdGFydEFnbGUoKSA6IHN0YXJ0QWdsZVxuICAgIGNvbnN0IGJvdW5kRW5kdEFuZ2xlID0gdHlwZW9mIHN0YXJ0QWdsZSA9PT0gJ2Z1bmN0aW9uJyA/IGVuZEFuZ2xlKCkgOiBlbmRBbmdsZVxuXG4gICAgbGV0IGFuZ2xlID0gR2VvbWV0cnkuZ2V0QW5nbGUoY2VudGVyLCBwb2ludClcbiAgICBhbmdsZSA9IEdlb21ldHJ5Lm5vcm1hbGl6ZUFuZ2xlKGFuZ2xlKVxuICAgIGFuZ2xlID0gR2VvbWV0cnkuYm91bmRBbmdsZShib3VuZFN0YXJ0QW5nbGUsIGJvdW5kRW5kdEFuZ2xlLCBhbmdsZSlcbiAgICByZXR1cm4gR2VvbWV0cnkuZ2V0UG9pbnRGcm9tUmFkaWFsU3lzdGVtKGFuZ2xlLCByYWRpdXMsIGNlbnRlcilcbiAgfVxufVxuIiwiLyohXG4gKiBnZXRTdHlsZVByb3BlcnR5IHYxLjAuNFxuICogb3JpZ2luYWwgYnkga2FuZ2F4XG4gKiBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9mZWF0dXJlLXRlc3RpbmctY3NzLXByb3BlcnRpZXMvXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUgKi9cbi8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIGV4cG9ydHM6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdyApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHJlZml4ZXMgPSAnV2Via2l0IE1veiBtcyBNcyBPJy5zcGxpdCgnICcpO1xudmFyIGRvY0VsZW1TdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblxuZnVuY3Rpb24gZ2V0U3R5bGVQcm9wZXJ0eSggcHJvcE5hbWUgKSB7XG4gIGlmICggIXByb3BOYW1lICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHRlc3Qgc3RhbmRhcmQgcHJvcGVydHkgZmlyc3RcbiAgaWYgKCB0eXBlb2YgZG9jRWxlbVN0eWxlWyBwcm9wTmFtZSBdID09PSAnc3RyaW5nJyApIHtcbiAgICByZXR1cm4gcHJvcE5hbWU7XG4gIH1cblxuICAvLyBjYXBpdGFsaXplXG4gIHByb3BOYW1lID0gcHJvcE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wTmFtZS5zbGljZSgxKTtcblxuICAvLyB0ZXN0IHZlbmRvciBzcGVjaWZpYyBwcm9wZXJ0aWVzXG4gIHZhciBwcmVmaXhlZDtcbiAgZm9yICggdmFyIGk9MCwgbGVuID0gcHJlZml4ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIHByb3BOYW1lO1xuICAgIGlmICggdHlwZW9mIGRvY0VsZW1TdHlsZVsgcHJlZml4ZWQgXSA9PT0gJ3N0cmluZycgKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWQ7XG4gICAgfVxuICB9XG59XG5cbi8vIHRyYW5zcG9ydFxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gIC8vIEFNRFxuICBkZWZpbmUoIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnZXRTdHlsZVByb3BlcnR5O1xuICB9KTtcbn0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcbiAgLy8gQ29tbW9uSlMgZm9yIENvbXBvbmVudFxuICBtb2R1bGUuZXhwb3J0cyA9IGdldFN0eWxlUHJvcGVydHk7XG59IGVsc2Uge1xuICAvLyBicm93c2VyIGdsb2JhbFxuICB3aW5kb3cuZ2V0U3R5bGVQcm9wZXJ0eSA9IGdldFN0eWxlUHJvcGVydHk7XG59XG5cbn0pKCB3aW5kb3cgKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdXG4gIGlmICh0eXBlb2Ygc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdG9wID0gc3RhcnRcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAodHlwZW9mIHN0ZXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RlcCA9IDFcbiAgfVxuICBpZiAoKHN0ZXAgPiAwICYmIHN0YXJ0ID49IHN0b3ApIHx8IChzdGVwIDwgMCAmJiBzdGFydCA8PSBzdG9wKSkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIGZvciAobGV0IGkgPSBzdGFydDsgc3RlcCA+IDAgPyBpIDwgc3RvcCA6IGkgPiBzdG9wOyBpICs9IHN0ZXApIHtcbiAgICByZXN1bHQucHVzaChpKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cbiIsImltcG9ydCB7IEdlb21ldHJ5LCBQb2ludCB9IGZyb20gJy4vZ2VvbWV0cnknXG5cbmNsYXNzIEJhc2ljU3RyYXRlZ3kge1xuICBjb25zdHJ1Y3RvcihyZWN0YW5nbGUsIG9wdGlvbnM9e30pIHtcbiAgICB0aGlzLnJlY3RhbmdsZSA9IHJlY3RhbmdsZVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgfVxuXG4gIGdldCBib3VuZFJlY3QgKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5yZWN0YW5nbGUgPT09ICdmdW5jdGlvbicgPyB0aGlzLnJlY3RhbmdsZSgpIDogdGhpcy5yZWN0YW5nbGVcbiAgfVxufVxuXG5jbGFzcyBOb3RDcm9zc2luZ1N0cmF0ZWd5IGV4dGVuZHMgQmFzaWNTdHJhdGVneSB7XG4gIHBvc2l0aW9uaW5nIChyZWN0YW5nbGVMaXN0LCBpbmRleGVzT2ZOZXdzKSB7XG4gICAgY29uc3Qgc3RhdGljUmVjdGFuZ2xlSW5kZXhlcyA9IHJlY3RhbmdsZUxpc3QucmVkdWNlKChpbmRleGVzLCBfcmVjdCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleGVzT2ZOZXdzLmluZGV4T2YoaW5kZXgpID09PSAtMSkge1xuICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpXG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhlc1xuICAgIH0sIFtdKVxuXG4gICAgaW5kZXhlc09mTmV3cy5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgbGV0IHJlY3QgPSByZWN0YW5nbGVMaXN0W2luZGV4XVxuICAgICAgbGV0IHJlbW92YWJsZSA9IGZhbHNlXG5cbiAgICAgIHN0YXRpY1JlY3RhbmdsZUluZGV4ZXMuZm9yRWFjaCgoaW5kZXhPZlN0YXRpYykgPT4ge1xuICAgICAgICBjb25zdCBzdGF0aWNSZWN0ID0gcmVjdGFuZ2xlTGlzdFtpbmRleE9mU3RhdGljXVxuICAgICAgICByZWN0ID0gc3RhdGljUmVjdC5tb3ZlVG9Cb3VuZChyZWN0KVxuICAgICAgfSlcblxuICAgICAgcmVtb3ZhYmxlID0gc3RhdGljUmVjdGFuZ2xlSW5kZXhlcy5zb21lKChpbmRleE9mU3RhdGljKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRpY1JlY3QgPSByZWN0YW5nbGVMaXN0W2luZGV4T2ZTdGF0aWNdXG4gICAgICAgIHJldHVybiAgISFzdGF0aWNSZWN0LmFuZChyZWN0KVxuICAgICAgfSkgfHwgcmVjdC5hbmQodGhpcy5ib3VuZFJlY3QpLmdldFNxdWFyZSgpICE9PSByZWN0LmdldFNxdWFyZSgpXG5cbiAgICAgIGlmIChyZW1vdmFibGUpIHtcbiAgICAgICAgcmVjdC5yZW1vdmFibGUgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0aWNSZWN0YW5nbGVJbmRleGVzLnB1c2goaW5kZXgpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVjdGFuZ2xlTGlzdFxuICB9XG5cbiAgc29ydGluZyhvZGxEcmFnZ2FibGVzTGlzdCwgbmV3RHJhZ2dhYmxlcywgaW5kZXhPZk5ld3MpIHtcbiAgICBjb25zdCBkcmFnZ2FibGVzID0gb2RsRHJhZ2dhYmxlc0xpc3QuY29uY2F0KG5ld0RyYWdnYWJsZXMpXG4gICAgbmV3RHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGluZGV4T2ZOZXdzLnB1c2goZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkpXG4gICAgfSlcbiAgICByZXR1cm4gZHJhZ2dhYmxlc1xuICB9XG59XG5cbmNsYXNzIEZsb2F0TGVmdFN0cmF0ZWd5IGV4dGVuZHMgQmFzaWNTdHJhdGVneSB7XG4gIGNvbnN0cnVjdG9yKHJlY3RhbmdsZSwgb3B0aW9ucz17fSkge1xuICAgIHN1cGVyKHJlY3RhbmdsZSwgb3B0aW9ucylcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJlbW92YWJsZTogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpXG5cbiAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IDgwXG5cbiAgICB0aGlzLnBhZGRpbmdUb3BMZWZ0ID0gb3B0aW9ucy5wYWRkaW5nVG9wTGVmdCB8fCBuZXcgUG9pbnQoMCwgMClcbiAgICB0aGlzLnBhZGRpbmdCb3R0b21SaWdodCA9IG9wdGlvbnMucGFkZGluZ0JvdHRvbVJpZ2h0IHx8IG5ldyBQb2ludCgwLCAwKVxuICAgIHRoaXMueUdhcEJldHdlZW5EcmFnZ2FibGVzID0gb3B0aW9ucy55R2FwQmV0d2VlbkRyYWdnYWJsZXMgfHwgMFxuXG4gICAgdGhpcy5nZXREaXN0YW5jZSA9IG9wdGlvbnMuZ2V0RGlzdGFuY2UgfHwgR2VvbWV0cnkuZ2V0RGlzdGFuY2VcbiAgICB0aGlzLmdldFBvc2l0aW9uID0gb3B0aW9ucy5nZXRQb3NpdGlvbiB8fCAoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZS5wb3NpdGlvblxuICAgIH0pXG4gIH1cblxuICBwb3NpdGlvbmluZyhyZWN0YW5nbGVMaXN0LCBfaW5kZXhlc09mTmV3cykge1xuICAgIGNvbnN0IGJvdW5kUmVjdCA9IHRoaXMuYm91bmRSZWN0XG4gICAgY29uc3QgcmVjdFAyID0gYm91bmRSZWN0LmdldFAyKClcbiAgICBsZXQgYm91bmRhcnlQb2ludHMgPSBbYm91bmRSZWN0LnBvc2l0aW9uXVxuXG4gICAgcmVjdGFuZ2xlTGlzdC5mb3JFYWNoKChyZWN0KSA9PiB7XG4gICAgICBsZXQgcG9zaXRpb24sIGlzVmFsaWQgPSBmYWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZGFyeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwb3NpdGlvbiA9IChuZXcgUG9pbnQoXG4gICAgICAgICAgYm91bmRhcnlQb2ludHNbaV0ueCxcbiAgICAgICAgICBpID4gMCA/IChib3VuZGFyeVBvaW50c1tpIC0gMV0ueSArIHRoaXMueUdhcEJldHdlZW5EcmFnZ2FibGVzKSA6IGJvdW5kUmVjdC5wb3NpdGlvbi55KVxuICAgICAgICApLmFkZCh0aGlzLnBhZGRpbmdUb3BMZWZ0KVxuXG4gICAgICAgIGlzVmFsaWQgPSAocG9zaXRpb24ueCArIHJlY3Quc2l6ZS54IDwgcmVjdFAyLngpXG5cbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICBwb3NpdGlvbiA9IChuZXcgUG9pbnQoXG4gICAgICAgICAgYm91bmRSZWN0LnBvc2l0aW9uLngsXG4gICAgICAgICAgYm91bmRhcnlQb2ludHNbYm91bmRhcnlQb2ludHMubGVuZ3RoIC0gMV0ueSArIHRoaXMueUdhcEJldHdlZW5EcmFnZ2FibGVzKVxuICAgICAgICApLmFkZCh0aGlzLnBhZGRpbmdUb3BMZWZ0KVxuICAgICAgfVxuXG4gICAgICByZWN0LnBvc2l0aW9uID0gcG9zaXRpb25cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZhYmxlICYmIHJlY3QuZ2V0UDMoKS55ID4gYm91bmRSZWN0LmdldFAzKCkueSkge1xuICAgICAgICByZWN0LnJlbW92YWJsZSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgYm91bmRhcnlQb2ludHMgPSBHZW9tZXRyeS5hZGRQb2ludFRvQm91bmRQb2ludHMoYm91bmRhcnlQb2ludHMsIHJlY3QuZ2V0UDMoKS5hZGQodGhpcy5wYWRkaW5nQm90dG9tUmlnaHQpKVxuICAgIH0pXG4gICAgcmV0dXJuIHJlY3RhbmdsZUxpc3RcbiAgfVxuXG4gIHNvcnRpbmcob2RsRHJhZ2dhYmxlc0xpc3QsIG5ld0RyYWdnYWJsZXMsIGluZGV4T2ZOZXdzKSB7XG4gICAgY29uc3QgbmV3TGlzdCA9IG9kbERyYWdnYWJsZXNMaXN0LmNvbmNhdCgpXG4gICAgY29uc3QgbGlzdE9sZFBvc2l0aW9uID0gb2RsRHJhZ2dhYmxlc0xpc3QubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5nZXRQb3NpdGlvbigpKVxuICAgIG5ld0RyYWdnYWJsZXMuZm9yRWFjaCgobmV3RHJhZ2dhYmxlKSA9PiB7XG4gICAgICBsZXQgaW5kZXggPSBHZW9tZXRyeS5pbmRleE9mTmVhcmVzdFBvaW50KGxpc3RPbGRQb3NpdGlvbiwgdGhpcy5nZXRQb3NpdGlvbihuZXdEcmFnZ2FibGUpLCB0aGlzLnJhZGl1cywgdGhpcy5nZXREaXN0YW5jZSlcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaW5kZXggPSBuZXdMaXN0Lmxlbmd0aFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBuZXdMaXN0LmluZGV4T2Yob2RsRHJhZ2dhYmxlc0xpc3RbaW5kZXhdKVxuICAgICAgfVxuICAgICAgbmV3TGlzdC5zcGxpY2UoaW5kZXgsIDAsIG5ld0RyYWdnYWJsZSlcbiAgICB9KVxuICAgIG5ld0RyYWdnYWJsZXMuZm9yRWFjaCgobmV3RHJhZ2dhYmxlKSA9PiB7XG4gICAgICBpbmRleE9mTmV3cy5wdXNoKG5ld0xpc3QuaW5kZXhPZihuZXdEcmFnZ2FibGUpKVxuICAgIH0pXG4gICAgcmV0dXJuIG5ld0xpc3RcbiAgfVxufVxuXG5jbGFzcyBGbG9hdFJpZ2h0U3RyYXRlZ3kgZXh0ZW5kcyBGbG9hdExlZnRTdHJhdGVneSB7XG4gIGNvbnN0cnVjdG9yKHJlY3RhbmdsZSwgb3B0aW9ucz17fSkge1xuICAgIHN1cGVyKHJlY3RhbmdsZSwgb3B0aW9ucylcblxuICAgIHRoaXMucGFkZGluZ1RvcFJpZ2h0ID0gb3B0aW9ucy5wYWRkaW5nVG9wUmlnaHQgfHwgbmV3IFBvaW50KDUsIDUpXG4gICAgdGhpcy5wYWRkaW5nQm90dG9tTGVmdCA9IG9wdGlvbnMucGFkZGluZ0JvdHRvbUxlZnQgfHwgbmV3IFBvaW50KDAsIDApXG5cbiAgICB0aGlzLnBhZGRpbmdUb3BOZWdSaWdodCA9IG5ldyBQb2ludCgtdGhpcy5wYWRkaW5nVG9wUmlnaHQueCwgdGhpcy5wYWRkaW5nVG9wUmlnaHQueSlcbiAgICB0aGlzLnBhZGRpbmdCb3R0b21OZWdMZWZ0ID0gbmV3IFBvaW50KC10aGlzLnBhZGRpbmdCb3R0b21MZWZ0LngsIHRoaXMucGFkZGluZ0JvdHRvbUxlZnQueSlcbiAgfVxuXG4gIHBvc2l0aW9uaW5nKHJlY3RhbmdsZUxpc3QsIF9pbmRleGVzT2ZOZXdzKSB7XG4gICAgY29uc3QgYm91bmRSZWN0ID0gdGhpcy5ib3VuZFJlY3RcbiAgICBsZXQgYm91bmRhcnlQb2ludHMgPSBbYm91bmRSZWN0LmdldFJpZ2h0VG9wUG9pbnQoKV1cbiAgICByZWN0YW5nbGVMaXN0LmZvckVhY2goKHJlY3QsIF9pbmRleCkgPT4ge1xuICAgICAgbGV0IHBvc2l0aW9uLCBpc1ZhbGlkID0gZmFsc2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRhcnlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcG9zaXRpb24gPSAobmV3IFBvaW50KFxuICAgICAgICAgIGJvdW5kYXJ5UG9pbnRzW2ldLnggLSByZWN0LnNpemUueCxcbiAgICAgICAgICBpID4gMCA/IGJvdW5kYXJ5UG9pbnRzW2kgLSAxXS55IDogYm91bmRSZWN0LnBvc2l0aW9uLnkpXG4gICAgICAgICkuYWRkKHRoaXMucGFkZGluZ1RvcE5lZ1JpZ2h0KVxuXG4gICAgICAgIGlzVmFsaWQgPSAocG9zaXRpb24ueCA+IHJlY3QucG9zaXRpb24ueClcbiAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgcG9zaXRpb24gPSBuZXcgUG9pbnQoXG4gICAgICAgICAgYm91bmRSZWN0LmdldFAyKCkueCxcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tib3VuZGFyeVBvaW50cy5sZW5ndGggLSAxXS55XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJlY3QucG9zaXRpb24gPSBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmFibGUgJiYgcmVjdC5nZXRMZWZ0Qm90dG9tUG9pbnQoKS55ID4gYm91bmRSZWN0LmdldFA0KCkueSkge1xuICAgICAgICByZWN0LnJlbW92YWJsZSA9IHRydWVcbiAgICAgIH1cbiAgICAgIGJvdW5kYXJ5UG9pbnRzID0gR2VvbWV0cnkuYWRkUG9pbnRUb0JvdW5kUG9pbnRzKGJvdW5kYXJ5UG9pbnRzLCByZWN0LmdldFA0KCkuYWRkKHRoaXMucGFkZGluZ0JvdHRvbU5lZ0xlZnQpLCB0cnVlKVxuICAgIH0pXG4gICAgcmV0dXJuIHJlY3RhbmdsZUxpc3RcbiAgfVxufVxuXG5leHBvcnQgeyBOb3RDcm9zc2luZ1N0cmF0ZWd5LCBGbG9hdExlZnRTdHJhdGVneSwgRmxvYXRSaWdodFN0cmF0ZWd5IH1cbiJdLCJzb3VyY2VSb290IjoiIn0=
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Dragee",[],e):"object"==typeof exports?exports.Dragee=e():t.Dragee=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return e.reduce((function(e,n){return e+parseInt(window.getComputedStyle(t)[n]||0)}),0)}n.d(e,"a",(function(){return o}));var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}var e,n,o;return e=t,o=[{key:"elementOffset",value:function(e,n){n=n||e.parentNode;var i=e.getBoundingClientRect(),r=n.getBoundingClientRect();return new t(i.left-r.left,i.top-r.top)}},{key:"elementSize",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=parseInt(window.getComputedStyle(e).width),o=parseInt(window.getComputedStyle(e).height);return n||(i+=r(e,["padding-left","padding-right","border-left-width","border-right-width"]),o+=r(e,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new t(i,o)}}],(n=[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"negative",value:function(){return new t(-this.x,-this.y)}},{key:"compare",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}])&&i(e.prototype,n),o&&i(e,o),t}()},function(t,e,n){"use strict";function i(t,e){(function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)","g").test(t.className)})(t,e)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function r(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return c}));var i=n(0);function r(t,e){var n=Math.min(t,e),i=Math.max(t,e);return Math.min(i-n,n+2*Math.PI-i)}function o(t,e){var n=e.sub(t);return u(Math.atan2(n.y,n.x))}function a(t){return t%360*Math.PI/180}function s(t,e,n){return t<e&&n>t&&n<e?n:e<t&&(n<e||n>t)?n:r(t,n)<r(e,n)?t:e}function u(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}function c(t,e,n){return(n=n||new i.a(0,0)).add(new i.a(e*Math.cos(t),e*Math.sin(t)))}},function(t,e,n){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"a",(function(){return o}));var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e||this,this.events={},n&&n.on)for(var r=0,o=Object.entries(n.on);r<o.length;r++){var a=i(o[r],2),s=a[0],u=a[1];this.on(s,u)}}var e,n,o;return e=t,(n=[{key:"emit",value:function(t){this.interrupted=!1;var e=[].slice.call(arguments,1);if(this.events[t]){var n=!0,i=!1,r=void 0;try{for(var o,a=this.events[t][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.apply(this.context,e),this.interrupted)return}}catch(t){i=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"interrupt",value:function(){this.interrupted=!0}},{key:"on",value:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}},{key:"prependOn",value:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].unshift(e)}},{key:"unsubscribe",value:function(t,e){if(this.events[t]){var n=this.events[t].indexOf(e);this.events[t].splice(n,1)}}},{key:"resetEmitter",value:function(){this.events={}}},{key:"resetOn",value:function(t){this.events[t]=[]}}])&&r(e.prototype,n),o&&r(e,o),t}()},function(t,e,n){"use strict";function i(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function r(t,e){return Math.abs(t.x-e.x)}function o(t,e){return Math.abs(t.y-e.y)}function a(t){return function(e,n){return Math.sqrt(Math.pow(t.x*Math.abs(e.x-n.x),2)+Math.pow(t.y*Math.abs(e.y-n.y),2))}}function s(t,e,n){var r,o,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,u=0;if(0===t.length)return-1;for(r=s(t[0],e),o=0;o<t.length;o++)(a=s(t[o],e))<r&&(r=a,u=o);return n>=0&&r>n?-1:u}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=e,this.size=n}var e,n,o;return e=t,o=[{key:"fromElement",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=i.a.elementOffset(e,n,o),s=i.a.elementSize(e,r);return new t(a,s)}}],(n=[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new i.a(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new i.a(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var n=new i.a(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new t(n,new i.a(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n))}},{key:"and",value:function(e){var n=new i.a(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),r=new i.a(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n);return r.x<=0||r.y<=0?null:new t(n,r)}},{key:"includePoint",value:function(t){return!(this.position.x>t.x||this.position.x+this.size.x<t.x||this.position.y>t.y||this.position.y+this.size.y<t.y)}},{key:"includeRectangle",value:function(t){return this.includePoint(t.position)&&this.includePoint(t.getP3())}},{key:"moveToBound",value:function(t,e){var n,i;if(e)n=e;else{if(!(i=this.and(t)))return t;n=i.size.x>i.size.y?"y":"x"}var r=this.getCenter(),o=t.getCenter(),a=(r[n]>o[n]?-1:1)>0?this.position[n]+this.size[n]-t.position[n]:this.position[n]-(t.position[n]+t.size[n]);return t.position[n]=t.position[n]+a,t}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(t){(t=t||document.querySelector("ind")).style.left=this.position.x+"px",t.style.top=this.position.y+"px",t.style.width=this.size.x+"px",t.style.height=this.size.y+"px"}},{key:"growth",value:function(t){this.size=this.size.add(t),this.position=this.position.add(t.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}])&&r(e.prototype,n),o&&r(e,o),t}()},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(11),o=n(3),a=n(14),s=n.n(a),u=n(10),c=n(0),l=n(5),f=n(9);const h=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get(){t=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}();var g=h;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"default",(function(){return T}));var m="ontouchstart"in window,x="mousedown",w="mousemove",O="mouseup",P="touchstart",E="touchmove",k="touchend",S=[],_=s()("transform"),j=s()("transition");function D(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return!1}var T=function(t){function e(t){var n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(r=v(e).call(this,void 0,o))||"object"!==d(r)&&"function"!=typeof r?y(i):r).targets=[],n.options=o,n.element=t,function(t){if(S.some((function(e){return t.element===e.element})))throw"for this element Dragee.Draggable is already exist, don't create it twice ";S.push(t)}(y(n)),e.emitter.emit("draggable:create",y(n)),n._enable=!0,n.startPositioning(),n.startListening(),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(o=[{key:"startPositioning",value:function(){this._setDefaultTransition(),this.offset=c.a.elementOffset(this.element,this.parent,!0),this.pinnedPosition=this.offset,this.position=this.offset,this.initialPosition=this.options.position||this.offset,this.pinPosition(this.initialPosition),this.bounding.refresh&&this.bounding.refresh()}},{key:"startListening",value:function(){var t=this;this._dragStart=function(e){return t.dragStart(e)},this._dragMove=function(e){return t.dragMove(e)},this._dragEnd=function(e){return t.dragEnd(e)},this._nativeDragStart=function(e){return t.nativeDragStart(e)},this._nativeDragMove=function(e){return t.nativeDragMove(e)},this._nativeDragEnd=function(e){return t.nativeDragEnd(e)},this.handler.addEventListener(P,this._dragStart,!!g&&{passive:!1}),this.handler.addEventListener(x,this._dragStart,!!g&&{passive:!1}),this.handler.addEventListener("dragstart",this._nativeDragStart)}},{key:"getSize",value:function(){return c.a.elementSize(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new c.a(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setDefaultTransition",value:function(){this.element.style[j]=window.getComputedStyle(this.element)[j]}},{key:"_setTransition",value:function(t){var e=this.element.style[j],n="transform ".concat(t,"ms");/transform \d*m?s/.test(e)?e=e.replace(/transform \d*m?s/,n):e?e+=", ".concat(n):e=n,this.element.style[j]=e}},{key:"_setTranslate",value:function(t){this._transformPosition=t;var e=this.element.style[_],n=" translate3d(".concat(t.x,"px, ").concat(t.y,"px, 0px)");-1!==window.navigator.userAgent.indexOf("MSIE ")?(n=" translate(".concat(t.x,"px,").concat(t.y,"px)"),/translate\([^)]+\)/.test(e)?e=e.replace(/translate\([^)]+\)/,n):e+=n):/translate3d\([^)]+\)/.test(e)?e=e.replace(/translate3d\([^)]+\)/,n):e+=n,this.element.style[_]=e}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.clone(),this.determineDirection(t),this.position=t,this._setTransition(e),this._setTranslate(t.sub(this.offset)),n||this.emit("drag:move")}},{key:"pinPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.pinnedPosition=t.clone(),this.move(this.pinnedPosition,e,n)}},{key:"resetPositionToInitial",value:function(){this.pinPosition(this.initialPosition)}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(t){t=t.clone(),this.position=t,this._setTransition(0),this._setTranslate(t.sub(this.offset))}},{key:"determineDirection",value:function(t){this.leftDirection=this.position.x<t.x,this.rightDirection=this.position.x>t.x,this.upDirection=this.position.y>t.y,this.downDirection=this.position.y<t.y}},{key:"dragStart",value:function(t){if(this.currentEvent=t,this._enable){var e=m&&t instanceof window.TouchEvent;this._startTouchPoint=new c.a(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY),this._startPosition=this.getPosition(),e&&(this._touchId=t.changedTouches[0].identifier),t.stopPropagation(),(t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement)&&t.target.focus(),this.nativeDragAndDrop||t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement||t.preventDefault(),this.nativeDragAndDrop?e&&this.emulateNativeDragAndDropOnTouch?this.emulateNativeDragAndDrop(t):this.element.draggable=!0:(document.addEventListener(E,this._dragMove,!!g&&{passive:!1}),document.addEventListener(w,this._dragMove,!!g&&{passive:!1}),document.addEventListener(k,this._dragEnd,!!g&&{passive:!1}),document.addEventListener(O,this._dragEnd,!!g&&{passive:!1})),this.isDragging=!0,this.emit("drag:start"),Object(i.a)(this.element,"dragee-active"),this.emit("drag:move")}}},{key:"stopDragging",value:function(){document.removeEventListener(E,this._dragMove),document.removeEventListener(w,this._dragMove),document.removeEventListener(k,this._dragEnd),document.removeEventListener(O,this._dragEnd),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),this.element.draggable=!1,this.isDragging=!1,Object(i.b)(this.element,"dragee-active")}},{key:"dragMove",value:function(t){var e;this.currentEvent=t;var n=m&&t instanceof window.TouchEvent;if(!n||(e=D(t,this._touchId))){t.stopPropagation(),t.preventDefault();var i=new c.a(n?e.pageX:t.clientX,n?e.pageY:t.clientY),r=this._startPosition.add(i.sub(this._startTouchPoint));r=this.bounding.bound(r,this.getSize()),this.touchPoint=i,this.move(r)}}},{key:"dragEnd",value:function(t){m&&t instanceof window.TouchEvent&&!D(t,this._touchId)||(t.stopPropagation(),t.preventDefault(),this.dragEndAction(),this.emit("drag:end"),document.removeEventListener(E,this._dragMove),document.removeEventListener(w,this._dragMove),document.removeEventListener(k,this._dragEnd),document.removeEventListener(O,this._dragEnd),this.isDragging=!1,Object(i.b)(this.element,"dragee-active"))}},{key:"nativeDragStart",value:function(t){t.dataTransfer.setData("application/draggable",this),document.addEventListener("dragover",this._nativeDragMove),document.addEventListener("dragend",this._nativeDragEnd)}},{key:"nativeDragMove",value:function(t){if(Object(i.a)(this.element,"dragee-placeholder"),this.currentEvent=t,0!==t.clientX||0!==t.clientY){var e=new c.a(t.clientX,t.clientY),n=this._startPosition.add(e.sub(this._startTouchPoint));n=this.bounding.bound(n,this.getSize()),this.touchPoint=e,this.position=n,this.emit("drag:move")}}},{key:"nativeDragEnd",value:function(t){Object(i.b)(this.element,"dragee-placeholder"),this.dragEndAction(),this.emit("drag:end"),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),this.isDragging=!1,this.element.draggable=!1,Object(i.b)(this.element,"dragee-active")}},{key:"emulateNativeDragAndDrop",value:function(t){var n=this,r=this.parent.getBoundingClientRect(),o=this.element.cloneNode(!0);o.style[_]="",function t(e,n){for(var i=window.getComputedStyle(e),r=0;r<i.length;r++){var o=i[r];o.indexOf("transition")<0&&o.indexOf("transform")<0&&(n.style[o]=i[o])}for(var a=0;a<e.children.length;a++)t(e.children[a],n.children[a])}(this.element,o),o.style.position="absolute",document.body.appendChild(o),Object(i.a)(this.element,"dragee-placeholder");var a=new e(o,{on:{"drag:move":function(){n.position=new c.a(a.position.x-r.left-window.scrollX,a.position.y-r.top-window.scrollY),n.emit("drag:move")},"drag:end":function(){a.destroy(),document.body.removeChild(o),Object(i.b)(n.element,"dragee-placeholder"),Object(i.b)(n.element,"dragee-active")}}});a.move(new c.a(this.pinnedPosition.x+r.left+window.scrollX,this.pinnedPosition.y+r.top+window.scrollY)),a.dragStart(t)}},{key:"dragEndAction",value:function(){this.pinPosition(this.position)}},{key:"getRectangle",value:function(){return new l.a(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bounding.refresh&&this.bounding.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(P,this._dragStart),this.handler.removeEventListener(x,this._dragStart),document.removeEventListener(E,this._dragMove),document.removeEventListener(w,this._dragMove),document.removeEventListener(k,this._dragEnd),document.removeEventListener(O,this._dragEnd),document.removeEventListener("dragstart",this._nativeDragStart),document.removeEventListener("dragover",this._nativeDragMove),document.removeEventListener("dragend",this._nativeDragEnd),this.resetEmitter();var t=S.indexOf(this);t>-1&&S.splice(t,1)}},{key:"parent",get:function(){return this._parent=this._parent||this.options.parent||Object(r.a)(this.element)}},{key:"bounding",get:function(){return this._bounding=this._bounding||this.options.bounding||new u.c(this.parent,this.parent)}},{key:"handler",get:function(){return this._handler||("string"==typeof this.options.handler?this._handler=this.element.querySelector(this.options.handler)||this.element:this._handler=this.options.handler||this.element),this._handler}},{key:"nativeDragAndDrop",get:function(){return this.options.nativeDragAndDrop||!1}},{key:"emulateNativeDragAndDropOnTouch",get:function(){return this.options.emulateNativeDragAndDropOnTouch||!0}},{key:"enable",get:function(){return this._enable},set:function(t){return t?Object(i.b)(this.element,"dragee-disable"):Object(i.a)(this.element,"dragee-disable"),this._enable=t}}])&&p(n.prototype,o),a&&p(n,a),e}(o.a);T.emitter=new o.a(T),T.emitter.on("draggable:create",(function(t){f.b.addDraggable(t)}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return u}));var i=n(0),r=n(4);function o(t,e,n,r){var o,a,s,u,c,l,f;return n.x===r.x&&(o=n,n=t,t=o,o=r,r=e,e=o),t.x===e.x?(s=(r.y-n.y)/(r.x-n.x),c=(r.x*n.y-n.x*r.y)/(r.x-n.x),f=(l=t.x)*s+c,new i.a(l,f)):(a=(e.y-t.y)/(e.x-t.x),u=(e.x*t.y-t.x*e.y)/(e.x-t.x),s=(r.y-n.y)/(r.x-n.x),f=(l=(u-(c=(r.x*n.y-n.x*r.y)/(r.x-n.x)))/(s-a))*a+u,new i.a(l,f))}function a(t,e,n){var r=new i.a(n.x-t.x,n.y-t.y),o=new i.a(e.x-t.x,e.y-t.y),a=o.x*o.x+o.y*o.y,s=(r.x*o.x+r.y*o.y)/a;return new i.a(t.x+o.x*s,t.y+o.y*s)}function s(t,e,n){var o=e.x-t.x,a=e.y-t.y,s=n/Object(r.a)(t,e);return new i.a(t.x+s*o,t.y+s*a)}function u(t,e,n){for(var i=t.filter((function(t){return t.y>e.y||(n?t.x<e.x:t.x>e.x)})),r=0;r<i.length;r++)if(e.y<i[r].y)return i.splice(r,0,e),i;return i.push(e),i}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--);return t}},function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return p}));var i=n(8),r=n(3),o=n(6),a=n(12);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=[],g=function(t){function e(t,n){var r,o,a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(a=c(e).call(this,void 0,u))||"object"!==s(a)&&"function"!=typeof a?l(o):a,h.forEach((function(e){t&&t.forEach((function(t){Object(i.a)(e.draggables,t)})),n&&n.forEach((function(t){Object(i.a)(e.targets,t)}))})),r.draggables=t||[],r.targets=n||[],h.push(l(r)),r.options={timeEnd:u.timeEnd||400},r.init(),r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"init",value:function(){var t=this;this.draggables.forEach((function(e){e.dragEndAction=function(){return t.onEnd(e)}}))}},{key:"addDraggable",value:function(t){var e=this;this.draggables.push(t),t.dragEndAction=function(){return e.onEnd(t)}}},{key:"addTarget",value:function(t){this.targets.push(t)}},{key:"onEnd",value:function(t){var e=this.targets.filter((function(e){return-1!==e.draggables.indexOf(t)})).filter((function(e){return e.catchDraggable(t)})).sort((function(t,e){return t.getRectangle().getSquare()-e.getRectangle().getSquare()}));e.length?e[0].onEnd(t):t.targets.length&&t.pinPosition(t.initialPosition,this.options.timeEnd),this.emit("scope:change")}},{key:"reset",value:function(){this.targets.forEach((function(t){return t.reset()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()})),this.targets.forEach((function(t){return t.refresh()}))}},{key:"positions",get:function(){var t=this;return this.targets.map((function(e){return e.innerDraggables.map((function(e){return t.draggables.indexOf(e)}))}))},set:function(t){var e=this;if(t.length!==this.targets.length)throw"wrong array length";this.targets.forEach((function(t){return t.reset()})),t.forEach((function(t,n){t.forEach((function(t){e.targets[n].add(e.draggables[t])}))}))}}])&&u(n.prototype,r),o&&u(n,o),e}(r.a),d=new g;function p(t){var e=new g,n=function(t){e.addDraggable(t),o.default.emitter.interrupt()},i=function(t){e.addTarget(t),o.default.emitter.interrupt()};return o.default.emitter.prependOn("draggable:create",n),a.a.emitter.prependOn("target:create",i),t.call(),o.default.emitter.unsubscribe("draggable:create",n),a.a.emitter.unsubscribe("target:create",i),e}},function(t,e,n){"use strict";n.d(e,"g",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return m})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return O}));var i=n(0),r=n(5),o=n(7),a=n(2);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var p=function(){function t(){h(this,t)}return d(t,[{key:"bound",value:function(t,e){return t}},{key:"refresh",value:function(){}}]),t}(),v=function(t){function e(t){var n;return h(this,e),(n=u(this,c(e).call(this))).rectangle=t,n}return l(e,t),d(e,[{key:"bound",value:function(t,e){var n=t.clone(),i=this.rectangle.getP3();return this.rectangle.position.x>n.x&&(n.x=this.rectangle.position.x),this.rectangle.position.y>n.y&&(n.y=this.rectangle.position.y),i.x<n.x+e.x&&(n.x=i.x-e.x),i.y<n.y+e.y&&(n.y=i.y-e.y),n}}]),e}(p),y=function(t){function e(t,n){var i;return h(this,e),(i=u(this,c(e).call(this,r.a.fromElement(t,n)))).element=t,i.parent=n,i}return l(e,t),d(e,[{key:"refresh",value:function(){this.rectangle=r.a.fromElement(this.element,this.parent)}}]),e}(v),b=function(t){function e(t,n,i){var r;return h(this,e),(r=u(this,c(e).call(this))).x=t,r.startY=n,r.endY=i,r}return l(e,t),d(e,[{key:"bound",value:function(t,e){var n=t.clone();return n.x=this.x,this.startY>n.y&&(n.y=this.startY),this.endY<n.y+e.y&&(n.y=this.endY-e.y),n}}]),e}(p),m=function(t){function e(t,n,i){var r;return h(this,e),(r=u(this,c(e).call(this))).y=t,r.startX=n,r.endX=i,r}return l(e,t),d(e,[{key:"bound",value:function(t,e){var n=t.clone();return n.y=this.y,this.startX>n.x&&(n.x=this.startX),this.endX<n.x+e.x&&(n.x=this.endX-e.x),n}}]),e}(p),x=function(t){function e(t,n){var i;h(this,e),(i=u(this,c(e).call(this))).startPoint=t,i.endPoint=n;var r=Math.atan2(n.y-t.y,n.x-t.x)+Math.PI/2;return i.someK=10,i.cosBeta=Math.cos(r),i.sinBeta=Math.sin(r),i}return l(e,t),d(e,[{key:"bound",value:function(t,e){var n=new i.a(t.x+this.someK*this.cosBeta,t.y+this.someK*this.sinBeta),r=Object(o.d)(this.endPoint,this.startPoint,e.x),a=Object(o.c)(this.startPoint,this.endPoint,t,n);return Object(o.b)(this.startPoint,r,a)}}]),e}(p),w=function(t){function e(t,n){var i;return h(this,e),(i=u(this,c(e).call(this))).center=t,i.radius=n,i}return l(e,t),d(e,[{key:"bound",value:function(t,e){return Object(o.d)(this.center,t,this.radius)}}]),e}(p),O=function(t){function e(t,n,i,r){var o;return h(this,e),(o=u(this,c(e).call(this,t,n)))._startAngle=i,o._endAngle=r,o}return l(e,t),d(e,[{key:"startAngle",value:function(){return"function"==typeof this._startAngle?this._startAngle():this._startAngle}},{key:"endAngle",value:function(){return"function"==typeof this._endAngle?this._endAngle():this._endAngle}},{key:"bound",value:function(t,e){var n=Object(a.b)(this.center,t);return n=Object(a.d)(n),n=Object(a.a)(this.startAngle(),this.endAngle(),n),Object(a.c)(n,this.radius,this.center)}}]),e}(w)},function(t,e,n){"use strict";function i(t){for(var e=t.parentNode;e.parentNode&&"static"===window.getComputedStyle(e).position;)e=e.parentNode;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(13),r=n(8),o=n(11),a=n(3),s=n(5),u=n(4),c=n(9),l=n(15);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t,n){var i,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,i=!(a=g(e).call(this,void 0,s))||"object"!==f(a)&&"function"!=typeof a?d(r):a;var c=d(i),h=s.parent||Object(o.a)(t);return i.options=Object.assign({timeEnd:200,timeExcange:400,parent:h},s),i.positioningStrategy=s.strategy||new l.a(i.getRectangle.bind(d(i)),{radius:80,getDistance:Object(u.e)({x:1,y:4}),removable:!0}),i.element=t,n.forEach((function(t){return t.targets.push(c)})),i.draggables=n,e.emitter.emit("target:create",d(i)),i.init(),i}var n,a,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(a=[{key:"positioning",value:function(t,e){return this.positioningStrategy.positioning(t,e)}},{key:"sorting",value:function(t,e,n){return this.positioningStrategy.sorting(t,e,n)}},{key:"init",value:function(){var t,e,n=this;this.innerDraggables=this.draggables.filter((function(t){for(var e=t.element.parentNode;e;){if(e===n.element)return!0;e=e.parentNode}return!1})),this.innerDraggables.length&&(e=Object(i.a)(this.innerDraggables.length),t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e),this.setPosition(t,e),this.innerDraggables.forEach((function(t){return n.emit("target:add",t)})))}},{key:"getRectangle",value:function(){return s.a.fromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(t){if(this.options.catchDraggable)return this.options.catchDraggable(this,t);var e=this.getRectangle();return t.getRectangle().getSquare()<e.getSquare()&&e.includePoint(t.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;c.d.forEach((function(e){return Object(r.a)(e.targets,t)}))}},{key:"refresh",value:function(){var t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(t,[],0)}},{key:"onEnd",value:function(t){var e=[];if(!this.getRectangle().includePoint(t.getPosition())){if(!this.getRectangle().includePoint(t.getCenter()))return!1;t.position=t.getCenter().clone()}this.emit("target:beforeAdd",t),this.innerDraggables=this.sorting(this.innerDraggables,[t],e);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e);return this.setPosition(n,e),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t),!0}},{key:"setPosition",value:function(t,e,n){var i=this;this.innerDraggables.slice(0).forEach((function(o,a){var s=t[a],u=n||0===n?n:-1!==e.indexOf(a)?i.options.timeEnd:i.options.timeExcange;s.removable?(o.move(o.initialPosition,u,!0,!0),Object(r.a)(i.innerDraggables,o),i.emit("target:remove",o)):o.move(s.position,u,!0,!0)}))}},{key:"add",value:function(t,e){var n=this.innerDraggables.length;this.emit("target:beforeAdd",t),this.pushInnerDraggable(t);var i=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),n,t);this.setPosition(i,[n],e||0),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t)}},{key:"pushInnerDraggable",value:function(t){-1===this.innerDraggables.indexOf(t)&&this.innerDraggables.push(t)}},{key:"addRemoveOnMove",value:function(t){var e=this;t.on("drag:move",this.removeHandler=function(){e.remove(t)}),this.emit("target:add",t)}},{key:"remove",value:function(t){t.unsubscribe("drag:move",this.removeHandler);var e=this.innerDraggables.indexOf(t);if(-1!==e){this.innerDraggables.splice(e,1);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(n,[]),this.emit("target:remove",t)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach((function(e){e.move(e.initialPosition,0,!0,!0),t.emit("target:remove",e)})),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}])&&h(n.prototype,a),v&&h(n,v),e}(a.a);v.emitter=new a.a(v),v.emitter.on("target:create",(function(t){c.b.addTarget(t)}))},function(t,e,n){"use strict";function i(t,e,n){var i=[];if(void 0===e&&(e=t,t=0),void 0===n&&(n=1),n>0&&t>=e||n<0&&t<=e)return[];for(var r=t;n>0?r<e:r>e;r+=n)i.push(r);return i}n.d(e,"a",(function(){return i}))},function(t,e,n){var i;
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */!function(r){"use strict";var o="Webkit Moz ms Ms O".split(" "),a=document.documentElement.style;function s(t){if(t){if("string"==typeof a[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=o.length;n<i;n++)if(e=o[n]+t,"string"==typeof a[e])return e}}void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var i=n(0),r=n(7),o=n(4);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,t),this.rectangle=e,this.options=n}return g(t,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),t}(),p=function(t){function e(){return f(this,e),s(this,u(e).apply(this,arguments))}return c(e,t),g(e,[{key:"positioning",value:function(t,e){var n=this,i=t.reduce((function(t,n,i){return-1===e.indexOf(i)&&t.push(i),t}),[]);return e.forEach((function(e){var r=t[e];i.forEach((function(e){var n=t[e];r=n.moveToBound(r)})),i.some((function(e){return!!t[e].and(r)}))||r.and(n.boundRect).getSquare()!==r.getSquare()?r.removable=!0:i.push(e)})),t}},{key:"sorting",value:function(t,e,n){var i=t.concat(e);return e.forEach((function(t){n.push(i.indexOf(t))})),i}}]),e}(d),v=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,e),(n=s(this,u(e).call(this,t,r))).options=Object.assign({removable:!0},r),n.radius=r.radius||80,n.paddingTopLeft=r.paddingTopLeft||new i.a(0,0),n.paddingBottomRight=r.paddingBottomRight||new i.a(0,0),n.yGapBetweenDraggables=r.yGapBetweenDraggables||0,n.getDistance=r.getDistance||o.a,n.getPosition=r.getPosition||function(t){return t.position},n}return c(e,t),g(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,a=o.getP2(),s=[o.position];return t.forEach((function(t,e){for(var u,c=!1,l=0;l<s.length&&!(c=(u=new i.a(s[l].x+n.paddingTopLeft.x,l>0?s[l-1].y+n.yGapBetweenDraggables:o.position.y+n.paddingTopLeft.y)).x+t.size.x<a.x);l++);c||(u=new i.a(o.position.x+n.paddingTopLeft.x,s[s.length-1].y+(e>0?n.yGapBetweenDraggables:n.paddingTopLeft.y))),t.position=u,n.options.removable&&t.getP3().y>o.getP3().y&&(t.removable=!0),s=Object(r.a)(s,t.getP3().add(n.paddingBottomRight))})),t}},{key:"sorting",value:function(t,e,n){var i=this,r=t.concat(),a=t.map((function(t){return t.getPosition()}));return e.forEach((function(e){var n=Object(o.d)(a,i.getPosition(e),i.radius,i.getDistance);n=-1===n?r.length:r.indexOf(t[n]),r.splice(n,0,e)})),e.forEach((function(t){n.push(r.indexOf(t))})),r}}]),e}(d),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,e),(n=s(this,u(e).call(this,t,r))).paddingTopRight=r.paddingTopRight||new i.a(5,5),n.paddingBottomLeft=r.paddingBottomLeft||new i.a(0,0),n.yGapBetweenDraggables=r.yGapBetweenDraggables||0,n.paddingBottomNegLeft=new i.a(-n.paddingBottomLeft.x,n.paddingBottomLeft.y),n}return c(e,t),g(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,a=[o.getP2()];return t.forEach((function(t,e){for(var s,u=!1,c=0;c<a.length&&!(u=(s=new i.a(a[c].x-t.size.x-n.paddingTopRight.x,c>0?a[c-1].y+n.yGapBetweenDraggables:o.position.y+n.paddingTopRight.y)).x>t.position.x);c++);u||(s=new i.a(o.getP2().x-t.size.x-n.paddingTopRight.x,a[a.length-1].y+(e>0?n.yGapBetweenDraggables:n.paddingTopRight.y))),t.position=s,n.options.removable&&t.getP4().y>o.getP4().y&&(t.removable=!0),a=Object(r.a)(a,t.getP4().add(n.paddingBottomNegLeft),!0)})),t}}]),e}(v)},function(t,e,n){"use strict";function i(t,e){var n,i,r=document.createElement("canvas");return"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),r.setAttribute("width",e.size.x+"px"),r.setAttribute("height",e.size.y+"px"),function(t,e){e=e||{};var n="";for(var i in e)e.hasOwnProperty(i)&&(n+=i+": "+e[i]+"; ");t.style.cssText=n}(r,{position:"absolute",left:e.position.y+"px",top:e.position.y+"px",width:e.size.x+"px",height:e.size.y+"px"}),i=r,(n=t).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),r}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var i=n(8),r=n(3),o=n(4),a=n(6);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,f(e).call(this,void 0,i))).options=Object.assign({timeEnd:200,timeExcange:400,radius:30,getDistance:o.a},i),n.draggables=t,n.init(),n}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,s=[{key:"factory",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(n).map((function(e){return new a.default(e,Object.assign({parent:t},i.draggable||{}))}));return new e(r,i.list||{})}}],(r=[{key:"init",value:function(){this._enable=!0,this.draggables.forEach(this.initDraggable,this)}},{key:"initDraggable",value:function(t){var e=this;t.enable=this._enable,t.on("drag:move",(function(){return e.onMove(t)})),t.dragEndAction=function(){return t.pinPosition(t.pinnedPosition,e.options.timeEnd)}}},{key:"onMove",value:function(t){var e=this.getSortedDraggables(),n=e.map((function(t){return t.pinnedPosition})),i=e.indexOf(t),r=Object(o.d)(n,t.position,this.options.radius,this.options.getDistance);if(-1!==r&&i!==r){if(r<i)for(var a=r;a<i;a++)e[a].pinPosition(n[a+1],this.options.timeExcange);else for(var s=i;s<r;s++)e[s+1].pinPosition(n[s],this.options.timeExcange);t.nativeDragAndDrop?t.pinPosition(n[r]):t.pinnedPosition=n[r],this.emit("list:change")}}},{key:"getCurrentPinnedPositions",value:function(){return this.draggables.map((function(t){return t.pinnedPosition.clone()}))}},{key:"getSortedDraggables",value:function(){var t=this;return this.draggables.map((function(t){return t.initialPosition})).map((function(e){return t.draggables.filter((function(t){return t.pinnedPosition.compare(e)}))[0]}))}},{key:"reset",value:function(){this.draggables.forEach((function(t){return t.resetPositionToInitial()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()}))}},{key:"add",value:function(t){t instanceof Array||(t=[t]),t.forEach(this.initDraggable,this),this.draggables=this.draggables.concat(t)}},{key:"remove",value:function(t){var e=this,n=this.draggables.map((function(t){return t.initialPosition})),r=[],o=this.getSortedDraggables();t instanceof Array||(t=[t]),t.forEach((function(t){t.resetOn("drag:end"),t.resetOn("drag:move"),Object(i.a)(e.draggables,t)}));var a=0;o.forEach((function(t){-1!==e.draggables.indexOf(t)&&(t.pinnedPosition!==n[a]&&t.pinPosition(n[a],e.options.timeExcange),t.initialPosition=n[a],a++,r.push(t))})),this.draggables=r}},{key:"clear",value:function(){this.remove(this.draggables.slice())}},{key:"destroy",value:function(){this.draggables.forEach((function(t){return t.destroy()}))}},{key:"positions",get:function(){return this.getCurrentPinnedPositions()},set:function(t){var e=this;if(t.length!==this.draggables.length)throw"wrong array length";t.forEach((function(t,n){e.draggables[n].pinPosition(t)}))}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t,this.draggables.forEach((function(e){e.enable=t}))}}])&&c(n.prototype,r),s&&c(n,s),e}(r.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var i=n(16),r=n(0),o=n(5),a=n(2),s=n(10),u=n(6);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=o.a.fromElement(e,e);this.options=Object.assign({angle:0,dAngle:2*Math.PI/n.length,center:r.getCenter(),startRadius:50,endRadius:r.getMinSide()/2,lineWidth:2,strokeStyle:"#ff5577",fillStyle:"rgba(150,255,50,0.8)"},i),this.area=e,this.areaRectangle=r,this.init(n)}var e,n,l;return e=t,(n=[{key:"init",value:function(t){var e=this;this.canvas=Object(i.a)(this.area,this.areaRectangle),this.context=this.canvas.getContext("2d"),this.draggables=t.map((function(t,n){var i=e.options.angle+n*e.options.dAngle,o=r.a.elementSize(t).mult(.5),c=Object(a.c)(i,e.options.startRadius,e.options.center).sub(o),l=Object(a.c)(i,e.options.endRadius,e.options.center).sub(o);return new u.default(t,{parent:e.area,bounding:new s.d(c,l),position:c,on:{"drag:move":function(){return e.draw()}}})})),this.isInit=!0,this.draw()}},{key:"draw",value:function(){if(this.isInit){this.context.clearRect(0,0,this.areaRectangle.size.x,this.areaRectangle.size.y),this.context.beginPath();var t=this.draggables[0].getCenter();this.context.moveTo(t.x,t.y);for(var e=0;e<this.draggables.length;e++)t=this.draggables[e].getCenter(),this.context.lineTo(t.x,t.y);this.context.closePath(),this.context.lineWidth=this.options.lineWidth,this.context.strokeStyle=this.options.strokeStyle,this.context.stroke(),this.context.fillStyle=this.options.fillStyle,this.context.fill()}}}])&&c(e.prototype,n),l&&c(e,l),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var i=n(6),r=n(10),o=n(3),a=n(5),s=n(2);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=l(this,f(e).call(this,void 0,r));var o=a.a.fromElement(t,t);return i.options=Object.assign({center:o.getCenter(),radius:o.getMinSide()/2,startAngle:Math.PI,endAngle:0,angles:[Math.PI,-Math.PI/4,0,Math.PI/4,Math.PI/2],time:500},r),i.shiftedCenter=i.options.center,i.area=t,i.init(n),i}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"init",value:function(t){var e=this,n=this.options.startAngle,o=Object(s.c)(n,this.options.radius,this.shiftedCenter);this.angle=n,this.draggable=new i.default(t,{parent:this.area,bounding:new r.a(this.shiftedCenter,this.options.radius,this.options.startAngle,this.options.endAngle),position:o,on:{"drag:move":function(){return e.change()}}})}},{key:"updateAngle",value:function(){this.angle=Object(s.b)(this.shiftedCenter,this.draggable.position)}},{key:"change",value:function(){this.updateAngle(),this.emit("arcslider:change",{angle:this.angle})}},{key:"setAngle",value:function(t,e){var n=Object(s.c)(this.angle,this.options.radius,this.shiftedCenter);this.angle=Object(s.d)(t,n),this.draggable.pinPosition(n,e||0),this.emit("arcslider:change",this.angle)}}])&&c(n.prototype,o),u&&c(n,u),e}(o.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return P}));var i=n(16),r=n(13),o=n(0),a=n(5),s=n(4),u=n(2),c=n(6),l=n(10),f=n(3);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y="ontouchstart"in window,b="mousedown",m="touchstart",x=function(){return Math.round(255*Math.random())},w=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e};function O(t,e){var n=[];return-1!==t&&(n.push(t),n.push((t+1)%e)),n}var P=function(t){function e(t,n){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=d(this,p(e).call(this,void 0,s));var c=a.a.fromElement(t,t);return i.options=Object.assign({center:c.getCenter(),radius:c.getMinSide()/2,touchRadius:c.getMinSide()/2,boundAngle:Math.PI/9,fillStyles:Object(r.a)(0,n.length).map((function(){return"#".concat(w(x())).concat(w(x())).concat(w(x()))})),initAngles:Object(r.a)(-90,270,360/n.length).map((function(t){return Object(u.e)(t)})),limitImg:null,limitImgOffset:new o.a(0,0),isSelectable:!1},s),i.area=t,i.areaRectangle=c,i.init(n),i}var n,f,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),n=e,(f=[{key:"init",value:function(t){var e=this;this.canvas=Object(i.a)(this.area,this.areaRectangle),this.context=this.canvas.getContext("2d"),this.draggables=t.map((function(t,n){var i=e.options.initAngles[n],r=o.a.elementSize(t).mult(.5),a=Object(u.c)(i,e.options.touchRadius,e.options.center.sub(r));return new c.default(t,{parent:e.area,bounding:new l.a(e.options.center.sub(r),e.options.touchRadius,e.getBoundAngle(n,!1),e.getBoundAngle(n,!0)),position:a,on:{"drag:move":function(){return e.draw()}}})})),this.isInit=!0,this.options.isSelectable&&this.initSelect(),this.draw()}},{key:"initSelect",value:function(){var t=this;this.setActiveArc(-1),this.canvas.addEventListener(b,(function(e){return t.onStart(e)})),this.canvas.addEventListener(m,(function(e){return t.onStart(e)}))}},{key:"onStart",value:function(t){var e=y&&t instanceof window.TouchEvent,n=new o.a(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY);this.canvasOffset||(this.canvasOffset=o.a.elementOffset(this.canvas,this.canvas)),n=n.sub(this.canvasOffset);var i=this.getArcOnPoint(n);-1!==i&&this.setActiveArc(this.activeArcIndex!==i?i:-1)}},{key:"updateAngles",value:function(){var t=this;this.angles=this.draggables.map((function(e){var n=e.getSize().mult(.5);return Object(u.b)(t.options.center.sub(n),e.position)}))}},{key:"getBoundAngle",value:function(t,e){var n=this,i=e?1:-1;return function(){var e=(t+i)%n.angles.length;return e<0&&(e+=n.angles.length),Object(u.d)(n.angles[e]-i*n.options.boundAngle)}}},{key:"draw",value:function(){var t=this;this.isInit&&(this.updateAngles(),this.context.clearRect(0,0,this.areaRectangle.size.x,this.areaRectangle.size.y),this.draggables.forEach((function(e,n){t.drawArc(t.context,t.options.center,t.options.radius,n)})),this.draggables.forEach((function(e,n){t.options.isSelectable?-1!==O(t.activeArcIndex,t.draggables.length).indexOf(n)&&t.drawLimitImg(n):t.drawLimitImg(n)})),this.emit("chart:draw"))}},{key:"createClone",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isInit){var r=a.a.fromElement(t,t),o=Object.assign({center:r.getCenter(),radius:r.getMinSide()/2,fillStyles:this.options.fillStyles},n),s=Object(i.a)(t,r),u=s.getContext("2d"),c={draw:function(){u.clearRect(0,0,r.size.x,r.size.y),e.draggables.forEach((function(t,n){e.drawArc(u,o.center,o.radius,n)}))}};return c.draw(),c}}},{key:"getFillStyle",value:function(t){return"function"==typeof this.options.fillStyles[t]&&(this.options.fillStyles[t]=this.options.fillStyles[t].call(this)),this.options.fillStyles[t]}},{key:"drawArc",value:function(t,e,n,i){var r=this.angles[i],o=this.angles[(i+1)%this.angles.length],a=this.getFillStyle(i);t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,n,r,o,!1),t.lineTo(e.x,e.y),t.closePath(),t.fillStyle=a,t.fill()}},{key:"drawLimitImg",value:function(t){var e,n;if(this.options.limitImg&&(n=this.options.limitImg instanceof Array?this.options.limitImg[t]:this.options.limitImg),n){var i=Object(u.d)(this.angles[t]);e=(e=new o.a(0,-n.height/2)).add(this.options.limitImgOffset),this.context.translate(this.areaRectangle.size.x/2,this.areaRectangle.size.y/2),this.context.rotate(i),this.context.drawImage(n,e.x,e.y),this.context.setTransform(1,0,0,1,0,0)}}},{key:"getAnglesDiff",value:function(){var t=this.angles.slice(1),e=this.angles[0];return t.push(e),t.map((function(t){var n=Object(u.d)(t-e);return e=t,n}))}},{key:"getPercent",value:function(){return this.getAnglesDiff().map((function(t){return t/(2*Math.PI)}))}},{key:"getArcBisectrixs",value:function(){var t=this;return this.getAnglesDiff().map((function(e,n){return Object(u.d)(t.angles[n]+e/2)}))}},{key:"getArcOnPoint",value:function(t){var e=Object(u.b)(this.options.center,t);if(Object(s.a)(this.options.center,t)>this.options.radius)return-1;var n,i,r=-1;for(n=0;n<this.angles.length;n++)(-1===r||this.angles[r]>this.angles[n])&&(r=n);for(n=0,i=r;n<this.angles.length&&!(e<this.angles[i]);i=(++n+r)%this.angles.length);return--i<0&&(i+=this.angles.length),i}},{key:"setAngles",value:function(t){var e=this;this.angles=t,this.draggables.forEach((function(t,n){var i=e.angles[n],r=t.getSize().mult(.5),o=Object(u.c)(i,e.options.touchRadius,e.options.center.sub(r));t.moveAndSave(o)})),this.draw()}},{key:"setActiveArc",value:function(t){var e=O(t,this.draggables.length);this.activeArcIndex=t,this.draggables.forEach((function(t,n){t.enable=-1!==e.indexOf(n)})),this.draw()}}])&&g(n.prototype,f),h&&g(n,h),e}(f.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"bound",(function(){return p})),n.d(e,"distance",(function(){return v}));var i=n(0);n.d(e,"Point",(function(){return i.a})),n.d(e,"Rectangle",(function(){return i.a}));var r=n(6);n.d(e,"Draggable",(function(){return r.default}));var o=n(17);n.d(e,"List",(function(){return o.default}));var a=n(12);n.d(e,"Target",(function(){return a.a}));var s=n(9);n.d(e,"scopes",(function(){return s.d})),n.d(e,"defaultScope",(function(){return s.b})),n.d(e,"Scope",(function(){return s.a})),n.d(e,"scope",(function(){return s.c}));var u=n(15);n.d(e,"NotCrossingStrategy",(function(){return u.c})),n.d(e,"FloatLeftStrategy",(function(){return u.a})),n.d(e,"FloatRightStrategy",(function(){return u.b}));var c=n(18);n.d(e,"Spider",(function(){return c.default}));var l=n(19);n.d(e,"ArcSlider",(function(){return l.default}));var f=n(20);n.d(e,"Chart",(function(){return f.default}));var h=n(4),g=n(1);n.d(e,"addClass",(function(){return g.a})),n.d(e,"removeClass",(function(){return g.b}));var d=n(10),p={BoundToRectangle:d.g,BoundToElement:d.c,BoundToLineX:d.e,BoundToLineY:d.f,BoundToLine:d.d,BoundToCircle:d.b,BoundToArc:d.a},v={getDistance:h.a,getXDifference:h.b,getYDifference:h.c,transformedSpaceDistanceFactory:h.e}}])}));
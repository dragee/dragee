!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Dragee",[],e):"object"==typeof exports?exports.Dragee=e():t.Dragee=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u}));var s=function(){function t(e,n){i(this,t),this.x=e,this.y=n}return r(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"negative",value:function(){return new t(-this.x,-this.y)}},{key:"compare",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}]),t}(),a=function(){function t(e,n){i(this,t),this.position=e,this.size=n}return r(t,[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new s(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new s(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var n=new s(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new t(n,new s(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n))}},{key:"and",value:function(e){var n=new s(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),i=new s(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n);return i.x<=0||i.y<=0?null:new t(n,i)}},{key:"includePoint",value:function(t){return!(this.position.x>t.x||this.position.x+this.size.x<t.x||this.position.y>t.y||this.position.y+this.size.y<t.y)}},{key:"includeRectangle",value:function(t){return this.includePoint(t.position)&&this.includePoint(t.getP3())}},{key:"moveToBound",value:function(t,e){var n,i;if(e)n=e;else{if(!(i=this.and(t)))return t;n=i.size.x>i.size.y?"y":"x"}var o=this.getCenter(),r=t.getCenter(),s=(o[n]>r[n]?-1:1)>0?this.position[n]+this.size[n]-t.position[n]:this.position[n]-(t.position[n]+t.size[n]);return t.position[n]=t.position[n]+s,t}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(t){(t=t||document.querySelector("ind")).style.left=this.position.x+"px",t.style.top=this.position.y+"px",t.style.width=this.size.x+"px",t.style.height=this.size.y+"px"}},{key:"growth",value:function(t){this.size=this.size.add(t),this.position=this.position.add(t.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}]),t}(),u={getDistance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},distance:function(t,e){return u.getDistance(t,e)},getXDifference:function(t,e){return Math.abs(t.x-e.x)},getYDifference:function(t,e){return Math.abs(t.y-e.y)},transformedSpaceDistanceFactory:function(t){return function(e,n){return Math.sqrt(Math.pow(t.x*Math.abs(e.x-n.x),2)+Math.pow(t.y*Math.abs(e.y-n.y),2))}},indexOfNearestPoint:function(t,e,n,i){var o,r,s,a=0;if(i=i||u.getDistance,0===t.length)return-1;for(o=i(t[0],e),r=0;r<t.length;r++)(s=i(t[r],e))<o&&(o=s,a=r);return n>=0&&o>n?-1:a},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},boundPoint:function(t,e,n){var i=Math.max(t.x,Math.min(e.x,n.x)),o=Math.max(t.y,Math.min(e.y,n.y));return new s(i,o)},directCrossing:function(t,e,n,i){var o,r,a,u,c,h;return n.x===i.x&&(o=n,n=t,t=o,o=i,i=e,e=o),t.x===e.x?(a=(i.y-n.y)/(i.x-n.x),c=(i.x*n.y-n.x*i.y)/(i.x-n.x),h=t.x,new s(h,h*a+c)):(r=(e.y-t.y)/(e.x-t.x),u=(e.x*t.y-t.x*e.y)/(e.x-t.x),a=(i.y-n.y)/(i.x-n.x),c=(i.x*n.y-n.x*i.y)/(i.x-n.x),new s(h=(u-c)/(a-r),h*r+u))},boundToSegment:function(t,e,n){var i,o;return(i=u.bound(Math.min(t.x,e.x),Math.max(t.x,e.x),n.x))!==n.x&&(o=i===t.x?t.y:e.y,n=new s(i,o)),(o=u.bound(Math.min(t.y,e.y),Math.max(t.y,e.y),n.y))!==n.y&&(i=o===t.y?t.x:e.x,n=new s(i,o)),n},boundToLine:function(t,e,n){var i=new s(n.x-t.x,n.y-t.y),o=new s(e.x-t.x,e.y-t.y),r=o.x*o.x+o.y*o.y,a=(i.x*o.x+i.y*o.y)/r;return new s(t.x+o.x*a,t.y+o.y*a)},getPointInLine:function(t,e,n){var i=e.x-t.x,o=e.y-t.y;return new s(t.x+n*i,t.y+n*o)},getPointInLineByLenght:function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=n/u.distance(t,e);return new s(t.x+r*i,t.y+r*o)},createRectangleFromElement:function(t,e,n,i){var o=this.getSizeOfElement(t,n);return new a(this.getOffset(t,e||t.parentNode,i),o)},getSumValueOfStyleRule:function(t,e){return e.reduce((function(e,n){return e+parseInt(window.getComputedStyle(t)[n]||0)}),0)},getSizeOfElement:function(t,e){var n=parseInt(window.getComputedStyle(t).width),i=parseInt(window.getComputedStyle(t).height);return e||(n+=this.getSumValueOfStyleRule(t,["padding-left","padding-right","border-left-width","border-right-width"]),i+=this.getSumValueOfStyleRule(t,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new s(n,i)},getOffset:function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return new s(n.left-i.left,n.top-i.top)},getPointFromRadialSystem:function(t,e,n){return(n=n||new s(0,0)).add(new s(e*Math.cos(t),e*Math.sin(t)))},addPointToBoundPoints:function(t,e,n){for(var i=t.filter((function(t){return t.y>e.y||(n?t.x<e.x:t.x>e.x)})),o=0;o<i.length;o++)if(e.y<i[o].y)return i.splice(o,0,e),i;return i.push(e),i},getAngle:function(t,e){var n=e.sub(t);return this.normalizeAngle(Math.atan2(n.y,n.x))},toRadian:function(t){return t%360*Math.PI/180},toDegree:function(t){return 180*t/Math.PI%360},boundAngle:function(t,e,n){return t<e&&n>t&&n<e?n:e<t&&(n<e||n>t)?n:this.getAngleDiff(t,n)<this.getAngleDiff(e,n)?t:e},getNearestAngle:function(t,e){var n,i,o,r=2*Math.PI;for(n=0;n<t.length;n++)r<(i=u.getAngleDiff(t[n],e))&&(r=i,o=t[n]);return o},getAngleDiff:function(t,e){var n=Math.min(t,e),i=Math.max(t,e);return Math.min(i-n,n+2*Math.PI-i)},normalizeAngle:function(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}}},function(t,e,n){"use strict";function i(t,e){(function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)","g").test(t.className)})(t,e)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function o(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}n.r(e);var r=n(7),s=n(2),a=n(8),u=n.n(a),c=n(5),h=n(0),f=n(4);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"Draggable",(function(){return E})),n.d(e,"events",(function(){return y}));var l={Event:s.a},d="ontouchstart"in window,p={start:"mousedown",move:"mousemove",end:"mouseup"},v={start:"touchstart",move:"touchmove",end:"touchend"},y=d?v:p,b=[],m=u()("transform"),x=u()("transition");function w(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return!1}var E=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i.parent||Object(r.a)(e);this.targets=[],this.options=Object.assign({parent:o,bound:Object(c.c)(o,o),startFilter:!1,isContentBoxSize:!1,position:!1},i),"string"==typeof i.handler?this.handler=e.querySelector(i.handler)||e:this.handler=i.handler||e,this.onEnd=new l.Event(this,{isReverse:!0,isStopOnTrue:!0}),this.onMove=new l.Event(this),this.onStart=new l.Event(this),this.onEnd.add((function(){return n.move(n.position,0,!0,!0)})),i.onEnd&&this.onEnd.add(i.onEnd),i.onMove&&this.onMove.add(i.onMove),i.onStart&&this.onStart.add(i.onStart),this.element=e,this.bound=this.options.bound,function(t){if(b.some((function(e){return t.element===e.element})))throw"for this element Dragee.Draggable is already exist, don't create it twice ";b.push(t)}(this),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.offset=h.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this._dragStart=this.dragStart.bind(this),this._dragMove=this.dragMove.bind(this),this._dragEnd=this.dragEnd.bind(this),this.handler.addEventListener(v.start,this._dragStart),this.handler.addEventListener(p.start,this._dragStart),this.bound.refresh&&this.bound.refresh()}},{key:"reinit",value:function(){this.offset=h.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this.bound.refresh&&this.bound.refresh()}},{key:"getSize",value:function(t){return h.a.getSizeOfElement(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new h.b(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setTranslate",value:function(t){this._transformPosition=t;var e=this.element.style[m],n=this.isDragging?1:0,i=" translate3d(".concat(t.x,"px, ").concat(t.y,"px, ").concat(n,"px)");window.navigator.userAgent.indexOf("MSIE ")?(i=" translate("+t.x+"px,"+t.y+"px)",/translate\([^)]+\)/.test(e)?e=e.replace(/translate\([^)]+\)/,i):e+=i):/translate3d\([^)]+\)/.test(e)?e=e.replace(/translate3d\([^)]+\)/,i):e+=i,this.element.style[m]=e}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.clone(),n&&(this.fixPosition=t),this.determineDirection(t),this.position=t,x&&(this.element.style[x]=e+"ms"),this._setTranslate(t.sub(this.offset)),i||this.onMove.fire()}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(t){t=t.clone(),this.position=t,x&&(this.element.style[x]="0ms"),this._setTranslate(t.sub(this.offset))}},{key:"setZeroTransition",value:function(){x&&(this.element.style[x]="0ms")}},{key:"determineDirection",value:function(t){this.leftDirection=this.position.x<t.x,this.rightDirection=this.position.x>t.x,this.upDirection=this.position.y>t.y,this.downDirection=this.position.y<t.y}},{key:"dragStart",value:function(t){if(this.currentEvent=t,this._enable&&(!this.options.startFilter||this.options.startFilter(t))){var e=d&&t instanceof window.TouchEvent;this._startTouchPoint=new h.b(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY),this._startPosition=this.getPosition(),e&&(this._touchId=t.changedTouches[0].identifier),t.stopPropagation(),t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement?t.target.focus():t.preventDefault(),document.addEventListener(v.move,this._dragMove),document.addEventListener(p.move,this._dragMove),document.addEventListener(v.end,this._dragEnd),document.addEventListener(p.end,this._dragEnd),this.isDragging=!0,this.onStart.fire(t),i(this.element,"active"),this.onMove.fire(t)}}},{key:"dragMove",value:function(t){var e;this.currentEvent=t;var n=d&&t instanceof window.TouchEvent;if(!n||(e=w(t,this._touchId))){t.stopPropagation(),t.preventDefault();var i=new h.b(n?e.pageX:t.clientX,n?e.pageY:t.clientY),o=this._startPosition.add(i.sub(this._startTouchPoint));o=this.bound(o,this.getSize()),this.touchPoint=i,this.move(o,0)}}},{key:"dragEnd",value:function(t){d&&t instanceof window.TouchEvent&&!w(t,this._touchId)||(t.stopPropagation(),t.preventDefault(),this.onEnd.fire(t),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.isDragging=!1,o(this.element,"active"))}},{key:"getRectangle",value:function(){return new h.c(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bound.refresh&&this.bound.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(v.start,this._dragStart),this.handler.removeEventListener(p.start,this._dragStart),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.onEnd.reset(),this.onMove.reset()}},{key:"enable",get:function(){return this._enable},set:function(t){return t?o(this.element,"disable"):i(this.element,"disable"),this._enable=t}}])&&g(e.prototype,n),s&&g(e,s),t}();E.onCreate=new l.Event(E,{isReverse:!0,isStopOnTrue:!0}),E.onCreate.add((function(t){f.b.addDraggable(t)}))},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.funcs=[],this.context=t,this.isReverse=e.isReverse||!1,this.isStopOnTrue=e.isStopOnTrue||!1}i.prototype.fire=function(){for(var t,e=[].slice.call(arguments),n=this.isReverse?this.funcs.slice().reverse():this.funcs,i=0;i<n.length;i++)if(t=n[i].apply(this.context,e),this.isStopOnTrue&&t)return!0;return!this.isStopOnTrue},i.prototype.add=function(t){this.funcs.push(t)},i.prototype.unshift=function(t){this.funcs.unshift(t)},i.prototype.remove=function(t){var e=this.funcs.indexOf(t);-1!==e&&this.funcs.splice(e,1)},i.prototype.reset=function(t){this.funcs=[]},e.a=i},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--);return t}},function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return g}));var i=n(3),o=n(2),r=n(1),s=n(6);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u={Event:o.a},c=[],h=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c.forEach((function(t){e&&e.forEach((function(e){Object(i.a)(t.draggables,e)})),n&&n.forEach((function(e){Object(i.a)(t.targets,e)}))})),this.draggables=e||[],this.targets=n||[],c.push(this),this.options={timeEnd:o.timeEnd||400},this.onChange=new u.Event(this),o.onChange&&this.onChange.add(o.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;this.draggables.forEach((function(e){e.onEnd.add((function(){return t.onEnd(e)}))}))}},{key:"addDraggable",value:function(t){var e=this;this.draggables.push(t),t.onEnd.unshift((function(){return e.onEnd(t)}))}},{key:"addTarget",value:function(t){this.targets.push(t)}},{key:"onEnd",value:function(t){var e=this.targets.filter((function(e){return-1!==e.draggables.indexOf(t)})).filter((function(e){return e.catchDraggable(t)})).sort((function(t,e){return t.getRectangle().getSquare()-e.getRectangle().getSquare()}));return e.length?e[0].onEnd(t):t.targets.length&&t.move(t.initPosition,this.options.timeEnd,!0,!0),this.onChange.fire(),!0}},{key:"reset",value:function(){this.targets.forEach((function(t){return t.reset()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()})),this.targets.forEach((function(t){return t.refresh()}))}},{key:"positions",get:function(){var t=this;return this.targets.map((function(e){return e.innerDraggables.map((function(e){return t.draggables.indexOf(e)}))}))},set:function(t){var e=this;if(t.length!==this.targets.length)throw"wrong array length";this.targets.forEach((function(t){return t.reset()})),t.forEach((function(t,n){t.forEach((function(t){e.targets[n].add(e.draggables[t])}))}))}}])&&a(e.prototype,n),o&&a(e,o),t}(),f=new h;function g(t){var e=new h,n=function(t){return e.addDraggable(t),!0},i=function(t){return e.addTarget(t),!0};return r.Draggable.onCreate.add(n),s.a.onCreate.add(i),t.call(),r.Draggable.onCreate.remove(n),s.a.onCreate.remove(i),e}function l(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.draggable||{},a=i.target||{},u=i.scope||{};o.parent=o.parent||t,a.parent=a.parent||t,e=Array.prototype.slice.call(e),n=Array.prototype.slice.call(n);var c=e.map((function(t){return new r.Draggable(t,o)})),f=n.map((function(t){return new s.a(t,c,a)}));return new h(c,f,u)}},function(t,e,n){"use strict";n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var i=n(0);function o(t){return function(e,n){var i=e.clone(),o=t.getP3();return t.position.x>i.x&&(i.x=t.position.x),t.position.y>i.y&&(i.y=t.position.y),o.x<i.x+n.x&&(i.x=o.x-n.x),o.y<i.y+n.y&&(i.y=o.y-n.y),i}}function r(t,e){var n,r=function(){return n.apply(this,arguments)};return r.refresh=function(){n=o(i.a.createRectangleFromElement(t,e))},r.refresh(),r}function s(t,e,n){return function(i,o){var r=i.clone();return r.x=t,e>r.y&&(r.y=e),n<r.y+o.y&&(r.y=n-o.y),r}}function a(t,e,n){return function(i,o){var r=i.clone();return r.y=t,e>r.x&&(r.x=e),n<r.x+o.x&&(r.x=n-o.x),r}}function u(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x)+Math.PI/2,o=Math.cos(n),r=Math.sin(n);return function(n,s){var a=new i.b(n.x+10*o,n.y+10*r),u=i.a.getPointInLineByLenght(e,t,s.x),c=i.a.directCrossing(t,e,n,a);return c=i.a.boundToLine(t,u,c)}}function c(t,e){return function(n,o){return i.a.getPointInLineByLenght(t,n,e)}}function h(t,e,n,o){return function(r,s){var a="function"==typeof n?n():n,u="function"==typeof n?o():o,c=i.a.getAngle(t,r);return c=i.a.normalizeAngle(c),c=i.a.boundAngle(a,u,c),i.a.getPointFromRadialSystem(c,e,t)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(9),o=n(3),r=n(7),s=n(2),a=n(0),u=n(4),c=n(10);function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={Event:s.a},g=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,s=i.parent||Object(r.a)(e);this.options=Object.assign({timeEnd:200,timeExcange:400,parent:s},i),this.positioningStrategy=i.strategy||new c.a(this.getRectangle.bind(this),{radius:80,getDistance:a.a.transformedSpaceDistanceFactory({x:1,y:4}),removable:!0}),this.element=e,n.forEach((function(t){return t.targets.push(o)})),this.draggables=n,this.onAdd=new f.Event(this),this.beforeAdd=new f.Event(this),this.onRemove=new f.Event(this),i.onRemove&&this.onRemove.add(i.onRemove),i.onAdd&&this.onAdd.add(i.onAdd),i.beforeAdd&&this.beforeAdd.add(i.beforeAdd),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"positioning",value:function(t,e){return this.positioningStrategy.positioning(t,e)}},{key:"sorting",value:function(t,e,n){return this.positioningStrategy.sorting(t,e,n)}},{key:"init",value:function(){var t,e,n=this;this.innerDraggables=this.draggables.filter((function(t){for(var e=t.element.parentNode;e;){if(e===n.element)return!0;e=e.parentNode}return!1})),this.innerDraggables.length&&(e=Object(i.a)(this.innerDraggables.length),t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e),this.setPosition(t,e),this.innerDraggables.forEach((function(t){return n.onAdd.fire(t)})))}},{key:"getRectangle",value:function(){return a.a.createRectangleFromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(t){if(this.options.catchDraggable)return this.options.catchDraggable(this,t);var e=this.getRectangle();return t.getRectangle().getSquare()<e.getSquare()&&e.includePoint(t.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;u.e.forEach((function(e){return Object(o.a)(e.targets,t)}))}},{key:"refresh",value:function(){var t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(t,[],0)}},{key:"onEnd",value:function(t){var e=[];if(!this.getRectangle().includePoint(t.getPosition())){if(!this.getRectangle().includePoint(t.getCenter()))return!1;t.position=t.getCenter().clone()}this.beforeAdd.fire(t),this.innerDraggables=this.sorting(this.innerDraggables,[t],e);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e);return this.setPosition(n,e),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t),!0}},{key:"setPosition",value:function(t,e,n){var i=this;this.innerDraggables.slice(0).forEach((function(r,s){var a=t[s],u=n||0===n?n:-1!==e.indexOf(s)?i.options.timeEnd:i.options.timeExcange;a.removable?(r.move(r.initPosition,u,!0,!0),Object(o.a)(i.innerDraggables,r),i.onRemove.fire(r)):r.move(a.position,u,!0,!0)}))}},{key:"add",value:function(t,e){var n=this.innerDraggables.length;this.beforeAdd.fire(t),this.pushInnerDraggable(t);var i=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),n,t);this.setPosition(i,[n],e||0),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t)}},{key:"pushInnerDraggable",value:function(t){-1===this.innerDraggables.indexOf(t)&&this.innerDraggables.push(t)}},{key:"addRemoveOnMove",value:function(t){var e=this;t.onMove.add(this.removeHandler=function(){e.remove(t)}),this.onAdd.fire(t)}},{key:"remove",value:function(t){t.onMove.remove(this.removeHandler);var e=this.innerDraggables.indexOf(t);if(-1!==e){this.innerDraggables.splice(e,1);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(n,[]),this.onRemove.fire(t)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach((function(e){e.move(e.initPosition,0,!0,!0),t.onRemove.fire(e)})),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}])&&h(e.prototype,n),s&&h(e,s),t}();g.onCreate=new f.Event(g,{isReverse:!0,isStopOnTrue:!0}),g.onCreate.add((function(t){u.b.addTarget(t)}))},function(t,e,n){"use strict";function i(t){for(var e=t.parentNode;e.parentNode&&"static"===window.getComputedStyle(e).position;)e=e.parentNode;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){var i;
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */!function(o){"use strict";var r="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;function a(t){if(t){if("string"==typeof s[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=r.length;n<i;n++)if(e=r[n]+t,"string"==typeof s[e])return e}}void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){"use strict";function i(t,e,n){var i=[];if(void 0===e&&(e=t,t=0),void 0===n&&(n=1),n>0&&t>=e||n<0&&t<=e)return[];for(var o=t;n>0?o<e:o>e;o+=n)i.push(o);return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t),this.rectangle=e,this.options=n}return f(t,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),t}(),l=function(t){function e(){return c(this,e),r(this,s(e).apply(this,arguments))}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,i=t.reduce((function(t,n,i){return-1===e.indexOf(i)&&t.push(i),t}),[]);return e.forEach((function(e){var o=t[e];i.forEach((function(e){var n=t[e];o=n.moveToBound(o)})),i.some((function(e){return!!t[e].and(o)}))||o.and(n.boundRect).getSquare()!==o.getSquare()?o.removable=!0:i.push(e)})),t}},{key:"sorting",value:function(t,e,n){var i=t.concat(e);return e.forEach((function(t){n.push(i.indexOf(t))})),i}}]),e}(g),d=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,e),(n=r(this,s(e).call(this,t,o))).options=Object.assign({removable:!0},o),n.radius=o.radius||80,n.paddingTopLeft=o.paddingTopLeft||new i.b(0,0),n.paddingBottomRight=o.paddingBottomRight||new i.b(0,0),n.yGapBetweenDraggables=o.yGapBetweenDraggables||0,n.getDistance=o.getDistance||i.a.getDistance,n.getPosition=o.getPosition||function(t){return t.position},n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=o.getP2(),s=[o.position];return t.forEach((function(t){for(var e,a=!1,u=0;u<s.length&&!(a=(e=new i.b(s[u].x,u>0?s[u-1].y+n.yGapBetweenDraggables:o.position.y).add(n.paddingTopLeft)).x+t.size.x<r.x);u++);a||(e=new i.b(o.position.x,s[s.length-1].y+n.yGapBetweenDraggables).add(n.paddingTopLeft)),t.position=e,n.options.removable&&t.getP3().y>o.getP3().y&&(t.removable=!0),s=i.a.addPointToBoundPoints(s,t.getP3().add(n.paddingBottomRight))})),t}},{key:"sorting",value:function(t,e,n){var o=this,r=t.concat(),s=t.map((function(t){return t.getPosition()}));return e.forEach((function(e){var n=i.a.indexOfNearestPoint(s,o.getPosition(e),o.radius,o.getDistance);n=-1===n?r.length:r.indexOf(t[n]),r.splice(n,0,e)})),e.forEach((function(t){n.push(r.indexOf(t))})),r}}]),e}(g),p=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,e),(n=r(this,s(e).call(this,t,o))).paddingTopRight=o.paddingTopRight||new i.b(5,5),n.paddingBottomLeft=o.paddingBottomLeft||new i.b(0,0),n.paddingTopNegRight=new i.b(-n.paddingTopRight.x,n.paddingTopRight.y),n.paddingBottomNegLeft=new i.b(-n.paddingBottomLeft.x,n.paddingBottomLeft.y),n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=[o.getRightTopPoint()];return t.forEach((function(t,e){for(var s,a=!1,u=0;u<r.length&&!(a=(s=new i.b(r[u].x-t.size.x,u>0?r[u-1].y:o.position.y).add(n.paddingTopNegRight)).x>t.position.x);u++);a||(s=new i.b(o.getP2().x,r[r.length-1].y)),t.position=s,n.options.removable&&t.getLeftBottomPoint().y>o.getP4().y&&(t.removable=!0),r=i.a.addPointToBoundPoints(r,t.getP4().add(n.paddingBottomNegLeft),!0)})),t}}]),e}(d)},function(t,e,n){"use strict";n.r(e),n.d(e,"List",(function(){return c})),n.d(e,"listFactory",(function(){return h}));var i=n(3),o=n(2),r=n(0),s=n(1);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u={Event:o.a},c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({timeEnd:200,timeExcange:400,radius:30,getDistance:r.a.getDistance,isDisplacement:!1,isSortable:!0},n),this.draggables=e,this.onChange=new u.Event(this),n.onChange&&this.onChange.add(n.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.draggables.forEach(this.initDraggable,this)}},{key:"initDraggable",value:function(t){var e,n=this,i=this;t.enable=this._enable,this.options.isDisplacement?(e=function(){if(t.isDragging)return i.onStart(t),t.onMove.remove(e),!0},t.onEnd.add((function(){return n.onEndDisplaycement(t),t.onMove.add(e),!0})),t.onMove.add(e)):t.onEnd.add((function(){return n.onEnd(t),!0}))}},{key:"moveOrSave",value:function(t,e,n){t.isDragging?t.fixPosition=e:t.move(e,n,!0)}},{key:"onEnd",value:function(t){var e=this.getCurrentFixPosition(),n=this.draggables.indexOf(t),i=r.a.indexOfNearestPoint(e,t.position,this.options.radius,this.options.getDistance);return-1===i||i===n?t.move(t.fixPosition,this.options.timeEnd,!0):(this.moveOrSave(this.draggables[i],e[n],this.options.timeExcange),this.draggables[n].move(e[i],this.options.timeEnd,!0),this.onChange.fire()),!0}},{key:"sortIfPossible",value:function(t){var e=t.fixPosition,n=this.draggables.indexOf(t),i=this.draggables[n+1],o=this.draggables[n-1];if(t.downDirection&&i&&this.options.getDistance(t.position,i.position)<this.options.radius){t.fixPosition=i.fixPosition,this.moveOrSave(i,e,this.options.timeExcange);var r=[this.draggables[n+1],this.draggables[n]];this.draggables[n]=r[0],this.draggables[n+1]=r[1],this.sortIfPossible(t)}if(t.upDirection&&o&&this.options.getDistance(t.position,o.position)<this.options.radius){t.fixPosition=o.fixPosition,this.moveOrSave(o,e,this.options.timeExcange);var s=[this.draggables[n-1],this.draggables[n]];this.draggables[n]=s[0],this.draggables[n-1]=s[1],this.sortIfPossible(t)}}},{key:"onEndDisplaycement",value:function(t){var e=this.getSortedDraggables(),n=e.map((function(t){return t.fixPosition})),i=e.indexOf(t),o=r.a.indexOfNearestPoint(n,t.position,this.options.radius,this.options.getDistance);if(-1!==o){if(o<i)for(var s=o;s<i;s++)this.moveOrSave(e[s],n[s+1],this.options.timeExcange);else for(var a=i;a<o;a++)this.moveOrSave(e[a+1],n[a],this.options.timeExcange);t.move(n[o],this.options.timeEnd,!0)}else t.move(t.fixPosition,this.options.timeEnd,!0)}},{key:"onStart",value:function(t){var e,n=this.getSortedDraggables(),i=n.map((function(t){return t.fixPosition})),o=n.indexOf(t);for(e=o+1;e<n.length;e++)this.moveOrSave(n[e],i[e-1],this.options.timeExcange);n[o].fixPosition=i[e-1]}},{key:"getCurrentFixPosition",value:function(){return this.draggables.map((function(t){return t.fixPosition.clone()}))}},{key:"getSortedDraggables",value:function(){var t=this;return this.draggables.map((function(t){return t.initPosition})).map((function(e){return t.draggables.filter((function(t){return t.fixPosition.compare(e)}))[0]}))}},{key:"reset",value:function(){this.draggables.forEach((function(t){t.move(t.initPosition,0,!0,!1)}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){t.refresh()}))}},{key:"add",value:function(t){t instanceof Array||(t=[t]),t.forEach(this.initDraggable,this),this.draggables=this.draggables.concat(t)}},{key:"remove",value:function(t){var e=this,n=this.draggables.map((function(t){return t.initPosition})),o=[],r=this.getSortedDraggables();t instanceof Array||(t=[t]),t.forEach((function(t){t.onEnd.reset(),t.onMove.reset(),Object(i.a)(e.draggables,t)}));var s=0;r.forEach((function(t){-1!==e.draggables.indexOf(t)&&(t.fixPosition!==n[s]&&t.move(n[s],e.options.timeExcange,!0),t.initPosition=n[s],s++,o.push(t))})),this.draggables=o}},{key:"clear",value:function(){this.remove(this.draggables.slice())}},{key:"destroy",value:function(){this.draggables.forEach((function(t){return t.destroy()}))}},{key:"positions",get:function(){return this.getCurrentFixPosition()},set:function(t){var e=this;if(t.length!==this.draggables.length)throw"wrong array length";t.forEach((function(t,n){e.draggables[n].move(t,0,!0,!0)}),this)}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t,this.draggables.forEach((function(e){e.enable=t}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.draggable||{},o=n.list||{};i.parent=i.parent||t;var r=(e=Array.prototype.slice.call(e)).map((function(t){return new s.Draggable(t,i)}));return new c(r,o)}},,function(t,e,n){"use strict";n.r(e),n.d(e,"Sortable",(function(){return f})),n.d(e,"sortableFactory",(function(){return g}));var i=n(11),o=n(0),r=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.getDistance=n.getDistance||o.a.getYDifference,u(this,c(e).call(this,t,n))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(i=[{key:"initDraggable",value:function(t){var e=this;t.enable=this._enable,this.options.isSortable&&(t.onMove.add((function(){if(t.isDragging)return e.exchangeDraggableIfPossible(t),!0})),t.onEnd.add((function(){t.move(t.fixPosition,e.options.timeEnd)})))}},{key:"exchangeDraggableIfPossible",value:function(t){var e=t.fixPosition,n=this.draggables.indexOf(t),i=this.draggables[n+1],o=this.draggables[n-1];if(t.downDirection&&i&&this.options.getDistance(t.position,i.position)<this.options.radius){t.fixPosition=i.fixPosition,this.moveOrSave(i,e,this.options.timeExcange);var r=[this.draggables[n+1],this.draggables[n]];this.draggables[n]=r[0],this.draggables[n+1]=r[1],this.exchangeDraggableIfPossible(t)}if(t.upDirection&&o&&this.options.getDistance(t.position,o.position)<this.options.radius){t.fixPosition=o.fixPosition,this.moveOrSave(o,e,this.options.timeExcange);var s=[this.draggables[n-1],this.draggables[n]];this.draggables[n]=s[0],this.draggables[n-1]=s[1],this.exchangeDraggableIfPossible(t)}}}])&&a(n.prototype,i),r&&a(n,r),e}(i.List);function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.draggable||{},o=n.list||{};i.parent=i.parent||t;var s=(e=Array.prototype.slice.call(e)).map((function(t){return new r.Draggable(t,i)}));return new f(s,o)}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZWUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0RyYWdlZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtLmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy9zY29wZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvYm91bmQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3RhcmdldC5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvdXRpbHMvZ2V0LWRlZmF1bHQtcGFyZW50LmpzIiwid2VicGFjazovL0RyYWdlZS8uL25vZGVfbW9kdWxlcy9kZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9yYW5nZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvcG9zaXRpb25pbmcuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2xpc3QuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3NvcnRhYmxlLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQb2ludCIsIngiLCJ5IiwidGhpcyIsImsiLCJSZWN0YW5nbGUiLCJwb3NpdGlvbiIsInNpemUiLCJhZGQiLCJtdWx0IiwicmVjdCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzdWIiLCJyZWN0YW5nbGUiLCJpbmNsdWRlUG9pbnQiLCJnZXRQMyIsImF4aXMiLCJzZWxBeGlzIiwiY3Jvc3NSZWN0YW5nbGUiLCJhbmQiLCJ0aGlzQ2VudGVyIiwiZ2V0Q2VudGVyIiwicmVjdENlbnRlciIsIm9mZnNldCIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJHZW9tZXRyeSIsImdldERpc3RhbmNlIiwicDEiLCJwMiIsImR4IiwiZHkiLCJzcXJ0IiwiZGlzdGFuY2UiLCJnZXRYRGlmZmVyZW5jZSIsImFicyIsImdldFlEaWZmZXJlbmNlIiwidHJhbnNmb3JtZWRTcGFjZURpc3RhbmNlRmFjdG9yeSIsIm9wdGlvbnMiLCJwb3ciLCJpbmRleE9mTmVhcmVzdFBvaW50IiwiYXJyIiwidmFsIiwicmFkaXVzIiwidGVtcCIsImluZGV4IiwibGVuZ3RoIiwiYm91bmQiLCJib3VuZFBvaW50IiwiZGlyZWN0Q3Jvc3NpbmciLCJMMVAxIiwiTDFQMiIsIkwyUDEiLCJMMlAyIiwiazEiLCJrMiIsImIxIiwiYjIiLCJib3VuZFRvU2VnbWVudCIsIkxQMSIsIkxQMiIsIlAiLCJib3VuZFRvTGluZSIsIkEiLCJCIiwiQVAiLCJBQiIsImFiMiIsImdldFBvaW50SW5MaW5lIiwicGVyY2VudCIsImdldFBvaW50SW5MaW5lQnlMZW5naHQiLCJsZW5naHQiLCJjcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudCIsInBhcmVudCIsImlzQ29udGVudEJveFNpemUiLCJpc0NvbnNpZGVyVHJhbnNsYXRlIiwiZ2V0U2l6ZU9mRWxlbWVudCIsImdldE9mZnNldCIsInBhcmVudE5vZGUiLCJnZXRTdW1WYWx1ZU9mU3R5bGVSdWxlIiwiZWxlbWVudCIsInJ1bGVzIiwicmVkdWNlIiwic3VtIiwicnVsZSIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImVsUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhcmVudFJlY3QiLCJnZXRQb2ludEZyb21SYWRpYWxTeXN0ZW0iLCJhbmdsZSIsImNlbnRlciIsImNvcyIsInNpbiIsImFkZFBvaW50VG9Cb3VuZFBvaW50cyIsImJvdW5kcG9pbnRzIiwicG9pbnQiLCJpc1JpZ2h0IiwicmVzdWx0IiwiZmlsdGVyIiwiYlBvaW50Iiwic3BsaWNlIiwicHVzaCIsImdldEFuZ2xlIiwiZGlmZiIsIm5vcm1hbGl6ZUFuZ2xlIiwiYXRhbjIiLCJ0b1JhZGlhbiIsIlBJIiwidG9EZWdyZWUiLCJib3VuZEFuZ2xlIiwiZ2V0QW5nbGVEaWZmIiwiZ2V0TmVhcmVzdEFuZ2xlIiwiYWxwaGEiLCJiZXRhIiwibWluQW5nbGUiLCJtYXhBbmdsZSIsImFkZENsYXNzIiwiUmVnRXhwIiwidGVzdCIsImNsYXNzTmFtZSIsImhhc0NsYXNzIiwicmVwbGFjZSIsInJlbW92ZUNsYXNzIiwicmUiLCJEcmFnZWUiLCJFdmVudCIsImlzVG91Y2giLCJtb3VzZUV2ZW50cyIsInN0YXJ0IiwibW92ZSIsImVuZCIsInRvdWNoRXZlbnRzIiwiZXZlbnRzIiwiZHJhZ2dhYmxlcyIsInRyYW5zZm9ybVByb3BlcnR5IiwiZ2V0U3R5bGVQcm9wZXJ0eSIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsImdldFRvdWNoQnlJRCIsInRvdWNoSWQiLCJjaGFuZ2VkVG91Y2hlcyIsImlkZW50aWZpZXIiLCJEcmFnZ2FibGUiLCJnZXREZWZhdWx0UGFyZW50IiwidGFyZ2V0cyIsImFzc2lnbiIsImJvdW5kVG9FbGVtZW50Iiwic3RhcnRGaWx0ZXIiLCJoYW5kbGVyIiwib25FbmQiLCJpc1JldmVyc2UiLCJpc1N0b3BPblRydWUiLCJvbk1vdmUiLCJvblN0YXJ0IiwiZHJhZ2dhYmxlIiwic29tZSIsImV4aXN0aW5nIiwicHJldmVudERvdWJsZUluaXQiLCJvbkNyZWF0ZSIsImZpcmUiLCJpbml0IiwiX2VuYWJsZSIsImZpeFBvc2l0aW9uIiwiaW5pdFBvc2l0aW9uIiwiX2RyYWdTdGFydCIsImRyYWdTdGFydCIsIl9kcmFnTW92ZSIsImRyYWdNb3ZlIiwiX2RyYWdFbmQiLCJkcmFnRW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlZnJlc2giLCJfcmVjYWx1bGF0ZSIsIl90cmFuc2Zvcm1Qb3NpdGlvbiIsImdldFNpemUiLCJ0cmFuc2Zvcm0iLCJ6IiwiaXNEcmFnZ2luZyIsInRyYW5zbGF0ZUNzcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJ0aW1lIiwiaXNGaXgiLCJpc1NpbGVudCIsImNsb25lIiwiZGV0ZXJtaW5lRGlyZWN0aW9uIiwiX3NldFRyYW5zbGF0ZSIsInNldFBvc2l0aW9uIiwiZ2V0UG9zaXRpb24iLCJsZWZ0RGlyZWN0aW9uIiwicmlnaHREaXJlY3Rpb24iLCJ1cERpcmVjdGlvbiIsImRvd25EaXJlY3Rpb24iLCJldmVudCIsImN1cnJlbnRFdmVudCIsImlzVG91Y2hFdmVudCIsIlRvdWNoRXZlbnQiLCJfc3RhcnRUb3VjaFBvaW50IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiX3N0YXJ0UG9zaXRpb24iLCJfdG91Y2hJZCIsInN0b3BQcm9wYWdhdGlvbiIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJmb2N1cyIsInByZXZlbnREZWZhdWx0IiwidG91Y2giLCJ0b3VjaFBvaW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlc2V0IiwiZW5hYmxlIiwiZGVmYXVsdFNjb3BlIiwiYWRkRHJhZ2dhYmxlIiwiY29udGV4dCIsImZ1bmNzIiwicmV0VmFsdWUiLCJhcmdzIiwic2xpY2UiLCJhcmd1bWVudHMiLCJmcyIsInJldmVyc2UiLCJhcHBseSIsImYiLCJ1bnNoaWZ0IiwicmVtb3ZlIiwiX2YiLCJhcnJheSIsInNjb3BlcyIsIlNjb3BlIiwiZm9yRWFjaCIsInNjb3BlIiwicmVtb3ZlSXRlbSIsInRpbWVFbmQiLCJvbkNoYW5nZSIsInNob3RUYXJnZXRzIiwiY2F0Y2hEcmFnZ2FibGUiLCJzb3J0IiwiYSIsImIiLCJnZXRSZWN0YW5nbGUiLCJnZXRTcXVhcmUiLCJtYXAiLCJpbm5lckRyYWdnYWJsZXMiLCJwb3NpdGlvbnMiLCJ0YXJnZXRJbmRleGVzIiwiZm4iLCJjdXJyZW50U2NvcGUiLCJhZGREcmFnZ2FibGVUb1Njb3BlIiwiYWRkVGFyZ2V0VG9TY29wZSIsImFkZFRhcmdldCIsIlRhcmdldCIsInNjb3BlRmFjdG9yeSIsInBhcmVudEVsZW1lbnQiLCJkcmFnZ2FibGVFbGVtZW50cyIsInRhcmdldEVsZW1lbnRzIiwiZHJhZ2dhYmxlT3B0aW9ucyIsInRhcmdldE9wdGlvbnMiLCJzY29wZU9wdGlvbnMiLCJBcnJheSIsImJvdW5kVG9SZWN0YW5nbGUiLCJjYWxjUG9pbnQiLCJyZWN0UDIiLCJyZXRGdW5jIiwiYm91bmRUb0xpbmVYIiwic3RhcnRZIiwiZW5kWSIsImJvdW5kVG9MaW5lWSIsInN0YXJ0WCIsImVuZFgiLCJjb3NCZXRhIiwic2luQmV0YSIsInBvaW50MiIsIm5ld0VuZCIsInBvaW50Q3Jvc3NpbmciLCJib3VuZFRvQ2lyY2xlIiwiX3NpemUiLCJib3VuZFRvQXJjIiwic3RhcnRBZ2xlIiwiZW5kQW5nbGUiLCJib3VuZFN0YXJ0QW5nbGUiLCJib3VuZEVuZHRBbmdsZSIsInRpbWVFeGNhbmdlIiwicG9zaXRpb25pbmdTdHJhdGVneSIsInN0cmF0ZWd5IiwiRmxvYXRMZWZ0U3RyYXRlZ3kiLCJyZW1vdmFibGUiLCJvbkFkZCIsImJlZm9yZUFkZCIsIm9uUmVtb3ZlIiwiaW5kZXhlc09mTmV3IiwicG9zaXRpb25pbmciLCJvbGREcmFnZ2FibGVzIiwibmV3RHJhZ2dhYmxlcyIsImluZGV4T2ZOZXdzIiwic29ydGluZyIsInJlY3RhbmdsZXMiLCJyYW5nZSIsInRhcmdldFJlY3RhbmdsZSIsIm5ld0RyYWdnYWJsZXNJbmRleCIsImFkZFJlbW92ZU9uTW92ZSIsInB1c2hJbm5lckRyYWdnYWJsZSIsInJlbW92ZUhhbmRsZXIiLCJwcmVmaXhlcyIsInNwbGl0IiwiZG9jRWxlbVN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwicHJvcE5hbWUiLCJwcmVmaXhlZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibGVuIiwic3RvcCIsInN0ZXAiLCJCYXNpY1N0cmF0ZWd5IiwiTm90Q3Jvc3NpbmdTdHJhdGVneSIsInJlY3RhbmdsZUxpc3QiLCJpbmRleGVzT2ZOZXdzIiwic3RhdGljUmVjdGFuZ2xlSW5kZXhlcyIsImluZGV4ZXMiLCJfcmVjdCIsImluZGV4T2ZTdGF0aWMiLCJzdGF0aWNSZWN0IiwibW92ZVRvQm91bmQiLCJib3VuZFJlY3QiLCJvZGxEcmFnZ2FibGVzTGlzdCIsImNvbmNhdCIsInBhZGRpbmdUb3BMZWZ0IiwicGFkZGluZ0JvdHRvbVJpZ2h0IiwieUdhcEJldHdlZW5EcmFnZ2FibGVzIiwiX2luZGV4ZXNPZk5ld3MiLCJnZXRQMiIsImJvdW5kYXJ5UG9pbnRzIiwiaXNWYWxpZCIsIm5ld0xpc3QiLCJsaXN0T2xkUG9zaXRpb24iLCJuZXdEcmFnZ2FibGUiLCJGbG9hdFJpZ2h0U3RyYXRlZ3kiLCJwYWRkaW5nVG9wUmlnaHQiLCJwYWRkaW5nQm90dG9tTGVmdCIsInBhZGRpbmdUb3BOZWdSaWdodCIsInBhZGRpbmdCb3R0b21OZWdMZWZ0IiwiZ2V0UmlnaHRUb3BQb2ludCIsIl9pbmRleCIsImdldExlZnRCb3R0b21Qb2ludCIsImdldFA0IiwiTGlzdCIsImlzRGlzcGxhY2VtZW50IiwiaXNTb3J0YWJsZSIsImluaXREcmFnZ2FibGUiLCJtb3ZlSGFuZGxlciIsImxpc3QiLCJvbkVuZERpc3BsYXljZW1lbnQiLCJmaXhQb3NpdGlvbnMiLCJnZXRDdXJyZW50Rml4UG9zaXRpb24iLCJjdXJyZW50SW5kZXgiLCJleGNhbmdlSW5kZXgiLCJtb3ZlT3JTYXZlIiwibmV4dERyYWdnYWJsZSIsInByZXZEcmFnZ2FibGUiLCJzb3J0SWZQb3NzaWJsZSIsInNvcnRlZERyYWdnYWJsZXMiLCJnZXRTb3J0ZWREcmFnZ2FibGVzIiwidGFyZ2V0SW5kZXgiLCJjb21wYXJlIiwiaW5pdFBvc2l0aW9ucyIsImoiLCJkZXN0cm95IiwibGlzdEZhY3RvcnkiLCJlbGVtZW50cyIsImxpc3RPcHRpb25zIiwiU29ydGFibGUiLCJleGNoYW5nZURyYWdnYWJsZUlmUG9zc2libGUiLCJzb3J0YWJsZUZhY3RvcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sU0FBVSxHQUFJSCxHQUNLLGlCQUFaQyxRQUNkQSxRQUFnQixPQUFJRCxJQUVwQkQsRUFBYSxPQUFJQyxJQVJuQixDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNkLEVBQVNlLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRWpCLEVBQVNlLElBQ2xDRyxPQUFP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QVc5RyxNQUFNblIsVUFBVTBPLE1BQU1uUSxLQUFLMFosSUFFVi9ILEtBQUksU0FBQ3RLLEdBQy9CLE9BQU8sSUFBSStELFlBQVUvRCxFQUFTb0wsTUFHaEMsT0FBTyxJQUFJbUgsRUFBU2hQLEVBQVkrTyIsImZpbGUiOiJzb3J0YWJsZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkRyYWdlZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJEcmFnZWVcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiRHJhZ2VlXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuIiwiY2xhc3MgUG9pbnQge1xuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgfVxuXG4gIGFkZChwKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyBwLngsIHRoaXMueSArIHAueSlcbiAgfVxuXG4gIHN1YihwKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBwLngsIHRoaXMueSAtIHAueSlcbiAgfVxuXG4gIG11bHQoaykge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICogaywgdGhpcy55ICogaylcbiAgfVxuXG4gIG5lZ2F0aXZlKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQoLXRoaXMueCwgLXRoaXMueSlcbiAgfVxuXG4gIGNvbXBhcmUocCkge1xuICAgIHJldHVybiAodGhpcy54ID09PSBwLnggJiYgdGhpcy55ID09PSBwLnkpXG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGB7eD0ke3RoaXMueH0seT0ke3RoaXMueX1gXG4gIH1cbn1cblxuY2xhc3MgUmVjdGFuZ2xlIHtcbiAgY29uc3RydWN0b3IocG9zaXRpb24sIHNpemUpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb25cbiAgICB0aGlzLnNpemUgPSBzaXplXG4gIH1cblxuICBnZXRQMSgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblxuICB9XG5cbiAgZ2V0UDIoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgdGhpcy5wb3NpdGlvbi55KVxuICB9XG5cbiAgZ2V0UDMoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWRkKHRoaXMuc2l6ZSlcbiAgfVxuXG4gIGdldFA0KCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSlcbiAgfVxuXG4gIGdldENlbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGQodGhpcy5zaXplLm11bHQoMC41KSlcbiAgfVxuXG4gIG9yKHJlY3QpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb2ludChNYXRoLm1pbih0aGlzLnBvc2l0aW9uLngsIHJlY3QucG9zaXRpb24ueCksIE1hdGgubWluKHRoaXMucG9zaXRpb24ueSwgcmVjdC5wb3NpdGlvbi55KSlcbiAgICBjb25zdCBzaXplID0gKG5ldyBQb2ludChNYXRoLm1heCh0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgcmVjdC5wb3NpdGlvbi54ICsgcmVjdC5zaXplLngpLCBNYXRoLm1heCh0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSwgcmVjdC5wb3NpdGlvbi55ICsgcmVjdC5zaXplLnkpKSkuc3ViKHBvc2l0aW9uKVxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHBvc2l0aW9uLCBzaXplKVxuICB9XG5cbiAgYW5kKHJlY3QpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb2ludChNYXRoLm1heCh0aGlzLnBvc2l0aW9uLngsIHJlY3QucG9zaXRpb24ueCksIE1hdGgubWF4KHRoaXMucG9zaXRpb24ueSwgcmVjdC5wb3NpdGlvbi55KSlcbiAgICBjb25zdCBzaXplID0gKG5ldyBQb2ludChNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgcmVjdC5wb3NpdGlvbi54ICsgcmVjdC5zaXplLngpLCBNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSwgcmVjdC5wb3NpdGlvbi55ICsgcmVjdC5zaXplLnkpKSkuc3ViKHBvc2l0aW9uKVxuICAgIGlmIChzaXplLnggPD0gMCB8fCBzaXplLnkgPD0gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUocG9zaXRpb24sIHNpemUpXG4gIH1cblxuICBpbmNsdWRlUG9pbnQocCkge1xuICAgIHJldHVybiAhKHRoaXMucG9zaXRpb24ueCA+IHAueCB8fCB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCA8IHAueCB8fCB0aGlzLnBvc2l0aW9uLnkgPiBwLnkgfHwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnkgPCBwLnkpXG4gIH1cblxuICBpbmNsdWRlUmVjdGFuZ2xlKHJlY3RhbmdsZSkge1xuICAgIHJldHVybiB0aGlzLmluY2x1ZGVQb2ludChyZWN0YW5nbGUucG9zaXRpb24pICYmIHRoaXMuaW5jbHVkZVBvaW50KHJlY3RhbmdsZS5nZXRQMygpKVxuICB9XG5cbiAgbW92ZVRvQm91bmQocmVjdCwgYXhpcykge1xuICAgIGxldCBzZWxBeGlzLCBjcm9zc1JlY3RhbmdsZVxuICAgIGlmIChheGlzKSB7XG4gICAgICBzZWxBeGlzID0gYXhpc1xuICAgIH0gZWxzZSB7XG4gICAgICBjcm9zc1JlY3RhbmdsZSA9IHRoaXMuYW5kKHJlY3QpXG4gICAgICBpZiAoIWNyb3NzUmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiByZWN0XG4gICAgICB9XG4gICAgICBzZWxBeGlzID0gY3Jvc3NSZWN0YW5nbGUuc2l6ZS54ID4gY3Jvc3NSZWN0YW5nbGUuc2l6ZS55ID8gJ3knIDogJ3gnXG4gICAgfVxuICAgIGNvbnN0IHRoaXNDZW50ZXIgPSB0aGlzLmdldENlbnRlcigpXG4gICAgY29uc3QgcmVjdENlbnRlciA9IHJlY3QuZ2V0Q2VudGVyKClcbiAgICBjb25zdCBzaWduID0gdGhpc0NlbnRlcltzZWxBeGlzXSA+IHJlY3RDZW50ZXJbc2VsQXhpc10gPyAtMSA6IDFcbiAgICBjb25zdCBvZmZzZXQgPSBzaWduID4gMCA/IHRoaXMucG9zaXRpb25bc2VsQXhpc10gKyB0aGlzLnNpemVbc2VsQXhpc10gLSByZWN0LnBvc2l0aW9uW3NlbEF4aXNdIDogdGhpcy5wb3NpdGlvbltzZWxBeGlzXSAtIChyZWN0LnBvc2l0aW9uW3NlbEF4aXNdICsgcmVjdC5zaXplW3NlbEF4aXNdKVxuICAgIHJlY3QucG9zaXRpb25bc2VsQXhpc10gPSByZWN0LnBvc2l0aW9uW3NlbEF4aXNdICsgb2Zmc2V0XG4gICAgcmV0dXJuIHJlY3RcbiAgfVxuXG4gIGdldFNxdWFyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplLnggKiB0aGlzLnNpemUueVxuICB9XG5cbiAgc3R5bGVBcHBseShlbCkge1xuICAgIGVsID0gZWwgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5kJylcbiAgICBlbC5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi54ICsgJ3B4J1xuICAgIGVsLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24ueSArICdweCdcbiAgICBlbC5zdHlsZS53aWR0aCA9IHRoaXMuc2l6ZS54ICsgJ3B4J1xuICAgIGVsLnN0eWxlLmhlaWdodCA9IHRoaXMuc2l6ZS55ICsgJ3B4J1xuICB9XG5cbiAgZ3Jvd3RoKHNpemUpIHtcbiAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUuYWRkKHNpemUpXG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uYWRkKHNpemUubXVsdCgtMC41KSlcbiAgfVxuXG4gIGdldE1pblNpZGUoKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSlcbiAgfVxufVxuXG4vKioqKioqKioqKioqKioqKiovXG5jb25zdCBHZW9tZXRyeSA9IHtcbiAgZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gICAgY29uc3QgZHggPSBwMS54IC0gcDIueCwgZHkgPSBwMS55IC0gcDIueVxuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gIH0sXG4gIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBHZW9tZXRyeS5nZXREaXN0YW5jZShwMSwgcDIpXG4gIH0sXG4gIGdldFhEaWZmZXJlbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLmFicyhwMS54IC0gcDIueClcbiAgfSxcbiAgZ2V0WURpZmZlcmVuY2UocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHAxLnkgLSBwMi55KVxuICB9LFxuICB0cmFuc2Zvcm1lZFNwYWNlRGlzdGFuY2VGYWN0b3J5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKHAxLCBwMikgPT4ge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChcbiAgICAgICAgTWF0aC5wb3cob3B0aW9ucy54ICogTWF0aC5hYnMocDEueCAtIHAyLngpLCAyKSArXG4gICAgICAgIE1hdGgucG93KG9wdGlvbnMueSAqIE1hdGguYWJzKHAxLnkgLSBwMi55KSwgMilcbiAgICAgIClcbiAgICB9XG4gIH0sXG4gIGluZGV4T2ZOZWFyZXN0UG9pbnQoYXJyLCB2YWwsIHJhZGl1cywgZ2V0RGlzdGFuY2UpIHtcbiAgICBsZXQgc2l6ZSwgaW5kZXggPSAwLCBpLCB0ZW1wXG4gICAgZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZSB8fCBHZW9tZXRyeS5nZXREaXN0YW5jZVxuICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgc2l6ZSA9IGdldERpc3RhbmNlKGFyclswXSwgdmFsKVxuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRlbXAgPSBnZXREaXN0YW5jZShhcnJbaV0sIHZhbClcbiAgICAgIGlmICh0ZW1wIDwgc2l6ZSkge1xuICAgICAgICBzaXplID0gdGVtcFxuICAgICAgICBpbmRleCA9IGlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJhZGl1cyA+PSAwICYmIHNpemUgPiByYWRpdXMpIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXhcbiAgfSxcbiAgYm91bmQobWluLCBtYXgsIHZhbCkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsKSlcbiAgfSxcbiAgYm91bmRQb2ludChtaW4sIG1heCwgdmFsKSB7XG4gICAgY29uc3QgeCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdmFsLngpKVxuICAgIGNvbnN0IHkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHZhbC55KSlcbiAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gIH0sXG4gICAgLy9SZXR1cm4gY3Jvc3NpbmcgcG9pbnQgb2YgdHdvIGxpbmVzXG4gIGRpcmVjdENyb3NzaW5nKEwxUDEsIEwxUDIsIEwyUDEsIEwyUDIpIHtcbiAgICBsZXQgdGVtcCwgazEsIGsyLCBiMSwgYjIsIHgsIHlcbiAgICBpZiAoTDJQMS54ID09PSBMMlAyLngpIHtcbiAgICAgIHRlbXAgPSBMMlAxXG4gICAgICBMMlAxID0gTDFQMVxuICAgICAgTDFQMSA9IHRlbXBcbiAgICAgIHRlbXAgPSBMMlAyXG4gICAgICBMMlAyID0gTDFQMlxuICAgICAgTDFQMiA9IHRlbXBcbiAgICB9XG4gICAgaWYgKEwxUDEueCA9PT0gTDFQMi54KSB7XG4gICAgICBrMiA9IChMMlAyLnkgLSBMMlAxLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIGIyID0gKEwyUDIueCAqIEwyUDEueSAtIEwyUDEueCAqIEwyUDIueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgeCA9IEwxUDEueFxuICAgICAgeSA9IHggKiBrMiArIGIyXG4gICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGsxID0gKEwxUDIueSAtIEwxUDEueSkgLyAoTDFQMi54IC0gTDFQMS54KVxuICAgICAgYjEgPSAoTDFQMi54ICogTDFQMS55IC0gTDFQMS54ICogTDFQMi55KSAvIChMMVAyLnggLSBMMVAxLngpXG4gICAgICBrMiA9IChMMlAyLnkgLSBMMlAxLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIGIyID0gKEwyUDIueCAqIEwyUDEueSAtIEwyUDEueCAqIEwyUDIueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgeCA9IChiMSAtIGIyKSAvIChrMiAtIGsxKVxuICAgICAgeSA9IHggKiBrMSArIGIxXG4gICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gICAgfVxuICB9LFxuICBib3VuZFRvU2VnbWVudChMUDEsIExQMiwgUCkge1xuICAgIGxldCB4LCB5XG4gICAgeCA9IEdlb21ldHJ5LmJvdW5kKE1hdGgubWluKExQMS54LCBMUDIueCksIE1hdGgubWF4KExQMS54LCBMUDIueCksIFAueClcbiAgICBpZiAoeCAhPT0gUC54KSB7XG4gICAgICB5ID0gKHggPT09IExQMS54KSA/IExQMS55IDogTFAyLnlcbiAgICAgIFAgPSBuZXcgUG9pbnQoeCwgeSlcbiAgICB9XG5cbiAgICB5ID0gR2VvbWV0cnkuYm91bmQoTWF0aC5taW4oTFAxLnksIExQMi55KSwgTWF0aC5tYXgoTFAxLnksIExQMi55KSwgUC55KVxuICAgIGlmICh5ICE9PSBQLnkpIHtcbiAgICAgIHggPSAoeSA9PT0gTFAxLnkpID8gTFAxLnggOiBMUDIueFxuICAgICAgUCA9IG5ldyBQb2ludCh4LCB5KVxuICAgIH1cblxuICAgIHJldHVybiBQXG4gIH0sXG4gIGJvdW5kVG9MaW5lKEEsIEIsIFApIHtcbiAgICBjb25zdCBBUCA9IG5ldyBQb2ludChQLnggLSBBLngsIFAueSAtIEEueSksXG4gICAgICBBQiA9IG5ldyBQb2ludChCLnggLSBBLngsIEIueSAtIEEueSksXG4gICAgICBhYjIgPSBBQi54ICogQUIueCArIEFCLnkgKiBBQi55LFxuICAgICAgYXBfYWIgPSBBUC54ICogQUIueCArIEFQLnkgKiBBQi55LFxuICAgICAgdCA9IGFwX2FiIC8gYWIyXG4gICAgcmV0dXJuIG5ldyBQb2ludChBLnggKyBBQi54ICogdCwgQS55ICsgQUIueSAqIHQpXG4gIH0sXG4gIGdldFBvaW50SW5MaW5lKExQMSwgTFAyLCBwZXJjZW50KSB7XG4gICAgY29uc3QgZHggPSBMUDIueCAtIExQMS54LCBkeSA9IExQMi55IC0gTFAxLnlcbiAgICByZXR1cm4gbmV3IFBvaW50KExQMS54ICsgcGVyY2VudCAqIGR4LCBMUDEueSArIHBlcmNlbnQgKiBkeSlcbiAgfSxcbiAgZ2V0UG9pbnRJbkxpbmVCeUxlbmdodChMUDEsIExQMiwgbGVuZ2h0KSB7XG4gICAgY29uc3QgZHggPSBMUDIueCAtIExQMS54LCBkeSA9IExQMi55IC0gTFAxLnksIHBlcmNlbnQgPSBsZW5naHQgLyBHZW9tZXRyeS5kaXN0YW5jZShMUDEsIExQMilcbiAgICByZXR1cm4gbmV3IFBvaW50KExQMS54ICsgcGVyY2VudCAqIGR4LCBMUDEueSArIHBlcmNlbnQgKiBkeSlcbiAgfSxcbiAgY3JlYXRlUmVjdGFuZ2xlRnJvbUVsZW1lbnQoZWwsIHBhcmVudCwgaXNDb250ZW50Qm94U2l6ZSwgaXNDb25zaWRlclRyYW5zbGF0ZSkge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemVPZkVsZW1lbnQoZWwsIGlzQ29udGVudEJveFNpemUpXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy5nZXRPZmZzZXQoZWwsIHBhcmVudCB8fCBlbC5wYXJlbnROb2RlLCBpc0NvbnNpZGVyVHJhbnNsYXRlKSwgc2l6ZSlcbiAgfSxcbiAgZ2V0U3VtVmFsdWVPZlN0eWxlUnVsZShlbGVtZW50LCBydWxlcykge1xuICAgIHJldHVybiBydWxlcy5yZWR1Y2UoKHN1bSwgcnVsZSkgPT4ge1xuICAgICAgcmV0dXJuIHN1bSArIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW3J1bGVdfHwwKVxuICAgIH0sIDApXG4gIH0sXG4gIGdldFNpemVPZkVsZW1lbnQoZWwsIGlzQ29udGVudEJveFNpemUpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbJ3dpZHRoJ10pLCBoZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbJ2hlaWdodCddKVxuICAgIGlmICghaXNDb250ZW50Qm94U2l6ZSkge1xuICAgICAgd2lkdGggKz0gdGhpcy5nZXRTdW1WYWx1ZU9mU3R5bGVSdWxlKGVsLCBbJ3BhZGRpbmctbGVmdCcsICdwYWRkaW5nLXJpZ2h0JywgJ2JvcmRlci1sZWZ0LXdpZHRoJywgJ2JvcmRlci1yaWdodC13aWR0aCddKVxuICAgICAgaGVpZ2h0ICs9IHRoaXMuZ2V0U3VtVmFsdWVPZlN0eWxlUnVsZShlbCwgWydwYWRkaW5nLXRvcCcsICdwYWRkaW5nLWJvdHRvbScsICdib3JkZXItdG9wLXdpZHRoJywgJ2JvcmRlci1ib3R0b20td2lkdGgnXSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQb2ludCh3aWR0aCwgaGVpZ2h0KVxuICB9LFxuICBnZXRPZmZzZXQoZWwsIHBhcmVudCkge1xuICAgIGNvbnN0IGVsUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBwYXJlbnRSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgcmV0dXJuIG5ldyBQb2ludChlbFJlY3QubGVmdCAtIHBhcmVudFJlY3QubGVmdCwgZWxSZWN0LnRvcCAtIHBhcmVudFJlY3QudG9wKVxuICB9LFxuICBnZXRQb2ludEZyb21SYWRpYWxTeXN0ZW0oYW5nbGUsIGxlbmd0aCwgY2VudGVyKSB7XG4gICAgY2VudGVyID0gY2VudGVyIHx8IG5ldyBQb2ludCgwLCAwKVxuICAgIHJldHVybiBjZW50ZXIuYWRkKG5ldyBQb2ludChsZW5ndGggKiBNYXRoLmNvcyhhbmdsZSksIGxlbmd0aCAqIE1hdGguc2luKGFuZ2xlKSkpXG4gIH0sXG4gIGFkZFBvaW50VG9Cb3VuZFBvaW50cyhib3VuZHBvaW50cywgcG9pbnQsIGlzUmlnaHQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBib3VuZHBvaW50cy5maWx0ZXIoZnVuY3Rpb24oYlBvaW50KSB7XG4gICAgICByZXR1cm4gIGJQb2ludC55ID4gcG9pbnQueSB8fCAoaXNSaWdodCA/IGJQb2ludC54IDwgcG9pbnQueCA6IGJQb2ludC54ID4gcG9pbnQueClcbiAgICB9KVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwb2ludC55IDwgcmVzdWx0W2ldLnkpIHtcbiAgICAgICAgcmVzdWx0LnNwbGljZShpLCAwLCBwb2ludClcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQucHVzaChwb2ludClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG4gIGdldEFuZ2xlKHAxLCBwMikge1xuICAgIGNvbnN0IGRpZmYgPSBwMi5zdWIocDEpXG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplQW5nbGUoTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCkpXG4gIH0sXG4gIHRvUmFkaWFuKGFuZ2xlKSB7XG4gICAgcmV0dXJuICgoYW5nbGUgJSAzNjApICogTWF0aC5QSSAvIDE4MClcbiAgfSxcbiAgdG9EZWdyZWUoYW5nbGUpIHtcbiAgICByZXR1cm4gKGFuZ2xlICogMTgwIC8gTWF0aC5QSSkgJSAzNjBcbiAgfSxcbiAgYm91bmRBbmdsZShtaW4sIG1heCwgdmFsKSB7XG4gICAgbGV0IGRtaW4sIGRtYXhcbiAgICBpZiAobWluIDwgbWF4ICYmIHZhbCA+IG1pbiAmJiB2YWwgPCBtYXgpIHtcbiAgICAgIHJldHVybiB2YWxcbiAgICB9IGVsc2UgaWYgKG1heCA8IG1pbiAmJiAodmFsIDwgbWF4IHx8IHZhbCA+IG1pbikpIHtcbiAgICAgIHJldHVybiB2YWxcbiAgICB9IGVsc2Uge1xuICAgICAgZG1pbiA9IHRoaXMuZ2V0QW5nbGVEaWZmKG1pbiwgdmFsKVxuICAgICAgZG1heCA9IHRoaXMuZ2V0QW5nbGVEaWZmKG1heCwgdmFsKVxuICAgICAgaWYgKGRtaW4gPCBkbWF4KSB7XG4gICAgICAgIHJldHVybiBtaW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtYXhcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdldE5lYXJlc3RBbmdsZShhcnIsIGFuZ2xlKSB7XG4gICAgbGV0IGksIHRlbXAsIGRpZmYgPSBNYXRoLlBJICogMiwgdmFsdWVcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDtpKyspIHtcbiAgICAgIHRlbXAgPSBHZW9tZXRyeS5nZXRBbmdsZURpZmYoYXJyW2ldLCBhbmdsZSlcbiAgICAgIGlmIChkaWZmIDwgdGVtcCkge1xuICAgICAgICBkaWZmID0gdGVtcFxuICAgICAgICB2YWx1ZSA9IGFycltpXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfSxcbiAgZ2V0QW5nbGVEaWZmKGFscGhhLCBiZXRhKSB7XG4gICAgY29uc3QgbWluQW5nbGUgPSBNYXRoLm1pbihhbHBoYSwgYmV0YSksXG4gICAgICBtYXhBbmdsZSA9ICBNYXRoLm1heChhbHBoYSwgYmV0YSlcbiAgICByZXR1cm4gTWF0aC5taW4obWF4QW5nbGUgLSBtaW5BbmdsZSwgbWluQW5nbGUgKyBNYXRoLlBJKjIgLSBtYXhBbmdsZSlcbiAgfSxcbiAgbm9ybWFsaXplQW5nbGUodmFsKSB7XG4gICAgd2hpbGUgKHZhbCA8IDApIHtcbiAgICAgIHZhbCArPSAyICogTWF0aC5QSVxuICAgIH1cbiAgICB3aGlsZSAodmFsID4gMiAqIE1hdGguUEkpIHtcbiAgICAgIHZhbCAtPSAyICogTWF0aC5QSVxuICAgIH1cbiAgICByZXR1cm4gdmFsXG4gIH1cbn1cblxuZXhwb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgR2VvbWV0cnkgfVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGMpIHtcbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgYyArICcoXFxcXHN8JCknLCAnZycpXG4gIHJldHVybiAocmUudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjKSB7XG4gIGlmICghaGFzQ2xhc3MoZWxlbWVudCwgYykpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IChlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGMpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC8oXiB8ICQpL2csICcnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjKSB7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGMgKyAnKFxcXFxzfCQpJywgJ2cnKVxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UocmUsICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC8oXiB8ICQpL2csICcnKVxufVxuIiwiaW1wb3J0IHsgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi91dGlscy9jbGFzc2VzJ1xuaW1wb3J0IGdldERlZmF1bHRQYXJlbnQgZnJvbSAnLi91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQnXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCBnZXRTdHlsZVByb3BlcnR5IGZyb20gJ2Rlc2FuZHJvLWdldC1zdHlsZS1wcm9wZXJ0eSdcbmltcG9ydCB7IGJvdW5kVG9FbGVtZW50IH0gZnJvbSAnLi9ib3VuZCdcbmltcG9ydCB7IEdlb21ldHJ5LCBQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnLi9nZW9tZXRyeSdcbmltcG9ydCB7IGRlZmF1bHRTY29wZSB9IGZyb20gJy4vc2NvcGUnXG5cbmNvbnN0IERyYWdlZSA9IHsgRXZlbnQgfSAvL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jb25zdCBpc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93LCBtb3VzZUV2ZW50cyA9IHtcbiAgICBzdGFydDogJ21vdXNlZG93bicsXG4gICAgbW92ZTogJ21vdXNlbW92ZScsXG4gICAgZW5kOiAnbW91c2V1cCdcbiAgfSwgdG91Y2hFdmVudHMgPSB7XG4gICAgc3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgICBtb3ZlOiAndG91Y2htb3ZlJyxcbiAgICBlbmQ6ICd0b3VjaGVuZCdcbiAgfSxcbiAgZXZlbnRzID0gaXNUb3VjaCA/IHRvdWNoRXZlbnRzIDogbW91c2VFdmVudHMsXG4gIGRyYWdnYWJsZXMgPSBbXSxcbiAgdHJhbnNmb3JtUHJvcGVydHkgPSBnZXRTdHlsZVByb3BlcnR5KCd0cmFuc2Zvcm0nKSxcbiAgdHJhbnNpdGlvblByb3BlcnR5ID0gZ2V0U3R5bGVQcm9wZXJ0eSgndHJhbnNpdGlvbicpXG5cbmZ1bmN0aW9uIGdldFRvdWNoQnlJRChlbGVtZW50LCB0b3VjaElkKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlbGVtZW50LmNoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXIgPT09IHRvdWNoSWQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNoYW5nZWRUb3VjaGVzW2ldXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RG91YmxlSW5pdChkcmFnZ2FibGUpIHtcbiAgY29uc3QgbWVzc2FnZSA9IFwiZm9yIHRoaXMgZWxlbWVudCBEcmFnZWUuRHJhZ2dhYmxlIGlzIGFscmVhZHkgZXhpc3QsIGRvbid0IGNyZWF0ZSBpdCB0d2ljZSBcIlxuICBpZiAoZHJhZ2dhYmxlcy5zb21lKChleGlzdGluZykgPT4gZHJhZ2dhYmxlLmVsZW1lbnQgPT09IGV4aXN0aW5nLmVsZW1lbnQpKSB7XG4gICAgdGhyb3cgbWVzc2FnZVxuICB9XG4gIGRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG59XG5cbmZ1bmN0aW9uIGFkZFRvRGVmYXVsdFNjb3BlKGRyYWdnYWJsZSkge1xuICBkZWZhdWx0U2NvcGUuYWRkRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbn1cblxuY2xhc3MgRHJhZ2dhYmxlIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50IHx8IGdldERlZmF1bHRQYXJlbnQoZWxlbWVudClcbiAgICB0aGlzLnRhcmdldHMgPSBbXVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICBib3VuZDogYm91bmRUb0VsZW1lbnQocGFyZW50LCBwYXJlbnQpLFxuICAgICAgc3RhcnRGaWx0ZXI6IGZhbHNlLFxuICAgICAgaXNDb250ZW50Qm94U2l6ZTogZmFsc2UsXG4gICAgICBwb3NpdGlvbjogZmFsc2VcbiAgICB9LCBvcHRpb25zKVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmhhbmRsZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5oYW5kbGVyKSB8fCBlbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlciA9IG9wdGlvbnMuaGFuZGxlciB8fCBlbGVtZW50XG4gICAgfVxuXG4gICAgdGhpcy5vbkVuZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcywgeyBpc1JldmVyc2U6IHRydWUsIGlzU3RvcE9uVHJ1ZTogdHJ1ZSB9KVxuICAgIHRoaXMub25Nb3ZlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIHRoaXMub25TdGFydCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcblxuICAgIHRoaXMub25FbmQuYWRkKCgpID0+IHRoaXMubW92ZSh0aGlzLnBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKSlcblxuICAgIGlmIChvcHRpb25zLm9uRW5kKSB7XG4gICAgICB0aGlzLm9uRW5kLmFkZChvcHRpb25zLm9uRW5kKVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vbk1vdmUpIHtcbiAgICAgIHRoaXMub25Nb3ZlLmFkZChvcHRpb25zLm9uTW92ZSlcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25TdGFydCkge1xuICAgICAgdGhpcy5vblN0YXJ0LmFkZChvcHRpb25zLm9uU3RhcnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmJvdW5kID0gdGhpcy5vcHRpb25zLmJvdW5kXG4gICAgcHJldmVudERvdWJsZUluaXQodGhpcylcbiAgICBEcmFnZ2FibGUub25DcmVhdGUuZmlyZSh0aGlzKVxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX2VuYWJsZSA9IHRydWVcbiAgICB0aGlzLm9mZnNldCA9IEdlb21ldHJ5LmdldE9mZnNldCh0aGlzLmVsZW1lbnQsIHRoaXMub3B0aW9ucy5wYXJlbnQsIHRydWUpXG4gICAgdGhpcy5maXhQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb25cbiAgICAgIHRoaXMubW92ZSh0aGlzLmluaXRQb3NpdGlvbiwgMCwgdHJ1ZSwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIH1cbiAgICB0aGlzLl9kcmFnU3RhcnQgPSB0aGlzLmRyYWdTdGFydC5iaW5kKHRoaXMpXG4gICAgdGhpcy5fZHJhZ01vdmUgPSB0aGlzLmRyYWdNb3ZlLmJpbmQodGhpcylcbiAgICB0aGlzLl9kcmFnRW5kID0gdGhpcy5kcmFnRW5kLmJpbmQodGhpcylcblxuICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG4gICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcblxuICAgIGlmICh0aGlzLmJvdW5kLnJlZnJlc2gpIHtcbiAgICAgIHRoaXMuYm91bmQucmVmcmVzaCgpXG4gICAgfVxuICB9XG5cbiAgcmVpbml0KCkge1xuICAgIHRoaXMub2Zmc2V0ID0gR2VvbWV0cnkuZ2V0T2Zmc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLnBhcmVudCwgdHJ1ZSlcbiAgICB0aGlzLmZpeFBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICAgdGhpcy5tb3ZlKHRoaXMuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm91bmQucmVmcmVzaCkge1xuICAgICAgdGhpcy5ib3VuZC5yZWZyZXNoKClcbiAgICB9XG4gIH1cblxuICBnZXRTaXplKF9yZWNhbHVsYXRlKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5LmdldFNpemVPZkVsZW1lbnQodGhpcy5lbGVtZW50LCB0aGlzLm9wdGlvbnMuaXNDb250ZW50Qm94U2l6ZSlcbiAgfVxuXG4gIGdldFBvc2l0aW9uKCkge1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9mZnNldC5hZGQodGhpcy5fdHJhbnNmb3JtUG9zaXRpb24gfHwgbmV3IFBvaW50KDAsIDApKVxuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uXG4gIH1cblxuICBnZXRDZW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWRkKHRoaXMuZ2V0U2l6ZSgpLm11bHQoMC41KSlcbiAgfVxuXG4gIF9zZXRUcmFuc2xhdGUocG9pbnQpIHtcbiAgICB0aGlzLl90cmFuc2Zvcm1Qb3NpdGlvbiA9IHBvaW50XG5cbiAgICBsZXQgdHJhbnNmb3JtID0gdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XVxuICAgIGNvbnN0IHogPSB0aGlzLmlzRHJhZ2dpbmcgPyAxIDogMFxuICAgIGxldCB0cmFuc2xhdGVDc3MgPSBgIHRyYW5zbGF0ZTNkKCR7cG9pbnQueH1weCwgJHtwb2ludC55fXB4LCAke3p9cHgpYFxuXG4gICAgY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgIGNvbnN0IG1zaWUgPSB1YS5pbmRleE9mKCdNU0lFICcpXG5cbiAgICBpZiAobXNpZSkge1xuICAgICAgdHJhbnNsYXRlQ3NzID0gJyB0cmFuc2xhdGUoJyArIHBvaW50LnggKyAncHgsJyArIHBvaW50LnkgKyAncHgpJ1xuICAgICAgaWYgKCEvdHJhbnNsYXRlXFwoW14pXStcXCkvLnRlc3QodHJhbnNmb3JtKSkge1xuICAgICAgICB0cmFuc2Zvcm0gKz0gdHJhbnNsYXRlQ3NzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlXFwoW14pXStcXCkvLCB0cmFuc2xhdGVDc3MpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghL3RyYW5zbGF0ZTNkXFwoW14pXStcXCkvLnRlc3QodHJhbnNmb3JtKSkge1xuICAgICAgICB0cmFuc2Zvcm0gKz0gdHJhbnNsYXRlQ3NzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlM2RcXChbXildK1xcKS8sIHRyYW5zbGF0ZUNzcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcGVydHldID0gdHJhbnNmb3JtXG4gIH1cblxuICBtb3ZlKHBvaW50LCB0aW1lPTAsIGlzRml4PWZhbHNlLCBpc1NpbGVudD1mYWxzZSkge1xuICAgIHBvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIGlmIChpc0ZpeCkge1xuICAgICAgdGhpcy5maXhQb3NpdGlvbiA9IHBvaW50XG4gICAgfVxuXG4gICAgdGhpcy5kZXRlcm1pbmVEaXJlY3Rpb24ocG9pbnQpXG5cbiAgICB0aGlzLnBvc2l0aW9uID0gcG9pbnRcblxuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gdGltZSArICdtcydcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRUcmFuc2xhdGUocG9pbnQuc3ViKHRoaXMub2Zmc2V0KSlcbiAgICBpZiAoIWlzU2lsZW50KSB7XG4gICAgICB0aGlzLm9uTW92ZS5maXJlKClcbiAgICB9XG4gIH1cblxuICByZWZyZXNoUG9zaXRpb24gKCkge1xuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5nZXRQb3NpdGlvbigpKVxuICB9XG5cbiAgc2V0UG9zaXRpb24ocG9pbnQpIHtcbiAgICBwb2ludCA9IHBvaW50LmNsb25lKClcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9pbnRcblxuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gJzBtcydcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRUcmFuc2xhdGUocG9pbnQuc3ViKHRoaXMub2Zmc2V0KSlcbiAgfVxuXG4gIHNldFplcm9UcmFuc2l0aW9uKCkge1xuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gJzBtcydcbiAgICB9XG4gIH1cblxuICBkZXRlcm1pbmVEaXJlY3Rpb24ocG9pbnQpIHtcbiAgICB0aGlzLmxlZnREaXJlY3Rpb24gPSAodGhpcy5wb3NpdGlvbi54IDwgcG9pbnQueClcbiAgICB0aGlzLnJpZ2h0RGlyZWN0aW9uID0gKHRoaXMucG9zaXRpb24ueCA+IHBvaW50LngpXG4gICAgdGhpcy51cERpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnkgPiBwb2ludC55KVxuICAgIHRoaXMuZG93bkRpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnkgPCBwb2ludC55KVxuICB9XG5cbiAgZHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy5jdXJyZW50RXZlbnQgPSBldmVudFxuICAgIGlmICghdGhpcy5fZW5hYmxlIHx8ICh0aGlzLm9wdGlvbnMuc3RhcnRGaWx0ZXIgJiYgIXRoaXMub3B0aW9ucy5zdGFydEZpbHRlcihldmVudCkpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG5cbiAgICB0aGlzLl9zdGFydFRvdWNoUG9pbnQgPSBuZXcgUG9pbnQoaXNUb3VjaEV2ZW50ID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggOiBldmVudC5jbGllbnRYLCBpc1RvdWNoRXZlbnQgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGV2ZW50LmNsaWVudFkpXG5cbiAgICB0aGlzLl9zdGFydFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgaWYgKGlzVG91Y2hFdmVudCkge1xuICAgICAgdGhpcy5fdG91Y2hJZCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXJcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElucHV0RWxlbWVudCB8fFxuICAgICAgICAgIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC50YXJnZXQuZm9jdXMoKVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuXG4gICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZVxuXG4gICAgdGhpcy5vblN0YXJ0LmZpcmUoZXZlbnQpXG4gICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAnYWN0aXZlJylcbiAgICB0aGlzLm9uTW92ZS5maXJlKGV2ZW50KVxuICB9XG5cbiAgZHJhZ01vdmUoZXZlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnRFdmVudCA9IGV2ZW50XG4gICAgbGV0IHRvdWNoXG5cbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG4gICAgaWYgKGlzVG91Y2hFdmVudCkge1xuICAgICAgdG91Y2ggPSBnZXRUb3VjaEJ5SUQoZXZlbnQsIHRoaXMuX3RvdWNoSWQpXG5cbiAgICAgIGlmICghdG91Y2gpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgdG91Y2hQb2ludCA9IG5ldyBQb2ludChpc1RvdWNoRXZlbnQgPyB0b3VjaC5wYWdlWCA6IGV2ZW50LmNsaWVudFgsIGlzVG91Y2hFdmVudCA/IHRvdWNoLnBhZ2VZIDogZXZlbnQuY2xpZW50WSlcbiAgICBsZXQgcG9pbnQgPSB0aGlzLl9zdGFydFBvc2l0aW9uLmFkZCh0b3VjaFBvaW50LnN1Yih0aGlzLl9zdGFydFRvdWNoUG9pbnQpKVxuICAgIHBvaW50ID0gdGhpcy5ib3VuZChwb2ludCwgdGhpcy5nZXRTaXplKCkpXG4gICAgdGhpcy50b3VjaFBvaW50ID0gdG91Y2hQb2ludFxuICAgIHRoaXMubW92ZShwb2ludCwgMClcbiAgfVxuXG4gIGRyYWdFbmQoZXZlbnQpIHtcbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG5cbiAgICBpZiAoaXNUb3VjaEV2ZW50ICYmICFnZXRUb3VjaEJ5SUQoZXZlbnQsIHRoaXMuX3RvdWNoSWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLm9uRW5kLmZpcmUoZXZlbnQpXG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcblxuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlXG4gICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCAnYWN0aXZlJylcbiAgfVxuXG4gIGdldFJlY3RhbmdsZSgpIHtcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnBvc2l0aW9uLCB0aGlzLmdldFNpemUoKSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5nZXRTaXplKHRydWUpXG4gICAgaWYgKHRoaXMuYm91bmQucmVmcmVzaCkge1xuICAgICAgdGhpcy5ib3VuZC5yZWZyZXNoKClcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG4gICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG5cbiAgICB0aGlzLm9uRW5kLnJlc2V0KClcbiAgICB0aGlzLm9uTW92ZS5yZXNldCgpXG4gIH1cblxuICBnZXQgZW5hYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVcbiAgfVxuXG4gIHNldCBlbmFibGUoZW5hYmxlKSB7XG4gICAgaWYgKGVuYWJsZSkge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCAnZGlzYWJsZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgJ2Rpc2FibGUnKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbmFibGUgPSBlbmFibGVcbiAgfVxufVxuXG5EcmFnZ2FibGUub25DcmVhdGUgPSBuZXcgRHJhZ2VlLkV2ZW50KERyYWdnYWJsZSwgeyBpc1JldmVyc2U6IHRydWUsIGlzU3RvcE9uVHJ1ZTogdHJ1ZSB9KVxuRHJhZ2dhYmxlLm9uQ3JlYXRlLmFkZChhZGRUb0RlZmF1bHRTY29wZSlcblxuZXhwb3J0IHsgRHJhZ2dhYmxlLCBldmVudHMgfVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIEV2ZW50KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICB0aGlzLmZ1bmNzID0gW11cbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dFxuICB0aGlzLmlzUmV2ZXJzZSA9IG9wdGlvbnMuaXNSZXZlcnNlIHx8IGZhbHNlXG4gIHRoaXMuaXNTdG9wT25UcnVlID0gb3B0aW9ucy5pc1N0b3BPblRydWUgfHwgZmFsc2Vcbn1cblxuRXZlbnQucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICBjb25zdCBmcyA9IHRoaXMuaXNSZXZlcnNlID8gdGhpcy5mdW5jcy5zbGljZSgpLnJldmVyc2UoKSA6IHRoaXMuZnVuY3NcbiAgbGV0IHJldFZhbHVlXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcy5sZW5ndGg7IGkrKykge1xuICAgIHJldFZhbHVlID0gZnNbaV0uYXBwbHkodGhpcy5jb250ZXh0LCBhcmdzKVxuICAgIGlmICh0aGlzLmlzU3RvcE9uVHJ1ZSAmJiByZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuICF0aGlzLmlzU3RvcE9uVHJ1ZVxufVxuXG5FdmVudC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZikge1xuICB0aGlzLmZ1bmNzLnB1c2goZilcbn1cblxuRXZlbnQucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmKSB7XG4gIHRoaXMuZnVuY3MudW5zaGlmdChmKVxufVxuXG5FdmVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZikge1xuICBjb25zdCBpbmRleCA9IHRoaXMuZnVuY3MuaW5kZXhPZihmKVxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5mdW5jcy5zcGxpY2UoaW5kZXgsIDEpXG4gIH1cbn1cblxuRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oX2YpIHtcbiAgdGhpcy5mdW5jcyA9IFtdXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhcnJheSwgdmFsKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbCkge1xuICAgICAgYXJyYXkuc3BsaWNlKGksIDEpXG4gICAgICBpLS1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5XG59XG4iLCJpbXBvcnQgcmVtb3ZlSXRlbSBmcm9tICcuL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtJ1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgeyBEcmFnZ2FibGUgfSBmcm9tICcuL2RyYWdnYWJsZSdcbmltcG9ydCB7IFRhcmdldCB9IGZyb20gJy4vdGFyZ2V0J1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0gLy90b2RvIHJlbW92ZSBhZnRlciByZWZhY3RvcmVcblxuY29uc3Qgc2NvcGVzID0gW11cblxuY2xhc3MgU2NvcGUge1xuICBjb25zdHJ1Y3RvcihkcmFnZ2FibGVzLCB0YXJnZXRzLCBvcHRpb25zPXt9KSB7XG4gICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiB7XG4gICAgICBpZiAoZHJhZ2dhYmxlcykge1xuICAgICAgICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgICAgIHJlbW92ZUl0ZW0oc2NvcGUuZHJhZ2dhYmxlcywgZHJhZ2dhYmxlKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0cykge1xuICAgICAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgICAgIHJlbW92ZUl0ZW0oc2NvcGUudGFyZ2V0cywgdGFyZ2V0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBkcmFnZ2FibGVzIHx8IFtdXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cyB8fCBbXVxuICAgIHNjb3Blcy5wdXNoKHRoaXMpXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdGltZUVuZDogKG9wdGlvbnMudGltZUVuZCkgfHwgNDAwXG4gICAgfVxuXG4gICAgdGhpcy5vbkNoYW5nZSA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICBpZiAob3B0aW9ucy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZS5hZGQob3B0aW9ucy5vbkNoYW5nZSlcbiAgICB9XG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLm9uRW5kLmFkZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uRW5kKGRyYWdnYWJsZSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG4gICAgZHJhZ2dhYmxlLm9uRW5kLnVuc2hpZnQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMub25FbmQoZHJhZ2dhYmxlKVxuICAgIH0pXG4gIH1cblxuICBhZGRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXRzLnB1c2godGFyZ2V0KVxuICB9XG5cbiAgb25FbmQoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3Qgc2hvdFRhcmdldHMgPSB0aGlzLnRhcmdldHMuZmlsdGVyKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xXG4gICAgfSkuZmlsdGVyKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQuY2F0Y2hEcmFnZ2FibGUoZHJhZ2dhYmxlKVxuICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLmdldFJlY3RhbmdsZSgpLmdldFNxdWFyZSgpIC0gYi5nZXRSZWN0YW5nbGUoKS5nZXRTcXVhcmUoKVxuICAgIH0pXG5cbiAgICBpZiAoc2hvdFRhcmdldHMubGVuZ3RoKSB7XG4gICAgICBzaG90VGFyZ2V0c1swXS5vbkVuZChkcmFnZ2FibGUpXG4gICAgfSBlbHNlIGlmIChkcmFnZ2FibGUudGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5pbml0UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlLCB0cnVlKVxuICAgIH1cbiAgICB0aGlzLm9uQ2hhbmdlLmZpcmUoKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQucmVzZXQoKSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLnJlZnJlc2goKSlcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQucmVmcmVzaCgpKVxuICB9XG5cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRzLm1hcCgodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gdGhpcy5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSlcbiAgICB9KVxuICB9XG5cbiAgc2V0IHBvc2l0aW9ucyhwb3NpdGlvbnMpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gJ3dyb25nIGFycmF5IGxlbmd0aCdcbiAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA9PT0gdGhpcy50YXJnZXRzLmxlbmd0aCkge1xuICAgICAgdGhpcy50YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnJlc2V0KCkpXG5cbiAgICAgIHBvc2l0aW9ucy5mb3JFYWNoKCh0YXJnZXRJbmRleGVzLCBpKSA9PiB7XG4gICAgICAgIHRhcmdldEluZGV4ZXMuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgICAgICB0aGlzLnRhcmdldHNbaV0uYWRkKHRoaXMuZHJhZ2dhYmxlc1tpbmRleF0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBtZXNzYWdlXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRTY29wZSA9IG5ldyBTY29wZSgpXG5cbmZ1bmN0aW9uIHNjb3BlKGZuKSB7XG4gIGNvbnN0IGN1cnJlbnRTY29wZSA9IG5ldyBTY29wZSgpXG4gIGNvbnN0IGFkZERyYWdnYWJsZVRvU2NvcGUgPSBmdW5jdGlvbihkcmFnZ2FibGUpIHtcbiAgICBjdXJyZW50U2NvcGUuYWRkRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGNvbnN0IGFkZFRhcmdldFRvU2NvcGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBjdXJyZW50U2NvcGUuYWRkVGFyZ2V0KHRhcmdldClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgRHJhZ2dhYmxlLm9uQ3JlYXRlLmFkZChhZGREcmFnZ2FibGVUb1Njb3BlKVxuICBUYXJnZXQub25DcmVhdGUuYWRkKGFkZFRhcmdldFRvU2NvcGUpXG4gIGZuLmNhbGwoKVxuICBEcmFnZ2FibGUub25DcmVhdGUucmVtb3ZlKGFkZERyYWdnYWJsZVRvU2NvcGUpXG4gIFRhcmdldC5vbkNyZWF0ZS5yZW1vdmUoYWRkVGFyZ2V0VG9TY29wZSlcbiAgcmV0dXJuIGN1cnJlbnRTY29wZVxufVxuXG5mdW5jdGlvbiBzY29wZUZhY3RvcnkocGFyZW50RWxlbWVudCwgZHJhZ2dhYmxlRWxlbWVudHMsIHRhcmdldEVsZW1lbnRzLCBvcHRpb25zPXt9KSB7XG4gIGNvbnN0IGRyYWdnYWJsZU9wdGlvbnMgPSBvcHRpb25zLmRyYWdnYWJsZSB8fCB7fVxuICBjb25zdCB0YXJnZXRPcHRpb25zID0gb3B0aW9ucy50YXJnZXQgfHwge31cbiAgY29uc3Qgc2NvcGVPcHRpb25zID0gb3B0aW9ucy5zY29wZSB8fCB7fVxuICBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCA9IGRyYWdnYWJsZU9wdGlvbnMucGFyZW50IHx8IHBhcmVudEVsZW1lbnRcbiAgdGFyZ2V0T3B0aW9ucy5wYXJlbnQgPSB0YXJnZXRPcHRpb25zLnBhcmVudCB8fCBwYXJlbnRFbGVtZW50XG4gIGRyYWdnYWJsZUVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZHJhZ2dhYmxlRWxlbWVudHMpXG4gIHRhcmdldEVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0RWxlbWVudHMpXG5cbiAgY29uc3QgZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZUVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlKGVsZW1lbnQsIGRyYWdnYWJsZU9wdGlvbnMpXG4gIH0pXG5cbiAgY29uc3QgdGFyZ2V0cyA9IHRhcmdldEVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgVGFyZ2V0KGVsZW1lbnQsIGRyYWdnYWJsZXMsIHRhcmdldE9wdGlvbnMpXG4gIH0pXG4gIHJldHVybiBuZXcgU2NvcGUoZHJhZ2dhYmxlcywgdGFyZ2V0cywgc2NvcGVPcHRpb25zKVxufVxuXG5leHBvcnQgeyBzY29wZXMsIGRlZmF1bHRTY29wZSwgU2NvcGUsIHNjb3BlRmFjdG9yeSwgc2NvcGUgfVxuIiwiaW1wb3J0IHsgR2VvbWV0cnksIFBvaW50IH0gZnJvbSAnLi9nZW9tZXRyeSdcblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9SZWN0YW5nbGUocmVjdGFuZ2xlKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IGNhbGNQb2ludCA9IHBvaW50LmNsb25lKCksXG4gICAgICByZWN0UDIgPSByZWN0YW5nbGUuZ2V0UDMoKVxuXG4gICAgaWYgKHJlY3RhbmdsZS5wb3NpdGlvbi54ID4gY2FsY1BvaW50LngpIHtcbiAgICAgIChjYWxjUG9pbnQueCA9IHJlY3RhbmdsZS5wb3NpdGlvbi54KVxuICAgIH1cbiAgICBpZiAocmVjdGFuZ2xlLnBvc2l0aW9uLnkgPiBjYWxjUG9pbnQueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSByZWN0YW5nbGUucG9zaXRpb24ueVxuICAgIH1cbiAgICBpZiAocmVjdFAyLnggPCBjYWxjUG9pbnQueCArIHNpemUueCkge1xuICAgICAgY2FsY1BvaW50LnggPSByZWN0UDIueCAtIHNpemUueFxuICAgIH1cbiAgICBpZiAocmVjdFAyLnkgPCBjYWxjUG9pbnQueSArIHNpemUueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSByZWN0UDIueSAtIHNpemUueVxuICAgIH1cblxuICAgIHJldHVybiBjYWxjUG9pbnRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0VsZW1lbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gIGNvbnN0IHJldEZ1bmMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYm91bmQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG4gIGxldCBib3VuZFxuXG4gIHJldEZ1bmMucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIGJvdW5kID0gYm91bmRUb1JlY3RhbmdsZShHZW9tZXRyeS5jcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudChlbGVtZW50LCBwYXJlbnQpKVxuICB9XG5cbiAgcmV0RnVuYy5yZWZyZXNoKClcbiAgcmV0dXJuIHJldEZ1bmNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9MaW5lWCh4LCBzdGFydFksIGVuZFkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBzaXplKSB7XG4gICAgY29uc3QgY2FsY1BvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIGNhbGNQb2ludC54ID0geFxuICAgIGlmIChzdGFydFkgPiBjYWxjUG9pbnQueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSBzdGFydFlcbiAgICB9XG4gICAgaWYgKGVuZFkgPCBjYWxjUG9pbnQueSArIHNpemUueSkge1xuICAgICAgY2FsY1BvaW50LnkgPSBlbmRZIC0gc2l6ZS55XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGNQb2ludFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvTGluZVkoeSwgc3RhcnRYLCBlbmRYKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IGNhbGNQb2ludCA9IHBvaW50LmNsb25lKClcbiAgICBjYWxjUG9pbnQueSA9IHlcbiAgICBpZiAoc3RhcnRYID4gY2FsY1BvaW50LngpIHtcbiAgICAgIGNhbGNQb2ludC54ID0gc3RhcnRYXG4gICAgfVxuICAgIGlmIChlbmRYIDwgY2FsY1BvaW50LnggKyBzaXplLngpIHtcbiAgICAgIGNhbGNQb2ludC54ID0gZW5kWCAtIHNpemUueFxuICAgIH1cbiAgICByZXR1cm4gY2FsY1BvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9MaW5lKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgYWxwaGEgPSBNYXRoLmF0YW4yKGVuZC55IC0gc3RhcnQueSwgZW5kLnggLSBzdGFydC54KSxcbiAgICBiZXRhID0gYWxwaGEgKyBNYXRoLlBJIC8gMixcbiAgICBzb21lSyA9IDEwLFxuICAgIGNvc0JldGEgPSBNYXRoLmNvcyhiZXRhKSxcbiAgICBzaW5CZXRhID0gTWF0aC5zaW4oYmV0YSlcblxuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIHNpemUpIHtcbiAgICBjb25zdCBwb2ludDIgPSBuZXcgUG9pbnQocG9pbnQueCArIHNvbWVLICogY29zQmV0YSwgcG9pbnQueSArIHNvbWVLICogc2luQmV0YSksXG4gICAgICBuZXdFbmQgPSBHZW9tZXRyeS5nZXRQb2ludEluTGluZUJ5TGVuZ2h0KGVuZCwgc3RhcnQsIHNpemUueClcbiAgICBsZXQgcG9pbnRDcm9zc2luZyA9IEdlb21ldHJ5LmRpcmVjdENyb3NzaW5nKHN0YXJ0LCBlbmQsIHBvaW50LCBwb2ludDIpXG5cbiAgICBwb2ludENyb3NzaW5nID0gR2VvbWV0cnkuYm91bmRUb0xpbmUoc3RhcnQsIG5ld0VuZCwgcG9pbnRDcm9zc2luZylcbiAgICByZXR1cm4gcG9pbnRDcm9zc2luZ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvQ2lyY2xlKGNlbnRlciwgcmFkaXVzKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgX3NpemUpIHtcbiAgICBjb25zdCBib3VuZGVkUG9pbnQgPSBHZW9tZXRyeS5nZXRQb2ludEluTGluZUJ5TGVuZ2h0KGNlbnRlciwgcG9pbnQsIHJhZGl1cylcbiAgICByZXR1cm4gYm91bmRlZFBvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9BcmMoY2VudGVyLCByYWRpdXMsIHN0YXJ0QWdsZSwgZW5kQW5nbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBfc2l6ZSkge1xuICAgIGNvbnN0IGJvdW5kU3RhcnRBbmdsZSA9IHR5cGVvZiBzdGFydEFnbGUgPT09ICdmdW5jdGlvbicgPyBzdGFydEFnbGUoKSA6IHN0YXJ0QWdsZVxuICAgIGNvbnN0IGJvdW5kRW5kdEFuZ2xlID0gdHlwZW9mIHN0YXJ0QWdsZSA9PT0gJ2Z1bmN0aW9uJyA/IGVuZEFuZ2xlKCkgOiBlbmRBbmdsZVxuXG4gICAgbGV0IGFuZ2xlID0gR2VvbWV0cnkuZ2V0QW5nbGUoY2VudGVyLCBwb2ludClcbiAgICBhbmdsZSA9IEdlb21ldHJ5Lm5vcm1hbGl6ZUFuZ2xlKGFuZ2xlKVxuICAgIGFuZ2xlID0gR2VvbWV0cnkuYm91bmRBbmdsZShib3VuZFN0YXJ0QW5nbGUsIGJvdW5kRW5kdEFuZ2xlLCBhbmdsZSlcbiAgICByZXR1cm4gR2VvbWV0cnkuZ2V0UG9pbnRGcm9tUmFkaWFsU3lzdGVtKGFuZ2xlLCByYWRpdXMsIGNlbnRlcilcbiAgfVxufVxuIiwiaW1wb3J0IHJhbmdlIGZyb20gJy4vdXRpbHMvcmFuZ2UuanMnXG5pbXBvcnQgcmVtb3ZlSXRlbSBmcm9tICcuL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtJ1xuaW1wb3J0IGdldERlZmF1bHRQYXJlbnQgZnJvbSAnLi91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQnXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi9nZW9tZXRyeSdcbmltcG9ydCB7IHNjb3BlcywgZGVmYXVsdFNjb3BlIH0gZnJvbSAnLi9zY29wZSdcblxuaW1wb3J0IHsgRmxvYXRMZWZ0U3RyYXRlZ3kgfSBmcm9tICcuL3Bvc2l0aW9uaW5nJ1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0vL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jb25zdCBhZGRUb0RlZmF1bHRTY29wZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICBkZWZhdWx0U2NvcGUuYWRkVGFyZ2V0KHRhcmdldClcbn1cblxuY2xhc3MgVGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgZHJhZ2dhYmxlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1xuICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50IHx8IGdldERlZmF1bHRQYXJlbnQoZWxlbWVudClcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdGltZUVuZDogMjAwLFxuICAgICAgdGltZUV4Y2FuZ2U6IDQwMCxcbiAgICAgIHBhcmVudDogcGFyZW50XG4gICAgfSwgb3B0aW9ucylcblxuICAgIHRoaXMucG9zaXRpb25pbmdTdHJhdGVneSA9IG9wdGlvbnMuc3RyYXRlZ3kgfHwgbmV3IEZsb2F0TGVmdFN0cmF0ZWd5KFxuICAgICAgdGhpcy5nZXRSZWN0YW5nbGUuYmluZCh0aGlzKSxcbiAgICAgIHtcbiAgICAgICAgcmFkaXVzOiA4MCxcbiAgICAgICAgZ2V0RGlzdGFuY2U6IEdlb21ldHJ5LnRyYW5zZm9ybWVkU3BhY2VEaXN0YW5jZUZhY3RvcnkoeyB4OiAxLCB5OiA0IH0pLFxuICAgICAgICByZW1vdmFibGU6IHRydWVcbiAgICAgIH1cbiAgICApXG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS50YXJnZXRzLnB1c2godGFyZ2V0KSlcbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBkcmFnZ2FibGVzXG4gICAgdGhpcy5vbkFkZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICB0aGlzLmJlZm9yZUFkZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICB0aGlzLm9uUmVtb3ZlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuXG4gICAgaWYgKG9wdGlvbnMub25SZW1vdmUpIHtcbiAgICAgIHRoaXMub25SZW1vdmUuYWRkKG9wdGlvbnMub25SZW1vdmUpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMub25BZGQpIHtcbiAgICAgIHRoaXMub25BZGQuYWRkKG9wdGlvbnMub25BZGQpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlQWRkKSB7XG4gICAgICB0aGlzLmJlZm9yZUFkZC5hZGQob3B0aW9ucy5iZWZvcmVBZGQpXG4gICAgfVxuXG4gICAgVGFyZ2V0Lm9uQ3JlYXRlLmZpcmUodGhpcylcblxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBwb3NpdGlvbmluZyAoZHJhZ2dhYmxlcywgaW5kZXhlc09mTmV3KSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25pbmdTdHJhdGVneS5wb3NpdGlvbmluZyhkcmFnZ2FibGVzLCBpbmRleGVzT2ZOZXcpXG4gIH1cblxuICBzb3J0aW5nIChvbGREcmFnZ2FibGVzLCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cykge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uaW5nU3RyYXRlZ3kuc29ydGluZyhvbGREcmFnZ2FibGVzLCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cylcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbGV0IHJlY3RhbmdsZXMsIGluZGV4ZXNPZk5ld1xuXG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMgPSB0aGlzLmRyYWdnYWJsZXMuZmlsdGVyKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGxldCBlbGVtZW50ID0gZHJhZ2dhYmxlLmVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcblxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5sZW5ndGgpIHtcbiAgICAgIGluZGV4ZXNPZk5ldyA9IHJhbmdlKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmxlbmd0aClcbiAgICAgIHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICAgIH0pLCBpbmRleGVzT2ZOZXcpXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIGluZGV4ZXNPZk5ldylcbiAgICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gdGhpcy5vbkFkZC5maXJlKGRyYWdnYWJsZSkpXG4gICAgfVxuICB9XG5cbiAgZ2V0UmVjdGFuZ2xlKCkge1xuICAgIHJldHVybiBHZW9tZXRyeS5jcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudChcbiAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgIHRoaXMub3B0aW9ucy5wYXJlbnQsXG4gICAgICB0aGlzLm9wdGlvbnMuaXNDb250ZW50Qm94U2l6ZSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjYXRjaERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNhdGNoRHJhZ2dhYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNhdGNoRHJhZ2dhYmxlKHRoaXMsIGRyYWdnYWJsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0UmVjdGFuZ2xlID0gdGhpcy5nZXRSZWN0YW5nbGUoKVxuICAgICAgY29uc3QgZHJhZ2dhYmxlU3F1YXJlID0gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpLmdldFNxdWFyZSgpXG5cbiAgICAgIHJldHVybiBkcmFnZ2FibGVTcXVhcmUgPCB0YXJnZXRSZWN0YW5nbGUuZ2V0U3F1YXJlKClcbiAgICAgICAgICAgICAgJiYgdGFyZ2V0UmVjdGFuZ2xlLmluY2x1ZGVQb2ludChkcmFnZ2FibGUuZ2V0Q2VudGVyKCkpXG4gICAgfVxuICB9XG5cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdGFuZ2xlKCkucG9zaXRpb25cbiAgfVxuXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdGFuZ2xlKCkuc2l6ZVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBzY29wZXMuZm9yRWFjaCgoc2NvcGUpID0+IHJlbW92ZUl0ZW0oc2NvcGUudGFyZ2V0cywgdGhpcykpXG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIFtdKVxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgW10sIDApXG4gIH1cblxuICBvbkVuZChkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBuZXdEcmFnZ2FibGVzSW5kZXggPSBbXVxuICAgIGNvbnN0IGluY2x1ZGVQb2ludCA9IHRoaXMuZ2V0UmVjdGFuZ2xlKCkuaW5jbHVkZVBvaW50KGRyYWdnYWJsZS5nZXRQb3NpdGlvbigpKVxuXG4gICAgaWYgKCFpbmNsdWRlUG9pbnQpIHtcbiAgICAgIGlmICh0aGlzLmdldFJlY3RhbmdsZSgpLmluY2x1ZGVQb2ludChkcmFnZ2FibGUuZ2V0Q2VudGVyKCkpKSB7XG4gICAgICAgIGRyYWdnYWJsZS5wb3NpdGlvbiA9IGRyYWdnYWJsZS5nZXRDZW50ZXIoKS5jbG9uZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJlZm9yZUFkZC5maXJlKGRyYWdnYWJsZSlcblxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzID0gdGhpcy5zb3J0aW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLCBbZHJhZ2dhYmxlXSwgbmV3RHJhZ2dhYmxlc0luZGV4KVxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIG5ld0RyYWdnYWJsZXNJbmRleClcblxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgbmV3RHJhZ2dhYmxlc0luZGV4KVxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xKSB7XG4gICAgICB0aGlzLmFkZFJlbW92ZU9uTW92ZShkcmFnZ2FibGUpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBpbmRleGVzT2ZOZXcsIHRpbWUpIHtcbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5zbGljZSgwKS5mb3JFYWNoKChkcmFnZ2FibGUsIGkpID0+IHtcbiAgICAgIGNvbnN0IHJlY3QgPSByZWN0YW5nbGVzW2ldLFxuICAgICAgICB0aW1lRW5kID0gdGltZSB8fCB0aW1lID09PSAwID8gdGltZSA6IGluZGV4ZXNPZk5ldy5pbmRleE9mKGkpICE9PSAtMSA/IHRoaXMub3B0aW9ucy50aW1lRW5kIDogdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlXG5cbiAgICAgIGlmIChyZWN0LnJlbW92YWJsZSkge1xuICAgICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCB0aW1lRW5kLCB0cnVlLCB0cnVlKVxuICAgICAgICByZW1vdmVJdGVtKHRoaXMuaW5uZXJEcmFnZ2FibGVzLCBkcmFnZ2FibGUpXG5cbiAgICAgICAgdGhpcy5vblJlbW92ZS5maXJlKGRyYWdnYWJsZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdnYWJsZS5tb3ZlKHJlY3QucG9zaXRpb24sIHRpbWVFbmQsIHRydWUsIHRydWUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFkZChkcmFnZ2FibGUsIHRpbWUpIHtcbiAgICBjb25zdCBuZXdEcmFnZ2FibGVzSW5kZXggPSB0aGlzLmlubmVyRHJhZ2dhYmxlcy5sZW5ndGhcblxuICAgIHRoaXMuYmVmb3JlQWRkLmZpcmUoZHJhZ2dhYmxlKVxuXG4gICAgdGhpcy5wdXNoSW5uZXJEcmFnZ2FibGUoZHJhZ2dhYmxlKVxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIG5ld0RyYWdnYWJsZXNJbmRleCwgZHJhZ2dhYmxlKVxuXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBbbmV3RHJhZ2dhYmxlc0luZGV4XSwgdGltZSB8fCAwKVxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xKSB7XG4gICAgICB0aGlzLmFkZFJlbW92ZU9uTW92ZShkcmFnZ2FibGUpXG4gICAgfVxuICB9XG5cbiAgcHVzaElubmVyRHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSk9PT0tMSkge1xuICAgICAgdGhpcy5pbm5lckRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG4gICAgfVxuICB9XG5cbiAgYWRkUmVtb3ZlT25Nb3ZlKGRyYWdnYWJsZSkge1xuICAgIGRyYWdnYWJsZS5vbk1vdmUuYWRkKHRoaXMucmVtb3ZlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlKGRyYWdnYWJsZSlcbiAgICB9KVxuXG4gICAgdGhpcy5vbkFkZC5maXJlKGRyYWdnYWJsZSlcbiAgfVxuXG4gIHJlbW92ZShkcmFnZ2FibGUpIHtcbiAgICBkcmFnZ2FibGUub25Nb3ZlLnJlbW92ZSh0aGlzLnJlbW92ZUhhbmRsZXIpXG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5uZXJEcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLnNwbGljZShpbmRleCwgMSlcblxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIFtdKVxuXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBbXSlcbiAgICB0aGlzLm9uUmVtb3ZlLmZpcmUoZHJhZ2dhYmxlKVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKVxuICAgICAgdGhpcy5vblJlbW92ZS5maXJlKGRyYWdnYWJsZSlcbiAgICB9KVxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzID0gW11cbiAgfVxuXG4gIGdldFNvcnRlZERyYWdnYWJsZXMoKSB7XG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuc2xpY2UoKVxuICB9XG59XG5cblRhcmdldC5vbkNyZWF0ZSA9IG5ldyBEcmFnZWUuRXZlbnQoVGFyZ2V0LCB7IGlzUmV2ZXJzZTogdHJ1ZSwgaXNTdG9wT25UcnVlOiB0cnVlIH0pXG5UYXJnZXQub25DcmVhdGUuYWRkKGFkZFRvRGVmYXVsdFNjb3BlKVxuXG5leHBvcnQgeyBUYXJnZXQgfVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RGVmYXVsdFBhcmVudChlbGVtZW50KSB7XG4gIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGVcbiAgd2hpbGUgKHBhcmVudC5wYXJlbnROb2RlICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudClbJ3Bvc2l0aW9uJ10gPT09ICdzdGF0aWMnKSB7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcbiAgfVxuICByZXR1cm4gcGFyZW50XG59XG4iLCIvKiFcbiAqIGdldFN0eWxlUHJvcGVydHkgdjEuMC40XG4gKiBvcmlnaW5hbCBieSBrYW5nYXhcbiAqIGh0dHA6Ly9wZXJmZWN0aW9ua2lsbHMuY29tL2ZlYXR1cmUtdGVzdGluZy1jc3MtcHJvcGVydGllcy9cbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCB1bmRlZjogdHJ1ZSAqL1xuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgZXhwb3J0czogZmFsc2UsIG1vZHVsZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93ICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmVmaXhlcyA9ICdXZWJraXQgTW96IG1zIE1zIE8nLnNwbGl0KCcgJyk7XG52YXIgZG9jRWxlbVN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuXG5mdW5jdGlvbiBnZXRTdHlsZVByb3BlcnR5KCBwcm9wTmFtZSApIHtcbiAgaWYgKCAhcHJvcE5hbWUgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gdGVzdCBzdGFuZGFyZCBwcm9wZXJ0eSBmaXJzdFxuICBpZiAoIHR5cGVvZiBkb2NFbGVtU3R5bGVbIHByb3BOYW1lIF0gPT09ICdzdHJpbmcnICkge1xuICAgIHJldHVybiBwcm9wTmFtZTtcbiAgfVxuXG4gIC8vIGNhcGl0YWxpemVcbiAgcHJvcE5hbWUgPSBwcm9wTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BOYW1lLnNsaWNlKDEpO1xuXG4gIC8vIHRlc3QgdmVuZG9yIHNwZWNpZmljIHByb3BlcnRpZXNcbiAgdmFyIHByZWZpeGVkO1xuICBmb3IgKCB2YXIgaT0wLCBsZW4gPSBwcmVmaXhlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgcHJvcE5hbWU7XG4gICAgaWYgKCB0eXBlb2YgZG9jRWxlbVN0eWxlWyBwcmVmaXhlZCBdID09PSAnc3RyaW5nJyApIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZDtcbiAgICB9XG4gIH1cbn1cblxuLy8gdHJhbnNwb3J0XG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgLy8gQU1EXG4gIGRlZmluZSggZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldFN0eWxlUHJvcGVydHk7XG4gIH0pO1xufSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuICAvLyBDb21tb25KUyBmb3IgQ29tcG9uZW50XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0U3R5bGVQcm9wZXJ0eTtcbn0gZWxzZSB7XG4gIC8vIGJyb3dzZXIgZ2xvYmFsXG4gIHdpbmRvdy5nZXRTdHlsZVByb3BlcnR5ID0gZ2V0U3R5bGVQcm9wZXJ0eTtcbn1cblxufSkoIHdpbmRvdyApO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgY29uc3QgcmVzdWx0ID0gW11cbiAgaWYgKHR5cGVvZiBzdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0b3AgPSBzdGFydFxuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmICh0eXBlb2Ygc3RlcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGVwID0gMVxuICB9XG4gIGlmICgoc3RlcCA+IDAgJiYgc3RhcnQgPj0gc3RvcCkgfHwgKHN0ZXAgPCAwICYmIHN0YXJ0IDw9IHN0b3ApKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBzdGVwID4gMCA/IGkgPCBzdG9wIDogaSA+IHN0b3A7IGkgKz0gc3RlcCkge1xuICAgIHJlc3VsdC5wdXNoKGkpXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnksIFBvaW50IH0gZnJvbSAnLi9nZW9tZXRyeSdcblxuY2xhc3MgQmFzaWNTdHJhdGVneSB7XG4gIGNvbnN0cnVjdG9yKHJlY3RhbmdsZSwgb3B0aW9ucz17fSkge1xuICAgIHRoaXMucmVjdGFuZ2xlID0gcmVjdGFuZ2xlXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgZ2V0IGJvdW5kUmVjdCAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlY3RhbmdsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucmVjdGFuZ2xlKCkgOiB0aGlzLnJlY3RhbmdsZVxuICB9XG59XG5cbmNsYXNzIE5vdENyb3NzaW5nU3RyYXRlZ3kgZXh0ZW5kcyBCYXNpY1N0cmF0ZWd5IHtcbiAgcG9zaXRpb25pbmcgKHJlY3RhbmdsZUxpc3QsIGluZGV4ZXNPZk5ld3MpIHtcbiAgICBjb25zdCBzdGF0aWNSZWN0YW5nbGVJbmRleGVzID0gcmVjdGFuZ2xlTGlzdC5yZWR1Y2UoKGluZGV4ZXMsIF9yZWN0LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ZXNPZk5ld3MuaW5kZXhPZihpbmRleCkgPT09IC0xKSB7XG4gICAgICAgIGluZGV4ZXMucHVzaChpbmRleClcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleGVzXG4gICAgfSwgW10pXG5cbiAgICBpbmRleGVzT2ZOZXdzLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICBsZXQgcmVjdCA9IHJlY3RhbmdsZUxpc3RbaW5kZXhdXG4gICAgICBsZXQgcmVtb3ZhYmxlID0gZmFsc2VcblxuICAgICAgc3RhdGljUmVjdGFuZ2xlSW5kZXhlcy5mb3JFYWNoKChpbmRleE9mU3RhdGljKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRpY1JlY3QgPSByZWN0YW5nbGVMaXN0W2luZGV4T2ZTdGF0aWNdXG4gICAgICAgIHJlY3QgPSBzdGF0aWNSZWN0Lm1vdmVUb0JvdW5kKHJlY3QpXG4gICAgICB9KVxuXG4gICAgICByZW1vdmFibGUgPSBzdGF0aWNSZWN0YW5nbGVJbmRleGVzLnNvbWUoKGluZGV4T2ZTdGF0aWMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGljUmVjdCA9IHJlY3RhbmdsZUxpc3RbaW5kZXhPZlN0YXRpY11cbiAgICAgICAgcmV0dXJuICAhIXN0YXRpY1JlY3QuYW5kKHJlY3QpXG4gICAgICB9KSB8fCByZWN0LmFuZCh0aGlzLmJvdW5kUmVjdCkuZ2V0U3F1YXJlKCkgIT09IHJlY3QuZ2V0U3F1YXJlKClcblxuICAgICAgaWYgKHJlbW92YWJsZSkge1xuICAgICAgICByZWN0LnJlbW92YWJsZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRpY1JlY3RhbmdsZUluZGV4ZXMucHVzaChpbmRleClcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiByZWN0YW5nbGVMaXN0XG4gIH1cblxuICBzb3J0aW5nKG9kbERyYWdnYWJsZXNMaXN0LCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cykge1xuICAgIGNvbnN0IGRyYWdnYWJsZXMgPSBvZGxEcmFnZ2FibGVzTGlzdC5jb25jYXQobmV3RHJhZ2dhYmxlcylcbiAgICBuZXdEcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgaW5kZXhPZk5ld3MucHVzaChkcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSlcbiAgICB9KVxuICAgIHJldHVybiBkcmFnZ2FibGVzXG4gIH1cbn1cblxuY2xhc3MgRmxvYXRMZWZ0U3RyYXRlZ3kgZXh0ZW5kcyBCYXNpY1N0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBvcHRpb25zPXt9KSB7XG4gICAgc3VwZXIocmVjdGFuZ2xlLCBvcHRpb25zKVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcmVtb3ZhYmxlOiB0cnVlXG4gICAgfSwgb3B0aW9ucylcblxuICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgODBcblxuICAgIHRoaXMucGFkZGluZ1RvcExlZnQgPSBvcHRpb25zLnBhZGRpbmdUb3BMZWZ0IHx8IG5ldyBQb2ludCgwLCAwKVxuICAgIHRoaXMucGFkZGluZ0JvdHRvbVJpZ2h0ID0gb3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgbmV3IFBvaW50KDAsIDApXG4gICAgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMgPSBvcHRpb25zLnlHYXBCZXR3ZWVuRHJhZ2dhYmxlcyB8fCAwXG5cbiAgICB0aGlzLmdldERpc3RhbmNlID0gb3B0aW9ucy5nZXREaXN0YW5jZSB8fCBHZW9tZXRyeS5nZXREaXN0YW5jZVxuICAgIHRoaXMuZ2V0UG9zaXRpb24gPSBvcHRpb25zLmdldFBvc2l0aW9uIHx8ICgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLnBvc2l0aW9uXG4gICAgfSlcbiAgfVxuXG4gIHBvc2l0aW9uaW5nKHJlY3RhbmdsZUxpc3QsIF9pbmRleGVzT2ZOZXdzKSB7XG4gICAgY29uc3QgYm91bmRSZWN0ID0gdGhpcy5ib3VuZFJlY3RcbiAgICBjb25zdCByZWN0UDIgPSBib3VuZFJlY3QuZ2V0UDIoKVxuICAgIGxldCBib3VuZGFyeVBvaW50cyA9IFtib3VuZFJlY3QucG9zaXRpb25dXG5cbiAgICByZWN0YW5nbGVMaXN0LmZvckVhY2goKHJlY3QpID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbiwgaXNWYWxpZCA9IGZhbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kYXJ5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvc2l0aW9uID0gKG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tpXS54LFxuICAgICAgICAgIGkgPiAwID8gKGJvdW5kYXJ5UG9pbnRzW2kgLSAxXS55ICsgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMpIDogYm91bmRSZWN0LnBvc2l0aW9uLnkpXG4gICAgICAgICkuYWRkKHRoaXMucGFkZGluZ1RvcExlZnQpXG5cbiAgICAgICAgaXNWYWxpZCA9IChwb3NpdGlvbi54ICsgcmVjdC5zaXplLnggPCByZWN0UDIueClcblxuICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIHBvc2l0aW9uID0gKG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZFJlY3QucG9zaXRpb24ueCxcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tib3VuZGFyeVBvaW50cy5sZW5ndGggLSAxXS55ICsgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMpXG4gICAgICAgICkuYWRkKHRoaXMucGFkZGluZ1RvcExlZnQpXG4gICAgICB9XG5cbiAgICAgIHJlY3QucG9zaXRpb24gPSBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmFibGUgJiYgcmVjdC5nZXRQMygpLnkgPiBib3VuZFJlY3QuZ2V0UDMoKS55KSB7XG4gICAgICAgIHJlY3QucmVtb3ZhYmxlID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBib3VuZGFyeVBvaW50cyA9IEdlb21ldHJ5LmFkZFBvaW50VG9Cb3VuZFBvaW50cyhib3VuZGFyeVBvaW50cywgcmVjdC5nZXRQMygpLmFkZCh0aGlzLnBhZGRpbmdCb3R0b21SaWdodCkpXG4gICAgfSlcbiAgICByZXR1cm4gcmVjdGFuZ2xlTGlzdFxuICB9XG5cbiAgc29ydGluZyhvZGxEcmFnZ2FibGVzTGlzdCwgbmV3RHJhZ2dhYmxlcywgaW5kZXhPZk5ld3MpIHtcbiAgICBjb25zdCBuZXdMaXN0ID0gb2RsRHJhZ2dhYmxlc0xpc3QuY29uY2F0KClcbiAgICBjb25zdCBsaXN0T2xkUG9zaXRpb24gPSBvZGxEcmFnZ2FibGVzTGlzdC5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmdldFBvc2l0aW9uKCkpXG4gICAgbmV3RHJhZ2dhYmxlcy5mb3JFYWNoKChuZXdEcmFnZ2FibGUpID0+IHtcbiAgICAgIGxldCBpbmRleCA9IEdlb21ldHJ5LmluZGV4T2ZOZWFyZXN0UG9pbnQobGlzdE9sZFBvc2l0aW9uLCB0aGlzLmdldFBvc2l0aW9uKG5ld0RyYWdnYWJsZSksIHRoaXMucmFkaXVzLCB0aGlzLmdldERpc3RhbmNlKVxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IG5ld0xpc3QubGVuZ3RoXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IG5ld0xpc3QuaW5kZXhPZihvZGxEcmFnZ2FibGVzTGlzdFtpbmRleF0pXG4gICAgICB9XG4gICAgICBuZXdMaXN0LnNwbGljZShpbmRleCwgMCwgbmV3RHJhZ2dhYmxlKVxuICAgIH0pXG4gICAgbmV3RHJhZ2dhYmxlcy5mb3JFYWNoKChuZXdEcmFnZ2FibGUpID0+IHtcbiAgICAgIGluZGV4T2ZOZXdzLnB1c2gobmV3TGlzdC5pbmRleE9mKG5ld0RyYWdnYWJsZSkpXG4gICAgfSlcbiAgICByZXR1cm4gbmV3TGlzdFxuICB9XG59XG5cbmNsYXNzIEZsb2F0UmlnaHRTdHJhdGVneSBleHRlbmRzIEZsb2F0TGVmdFN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBvcHRpb25zPXt9KSB7XG4gICAgc3VwZXIocmVjdGFuZ2xlLCBvcHRpb25zKVxuXG4gICAgdGhpcy5wYWRkaW5nVG9wUmlnaHQgPSBvcHRpb25zLnBhZGRpbmdUb3BSaWdodCB8fCBuZXcgUG9pbnQoNSwgNSlcbiAgICB0aGlzLnBhZGRpbmdCb3R0b21MZWZ0ID0gb3B0aW9ucy5wYWRkaW5nQm90dG9tTGVmdCB8fCBuZXcgUG9pbnQoMCwgMClcblxuICAgIHRoaXMucGFkZGluZ1RvcE5lZ1JpZ2h0ID0gbmV3IFBvaW50KC10aGlzLnBhZGRpbmdUb3BSaWdodC54LCB0aGlzLnBhZGRpbmdUb3BSaWdodC55KVxuICAgIHRoaXMucGFkZGluZ0JvdHRvbU5lZ0xlZnQgPSBuZXcgUG9pbnQoLXRoaXMucGFkZGluZ0JvdHRvbUxlZnQueCwgdGhpcy5wYWRkaW5nQm90dG9tTGVmdC55KVxuICB9XG5cbiAgcG9zaXRpb25pbmcocmVjdGFuZ2xlTGlzdCwgX2luZGV4ZXNPZk5ld3MpIHtcbiAgICBjb25zdCBib3VuZFJlY3QgPSB0aGlzLmJvdW5kUmVjdFxuICAgIGxldCBib3VuZGFyeVBvaW50cyA9IFtib3VuZFJlY3QuZ2V0UmlnaHRUb3BQb2ludCgpXVxuICAgIHJlY3RhbmdsZUxpc3QuZm9yRWFjaCgocmVjdCwgX2luZGV4KSA9PiB7XG4gICAgICBsZXQgcG9zaXRpb24sIGlzVmFsaWQgPSBmYWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZGFyeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwb3NpdGlvbiA9IChuZXcgUG9pbnQoXG4gICAgICAgICAgYm91bmRhcnlQb2ludHNbaV0ueCAtIHJlY3Quc2l6ZS54LFxuICAgICAgICAgIGkgPiAwID8gYm91bmRhcnlQb2ludHNbaSAtIDFdLnkgOiBib3VuZFJlY3QucG9zaXRpb24ueSlcbiAgICAgICAgKS5hZGQodGhpcy5wYWRkaW5nVG9wTmVnUmlnaHQpXG5cbiAgICAgICAgaXNWYWxpZCA9IChwb3NpdGlvbi54ID4gcmVjdC5wb3NpdGlvbi54KVxuICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICBwb3NpdGlvbiA9IG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZFJlY3QuZ2V0UDIoKS54LFxuICAgICAgICAgIGJvdW5kYXJ5UG9pbnRzW2JvdW5kYXJ5UG9pbnRzLmxlbmd0aCAtIDFdLnlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmVjdC5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92YWJsZSAmJiByZWN0LmdldExlZnRCb3R0b21Qb2ludCgpLnkgPiBib3VuZFJlY3QuZ2V0UDQoKS55KSB7XG4gICAgICAgIHJlY3QucmVtb3ZhYmxlID0gdHJ1ZVxuICAgICAgfVxuICAgICAgYm91bmRhcnlQb2ludHMgPSBHZW9tZXRyeS5hZGRQb2ludFRvQm91bmRQb2ludHMoYm91bmRhcnlQb2ludHMsIHJlY3QuZ2V0UDQoKS5hZGQodGhpcy5wYWRkaW5nQm90dG9tTmVnTGVmdCksIHRydWUpXG4gICAgfSlcbiAgICByZXR1cm4gcmVjdGFuZ2xlTGlzdFxuICB9XG59XG5cbmV4cG9ydCB7IE5vdENyb3NzaW5nU3RyYXRlZ3ksIEZsb2F0TGVmdFN0cmF0ZWd5LCBGbG9hdFJpZ2h0U3RyYXRlZ3kgfVxuIiwiaW1wb3J0IHJlbW92ZUl0ZW0gZnJvbSAnLi91dGlscy9yZW1vdmUtYXJyYXktaXRlbSdcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50J1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5J1xuaW1wb3J0IHsgRHJhZ2dhYmxlIH0gZnJvbSAnLi9kcmFnZ2FibGUnXG5cbmNvbnN0IERyYWdlZSA9IHsgRXZlbnQgfSAvL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jbGFzcyBMaXN0IHtcbiAgY29uc3RydWN0b3IoZHJhZ2dhYmxlcywgb3B0aW9ucz17fSkge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdGltZUVuZDogMjAwLFxuICAgICAgdGltZUV4Y2FuZ2U6IDQwMCxcbiAgICAgIHJhZGl1czogMzAsXG4gICAgICBnZXREaXN0YW5jZTogR2VvbWV0cnkuZ2V0RGlzdGFuY2UsXG4gICAgICBpc0Rpc3BsYWNlbWVudDogZmFsc2UsXG4gICAgICBpc1NvcnRhYmxlOiB0cnVlXG4gICAgfSwgb3B0aW9ucylcblxuICAgIHRoaXMuZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZXNcbiAgICB0aGlzLm9uQ2hhbmdlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIGlmIChvcHRpb25zLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlLmFkZChvcHRpb25zLm9uQ2hhbmdlKVxuICAgIH1cbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLl9lbmFibGUgPSB0cnVlXG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2godGhpcy5pbml0RHJhZ2dhYmxlLCB0aGlzKVxuICB9XG5cbiAgaW5pdERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICBsZXQgbW92ZUhhbmRsZXJcbiAgICBjb25zdCBsaXN0ID0gdGhpc1xuXG4gICAgZHJhZ2dhYmxlLmVuYWJsZSA9IHRoaXMuX2VuYWJsZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNEaXNwbGFjZW1lbnQpIHtcbiAgICAgIG1vdmVIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkcmFnZ2FibGUuaXNEcmFnZ2luZykge1xuICAgICAgICAgIGxpc3Qub25TdGFydChkcmFnZ2FibGUpXG4gICAgICAgICAgZHJhZ2dhYmxlLm9uTW92ZS5yZW1vdmUobW92ZUhhbmRsZXIpXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkcmFnZ2FibGUub25FbmQuYWRkKCgpID0+IHtcbiAgICAgICAgdGhpcy5vbkVuZERpc3BsYXljZW1lbnQoZHJhZ2dhYmxlKVxuICAgICAgICBkcmFnZ2FibGUub25Nb3ZlLmFkZChtb3ZlSGFuZGxlcilcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0pXG5cbiAgICAgIGRyYWdnYWJsZS5vbk1vdmUuYWRkKG1vdmVIYW5kbGVyKVxuICAgIH0gZWxzZSB7XG4gICAgICBkcmFnZ2FibGUub25FbmQuYWRkKCgpID0+IHtcbiAgICAgICAgdGhpcy5vbkVuZChkcmFnZ2FibGUpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIG1vdmVPclNhdmUoZHJhZ2dhYmxlLCBwb3NpdGlvbiwgdGltZSkge1xuICAgIGlmIChkcmFnZ2FibGUuaXNEcmFnZ2luZykge1xuICAgICAgZHJhZ2dhYmxlLmZpeFBvc2l0aW9uID0gcG9zaXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUocG9zaXRpb24sIHRpbWUsIHRydWUpXG4gICAgfVxuICB9XG5cbiAgb25FbmQoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3QgZml4UG9zaXRpb25zID0gdGhpcy5nZXRDdXJyZW50Rml4UG9zaXRpb24oKVxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBjb25zdCBleGNhbmdlSW5kZXggPSBHZW9tZXRyeS5pbmRleE9mTmVhcmVzdFBvaW50KGZpeFBvc2l0aW9ucywgZHJhZ2dhYmxlLnBvc2l0aW9uLCB0aGlzLm9wdGlvbnMucmFkaXVzLCB0aGlzLm9wdGlvbnMuZ2V0RGlzdGFuY2UpXG5cbiAgICBpZiAoZXhjYW5nZUluZGV4ID09PSAtMSB8fCBleGNhbmdlSW5kZXggPT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUVuZCwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlT3JTYXZlKHRoaXMuZHJhZ2dhYmxlc1tleGNhbmdlSW5kZXhdLCBmaXhQb3NpdGlvbnNbY3VycmVudEluZGV4XSwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKVxuICAgICAgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0ubW92ZShmaXhQb3NpdGlvbnNbZXhjYW5nZUluZGV4XSwgdGhpcy5vcHRpb25zLnRpbWVFbmQsIHRydWUpXG4gICAgICB0aGlzLm9uQ2hhbmdlLmZpcmUoKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc29ydElmUG9zc2libGUoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3QgZml4UG9zaXRpb24gPSBkcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgY29uc3QgbmV4dERyYWdnYWJsZSA9IHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggKyAxXVxuICAgIGNvbnN0IHByZXZEcmFnZ2FibGUgPSB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4IC0gMV1cblxuICAgIGlmIChkcmFnZ2FibGUuZG93bkRpcmVjdGlvbiAmJiBuZXh0RHJhZ2dhYmxlKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZShkcmFnZ2FibGUucG9zaXRpb24sIG5leHREcmFnZ2FibGUucG9zaXRpb24pXG4gICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnMucmFkaXVzKSB7XG4gICAgICAgIGRyYWdnYWJsZS5maXhQb3NpdGlvbiA9IG5leHREcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKG5leHREcmFnZ2FibGUsIGZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpO1xuICAgICAgICBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggKyAxXV0gPSBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XV1cbiAgICAgICAgdGhpcy5zb3J0SWZQb3NzaWJsZShkcmFnZ2FibGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnYWJsZS51cERpcmVjdGlvbiAmJiBwcmV2RHJhZ2dhYmxlKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZShkcmFnZ2FibGUucG9zaXRpb24sIHByZXZEcmFnZ2FibGUucG9zaXRpb24pXG4gICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnMucmFkaXVzKSB7XG4gICAgICAgIGRyYWdnYWJsZS5maXhQb3NpdGlvbiA9IHByZXZEcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKHByZXZEcmFnZ2FibGUsIGZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpO1xuICAgICAgICBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXV0gPSBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCAtIDFdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XV1cbiAgICAgICAgdGhpcy5zb3J0SWZQb3NzaWJsZShkcmFnZ2FibGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25FbmREaXNwbGF5Y2VtZW50KGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IHNvcnRlZERyYWdnYWJsZXMgPSB0aGlzLmdldFNvcnRlZERyYWdnYWJsZXMoKVxuICAgIGNvbnN0IGZpeFBvc2l0aW9ucyA9IHNvcnRlZERyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5maXhQb3NpdGlvbilcblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHNvcnRlZERyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSBHZW9tZXRyeS5pbmRleE9mTmVhcmVzdFBvaW50KGZpeFBvc2l0aW9ucywgZHJhZ2dhYmxlLnBvc2l0aW9uLCB0aGlzLm9wdGlvbnMucmFkaXVzLCB0aGlzLm9wdGlvbnMuZ2V0RGlzdGFuY2UpXG5cbiAgICBpZiAodGFyZ2V0SW5kZXggIT09IC0xKSB7XG4gICAgICBpZiAodGFyZ2V0SW5kZXggPCBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgZm9yIChsZXQgaT10YXJnZXRJbmRleDsgaTxjdXJyZW50SW5kZXg7IGkrKykge1xuICAgICAgICAgIHRoaXMubW92ZU9yU2F2ZShzb3J0ZWREcmFnZ2FibGVzW2ldLCBmaXhQb3NpdGlvbnNbaSsxXSwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpPWN1cnJlbnRJbmRleDsgaTx0YXJnZXRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKHNvcnRlZERyYWdnYWJsZXNbaSsxXSwgZml4UG9zaXRpb25zW2ldLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGZpeFBvc2l0aW9uc1t0YXJnZXRJbmRleF0sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIG9uU3RhcnQoZHJhZ2dhYmxlKSB7XG4gICAgbGV0IGlcbiAgICBjb25zdCBzb3J0ZWREcmFnZ2FibGVzID0gdGhpcy5nZXRTb3J0ZWREcmFnZ2FibGVzKClcbiAgICBjb25zdCBmaXhQb3NpdGlvbnMgPSBzb3J0ZWREcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZml4UG9zaXRpb24pXG5cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzb3J0ZWREcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGZvciAoaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPCBzb3J0ZWREcmFnZ2FibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm1vdmVPclNhdmUoc29ydGVkRHJhZ2dhYmxlc1tpXSwgZml4UG9zaXRpb25zW2kgLSAxXSwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKVxuICAgIH1cbiAgICBzb3J0ZWREcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0uZml4UG9zaXRpb24gPSBmaXhQb3NpdGlvbnNbaSAtIDFdXG4gIH1cblxuICBnZXRDdXJyZW50Rml4UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmZpeFBvc2l0aW9uLmNsb25lKCkpXG4gIH1cblxuICBnZXRTb3J0ZWREcmFnZ2FibGVzKCkge1xuICAgIGNvbnN0IGluaXRQb3NpdGlvbnMgPSB0aGlzLmRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5pbml0UG9zaXRpb24pXG5cbiAgICBjb25zdCBzb3J0ZWREcmFnZ2FibGVzID0gaW5pdFBvc2l0aW9ucy5tYXAoKHBvc2l0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGVzLmZpbHRlcigoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZml4UG9zaXRpb24uY29tcGFyZShwb3NpdGlvbikpWzBdXG4gICAgfSlcblxuICAgIHJldHVybiBzb3J0ZWREcmFnZ2FibGVzXG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCBmYWxzZSlcbiAgICB9KVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUucmVmcmVzaCgpXG4gICAgfSlcbiAgfVxuXG4gIGFkZChkcmFnZ2FibGVzKSB7XG4gICAgaWYgKCEoZHJhZ2dhYmxlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgZHJhZ2dhYmxlcyA9IFtkcmFnZ2FibGVzXVxuICAgIH1cbiAgICBkcmFnZ2FibGVzLmZvckVhY2godGhpcy5pbml0RHJhZ2dhYmxlLCB0aGlzKVxuICAgIHRoaXMuZHJhZ2dhYmxlcyA9IHRoaXMuZHJhZ2dhYmxlcy5jb25jYXQoZHJhZ2dhYmxlcylcbiAgfVxuXG4gIHJlbW92ZShkcmFnZ2FibGVzKSB7XG4gICAgY29uc3QgaW5pdFBvc2l0aW9ucyA9IHRoaXMuZHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmluaXRQb3NpdGlvbilcbiAgICBjb25zdCBsaXN0ID0gW11cbiAgICBjb25zdCBzb3J0ZWREcmFnZ2FibGVzID0gdGhpcy5nZXRTb3J0ZWREcmFnZ2FibGVzKClcblxuICAgIGlmICghKGRyYWdnYWJsZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgIGRyYWdnYWJsZXMgPSBbZHJhZ2dhYmxlc11cbiAgICB9XG5cbiAgICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLm9uRW5kLnJlc2V0KClcbiAgICAgIGRyYWdnYWJsZS5vbk1vdmUucmVzZXQoKSAvL3RvZG8gcmVtb3ZlIHJlc2V0IGluIGZ1dHVyZVxuICAgICAgcmVtb3ZlSXRlbSh0aGlzLmRyYWdnYWJsZXMsIGRyYWdnYWJsZSlcbiAgICB9KVxuXG4gICAgbGV0IGogPSAwXG4gICAgc29ydGVkRHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGlmICh0aGlzLmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpICE9PSAtMSkge1xuICAgICAgICBpZiAoZHJhZ2dhYmxlLmZpeFBvc2l0aW9uICE9PSBpbml0UG9zaXRpb25zW2pdKSB7XG4gICAgICAgICAgZHJhZ2dhYmxlLm1vdmUoaW5pdFBvc2l0aW9uc1tqXSwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlLCB0cnVlKVxuICAgICAgICB9XG4gICAgICAgIGRyYWdnYWJsZS5pbml0UG9zaXRpb24gPSBpbml0UG9zaXRpb25zW2pdXG4gICAgICAgIGorK1xuICAgICAgICBsaXN0LnB1c2goZHJhZ2dhYmxlKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gbGlzdFxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5yZW1vdmUodGhpcy5kcmFnZ2FibGVzLnNsaWNlKCkpXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5kZXN0cm95KCkpXG4gIH1cblxuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRGaXhQb3NpdGlvbigpXG4gIH1cblxuICBzZXQgcG9zaXRpb25zKHBvc2l0aW9ucykge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAnd3JvbmcgYXJyYXkgbGVuZ3RoJ1xuICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSB0aGlzLmRyYWdnYWJsZXMubGVuZ3RoKSB7XG4gICAgICBwb3NpdGlvbnMuZm9yRWFjaCgocG9pbnQsIGkpID0+IHtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVzW2ldLm1vdmUocG9pbnQsIDAsIHRydWUsIHRydWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBtZXNzYWdlXG4gICAgfVxuICB9XG5cbiAgZ2V0IGVuYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlXG4gIH1cblxuICBzZXQgZW5hYmxlKGVuYWJsZSkge1xuICAgIHRoaXMuX2VuYWJsZSA9IGVuYWJsZVxuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5lbmFibGUgPSBlbmFibGVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGxpc3RGYWN0b3J5KHBhcmVudEVsZW1lbnQsIGVsZW1lbnRzLCBvcHRpb25zPXt9KSB7XG4gIGNvbnN0IGRyYWdnYWJsZU9wdGlvbnMgPSBvcHRpb25zLmRyYWdnYWJsZSB8fCB7fVxuICBjb25zdCBsaXN0T3B0aW9ucyA9IG9wdGlvbnMubGlzdCB8fCB7fVxuICBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCA9IGRyYWdnYWJsZU9wdGlvbnMucGFyZW50IHx8IHBhcmVudEVsZW1lbnRcbiAgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50cylcblxuICBjb25zdCBkcmFnZ2FibGVzID0gZWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEcmFnZ2FibGUoZWxlbWVudCwgZHJhZ2dhYmxlT3B0aW9ucylcbiAgfSlcblxuICByZXR1cm4gbmV3IExpc3QoZHJhZ2dhYmxlcywgbGlzdE9wdGlvbnMpXG59XG5cbmV4cG9ydCB7IExpc3QsIGxpc3RGYWN0b3J5IH1cbiIsImltcG9ydCB7IExpc3QgfSBmcm9tICcuL2xpc3QnXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnknXG5pbXBvcnQgeyBEcmFnZ2FibGUgfSBmcm9tICcuL2RyYWdnYWJsZSdcblxuY2xhc3MgU29ydGFibGUgZXh0ZW5kcyBMaXN0IHtcbiAgY29uc3RydWN0b3IoZHJhZ2dhYmxlcywgb3B0aW9ucz17fSkge1xuICAgIG9wdGlvbnMuZ2V0RGlzdGFuY2UgPSBvcHRpb25zLmdldERpc3RhbmNlIHx8IEdlb21ldHJ5LmdldFlEaWZmZXJlbmNlXG4gICAgc3VwZXIoZHJhZ2dhYmxlcywgb3B0aW9ucylcbiAgfVxuXG4gIGluaXREcmFnZ2FibGUoZHJhZ2dhYmxlKSB7XG4gICAgZHJhZ2dhYmxlLmVuYWJsZSA9IHRoaXMuX2VuYWJsZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTb3J0YWJsZSkge1xuICAgICAgZHJhZ2dhYmxlLm9uTW92ZS5hZGQoKCkgPT4ge1xuICAgICAgICBpZiAoZHJhZ2dhYmxlLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICB0aGlzLmV4Y2hhbmdlRHJhZ2dhYmxlSWZQb3NzaWJsZShkcmFnZ2FibGUpXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgZHJhZ2dhYmxlLm9uRW5kLmFkZCgoKSA9PiB7XG4gICAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5maXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFbmQpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGV4Y2hhbmdlRHJhZ2dhYmxlSWZQb3NzaWJsZShkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBmaXhQb3NpdGlvbiA9IGRyYWdnYWJsZS5maXhQb3NpdGlvblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBjb25zdCBuZXh0RHJhZ2dhYmxlID0gdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdXG4gICAgY29uc3QgcHJldkRyYWdnYWJsZSA9IHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXVxuXG4gICAgaWYgKGRyYWdnYWJsZS5kb3duRGlyZWN0aW9uICYmIG5leHREcmFnZ2FibGUpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5vcHRpb25zLmdldERpc3RhbmNlKGRyYWdnYWJsZS5wb3NpdGlvbiwgbmV4dERyYWdnYWJsZS5wb3NpdGlvbilcbiAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMub3B0aW9ucy5yYWRpdXMpIHtcbiAgICAgICAgZHJhZ2dhYmxlLmZpeFBvc2l0aW9uID0gbmV4dERyYWdnYWJsZS5maXhQb3NpdGlvblxuICAgICAgICB0aGlzLm1vdmVPclNhdmUobmV4dERyYWdnYWJsZSwgZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSk7XG4gICAgICAgIFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdXSA9IFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4ICsgMV0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdXVxuICAgICAgICB0aGlzLmV4Y2hhbmdlRHJhZ2dhYmxlSWZQb3NzaWJsZShkcmFnZ2FibGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnYWJsZS51cERpcmVjdGlvbiAmJiBwcmV2RHJhZ2dhYmxlKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZShkcmFnZ2FibGUucG9zaXRpb24sIHByZXZEcmFnZ2FibGUucG9zaXRpb24pXG4gICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnMucmFkaXVzKSB7XG4gICAgICAgIGRyYWdnYWJsZS5maXhQb3NpdGlvbiA9IHByZXZEcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKHByZXZEcmFnZ2FibGUsIGZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpO1xuICAgICAgICBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXV0gPSBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCAtIDFdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XV1cbiAgICAgICAgdGhpcy5leGNoYW5nZURyYWdnYWJsZUlmUG9zc2libGUoZHJhZ2dhYmxlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0YWJsZUZhY3RvcnkocGFyZW50RWxlbWVudCwgZWxlbWVudHMsIG9wdGlvbnM9e30pIHtcbiAgY29uc3QgZHJhZ2dhYmxlT3B0aW9ucyA9IG9wdGlvbnMuZHJhZ2dhYmxlIHx8IHt9XG4gIGNvbnN0IGxpc3RPcHRpb25zID0gb3B0aW9ucy5saXN0IHx8IHt9XG4gIGRyYWdnYWJsZU9wdGlvbnMucGFyZW50ID0gZHJhZ2dhYmxlT3B0aW9ucy5wYXJlbnQgfHwgcGFyZW50RWxlbWVudFxuICBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsZW1lbnRzKVxuXG4gIGNvbnN0IGRyYWdnYWJsZXMgPSBlbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IERyYWdnYWJsZShlbGVtZW50LCBkcmFnZ2FibGVPcHRpb25zKVxuICB9KVxuXG4gIHJldHVybiBuZXcgU29ydGFibGUoZHJhZ2dhYmxlcywgbGlzdE9wdGlvbnMpXG59XG5cbmV4cG9ydCB7IFNvcnRhYmxlLCBzb3J0YWJsZUZhY3RvcnkgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Dragee",[],e):"object"==typeof exports?exports.Dragee=e():t.Dragee=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u}));var s=function(){function t(e,n){i(this,t),this.x=e,this.y=n}return r(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"negative",value:function(){return new t(-this.x,-this.y)}},{key:"compare",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}]),t}(),a=function(){function t(e,n){i(this,t),this.position=e,this.size=n}return r(t,[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new s(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new s(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var n=new s(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new t(n,new s(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n))}},{key:"and",value:function(e){var n=new s(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),i=new s(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n);return i.x<=0||i.y<=0?null:new t(n,i)}},{key:"includePoint",value:function(t){return!(this.position.x>t.x||this.position.x+this.size.x<t.x||this.position.y>t.y||this.position.y+this.size.y<t.y)}},{key:"includeRectangle",value:function(t){return this.includePoint(t.position)&&this.includePoint(t.getP3())}},{key:"moveToBound",value:function(t,e){var n,i;if(e)n=e;else{if(!(i=this.and(t)))return t;n=i.size.x>i.size.y?"y":"x"}var o=this.getCenter(),r=t.getCenter(),s=(o[n]>r[n]?-1:1)>0?this.position[n]+this.size[n]-t.position[n]:this.position[n]-(t.position[n]+t.size[n]);return t.position[n]=t.position[n]+s,t}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(t){(t=t||document.querySelector("ind")).style.left=this.position.x+"px",t.style.top=this.position.y+"px",t.style.width=this.size.x+"px",t.style.height=this.size.y+"px"}},{key:"growth",value:function(t){this.size=this.size.add(t),this.position=this.position.add(t.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}]),t}(),u={getDistance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},distance:function(t,e){return u.getDistance(t,e)},getXDifference:function(t,e){return Math.abs(t.x-e.x)},getYDifference:function(t,e){return Math.abs(t.y-e.y)},transformedSpaceDistanceFactory:function(t){return function(e,n){return Math.sqrt(Math.pow(t.x*Math.abs(e.x-n.x),2)+Math.pow(t.y*Math.abs(e.y-n.y),2))}},indexOfNearestPoint:function(t,e,n,i){var o,r,s,a=0;if(i=i||u.getDistance,0===t.length)return-1;for(o=i(t[0],e),r=0;r<t.length;r++)(s=i(t[r],e))<o&&(o=s,a=r);return n>=0&&o>n?-1:a},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},boundPoint:function(t,e,n){var i=Math.max(t.x,Math.min(e.x,n.x)),o=Math.max(t.y,Math.min(e.y,n.y));return new s(i,o)},directCrossing:function(t,e,n,i){var o,r,a,u,h,c;return n.x===i.x&&(o=n,n=t,t=o,o=i,i=e,e=o),t.x===e.x?(a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),c=t.x,new s(c,c*a+h)):(r=(e.y-t.y)/(e.x-t.x),u=(e.x*t.y-t.x*e.y)/(e.x-t.x),a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),new s(c=(u-h)/(a-r),c*r+u))},boundToSegment:function(t,e,n){var i,o;return(i=u.bound(Math.min(t.x,e.x),Math.max(t.x,e.x),n.x))!==n.x&&(o=i===t.x?t.y:e.y,n=new s(i,o)),(o=u.bound(Math.min(t.y,e.y),Math.max(t.y,e.y),n.y))!==n.y&&(i=o===t.y?t.x:e.x,n=new s(i,o)),n},boundToLine:function(t,e,n){var i=new s(n.x-t.x,n.y-t.y),o=new s(e.x-t.x,e.y-t.y),r=o.x*o.x+o.y*o.y,a=(i.x*o.x+i.y*o.y)/r;return new s(t.x+o.x*a,t.y+o.y*a)},getPointInLine:function(t,e,n){var i=e.x-t.x,o=e.y-t.y;return new s(t.x+n*i,t.y+n*o)},getPointInLineByLenght:function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=n/u.distance(t,e);return new s(t.x+r*i,t.y+r*o)},createRectangleFromElement:function(t,e,n,i){var o=this.getSizeOfElement(t,n);return new a(this.getOffset(t,e||t.parentNode,i),o)},getSumValueOfStyleRule:function(t,e){return e.reduce((function(e,n){return e+parseInt(window.getComputedStyle(t)[n]||0)}),0)},getSizeOfElement:function(t,e){var n=parseInt(window.getComputedStyle(t).width),i=parseInt(window.getComputedStyle(t).height);return e||(n+=this.getSumValueOfStyleRule(t,["padding-left","padding-right","border-left-width","border-right-width"]),i+=this.getSumValueOfStyleRule(t,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new s(n,i)},getOffset:function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return new s(n.left-i.left,n.top-i.top)},getPointFromRadialSystem:function(t,e,n){return(n=n||new s(0,0)).add(new s(e*Math.cos(t),e*Math.sin(t)))},addPointToBoundPoints:function(t,e,n){for(var i=t.filter((function(t){return t.y>e.y||(n?t.x<e.x:t.x>e.x)})),o=0;o<i.length;o++)if(e.y<i[o].y)return i.splice(o,0,e),i;return i.push(e),i},getAngle:function(t,e){var n=e.sub(t);return this.normalizeAngle(Math.atan2(n.y,n.x))},toRadian:function(t){return t%360*Math.PI/180},toDegree:function(t){return 180*t/Math.PI%360},boundAngle:function(t,e,n){return t<e&&n>t&&n<e?n:e<t&&(n<e||n>t)?n:this.getAngleDiff(t,n)<this.getAngleDiff(e,n)?t:e},getNearestAngle:function(t,e){var n,i,o,r=2*Math.PI;for(n=0;n<t.length;n++)r<(i=u.getAngleDiff(t[n],e))&&(r=i,o=t[n]);return o},getAngleDiff:function(t,e){var n=Math.min(t,e),i=Math.max(t,e);return Math.min(i-n,n+2*Math.PI-i)},normalizeAngle:function(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}}},function(t,e,n){"use strict";function i(t,e){(function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)","g").test(t.className)})(t,e)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function o(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}n.r(e);var r=n(6),s=n(2),a=n(8),u=n.n(a),h=n(7),c=n(0),f=n(4);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"Draggable",(function(){return E})),n.d(e,"events",(function(){return y}));var l={Event:s.a},d="ontouchstart"in window,p={start:"mousedown",move:"mousemove",end:"mouseup"},v={start:"touchstart",move:"touchmove",end:"touchend"},y=d?v:p,b=[],m=u()("transform"),x=u()("transition");function w(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return!1}var E=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i.parent||Object(r.a)(e);this.targets=[],this.options=Object.assign({parent:o,bound:Object(h.b)(o,o),startFilter:!1,isContentBoxSize:!1,position:!1},i),"string"==typeof i.handler?this.handler=e.querySelector(i.handler)||e:this.handler=i.handler||e,this.onEnd=new l.Event(this,{isReverse:!0,isStopOnTrue:!0}),this.onMove=new l.Event(this),this.onStart=new l.Event(this),this.onEnd.add((function(){return n.move(n.position,0,!0,!0)})),i.onEnd&&this.onEnd.add(i.onEnd),i.onMove&&this.onMove.add(i.onMove),i.onStart&&this.onStart.add(i.onStart),this.element=e,this.bound=this.options.bound,function(t){if(b.some((function(e){return t.element===e.element})))throw"for this element Dragee.Draggable is already exist, don't create it twice ";b.push(t)}(this),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this._dragStart=this.dragStart.bind(this),this._dragMove=this.dragMove.bind(this),this._dragEnd=this.dragEnd.bind(this),this.handler.addEventListener(v.start,this._dragStart),this.handler.addEventListener(p.start,this._dragStart),this.bound.refresh&&this.bound.refresh()}},{key:"reinit",value:function(){this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this.bound.refresh&&this.bound.refresh()}},{key:"getSize",value:function(t){return c.a.getSizeOfElement(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new c.b(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setTranslate",value:function(t){this._transformPosition=t;var e=this.element.style[m],n=" translate3d("+t.x+"px,"+t.y+"px, 0px)";window.navigator.userAgent.indexOf("MSIE ")?(n=" translate("+t.x+"px,"+t.y+"px)",/translate\([^)]+\)/.test(e)?e=e.replace(/translate\([^)]+\)/,n):e+=n):/translate3d\([^)]+\)/.test(e)?e=e.replace(/translate3d\([^)]+\)/,n):e+=n,this.element.style[m]=e}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.clone(),n&&(this.fixPosition=t),this.determineDirection(t),this.position=t,x&&(this.element.style[x]=e+"ms"),this._setTranslate(t.sub(this.offset)),i||this.onMove.fire()}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(t){t=t.clone(),this.position=t,x&&(this.element.style[x]="0ms"),this._setTranslate(t.sub(this.offset))}},{key:"setZeroTransition",value:function(){x&&(this.element.style[x]="0ms")}},{key:"determineDirection",value:function(t){this.leftDirection=this.position.x<t.x,this.rightDirection=this.position.x>t.x,this.upDirection=this.position.y>t.y,this.downDirection=this.position.y<t.y}},{key:"dragStart",value:function(t){if(this.currentEvent=t,this._enable&&(!this.options.startFilter||this.options.startFilter(t))){var e=d&&t instanceof window.TouchEvent;this._startTouchPoint=new c.b(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY),this._startPosition=this.getPosition(),e&&(this._touchId=t.changedTouches[0].identifier),t.stopPropagation(),t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement?t.target.focus():t.preventDefault(),document.addEventListener(v.move,this._dragMove),document.addEventListener(p.move,this._dragMove),document.addEventListener(v.end,this._dragEnd),document.addEventListener(p.end,this._dragEnd),this.isDragging=!0,this.onStart.fire(t),i(this.element,"active"),this.onMove.fire(t)}}},{key:"dragMove",value:function(t){var e;this.currentEvent=t;var n=d&&t instanceof window.TouchEvent;if(!n||(e=w(t,this._touchId))){t.stopPropagation(),t.preventDefault();var i=new c.b(n?e.pageX:t.clientX,n?e.pageY:t.clientY),o=this._startPosition.add(i.sub(this._startTouchPoint));o=this.bound(o,this.getSize()),this.touchPoint=i,this.move(o,0)}}},{key:"dragEnd",value:function(t){d&&t instanceof window.TouchEvent&&!w(t,this._touchId)||(t.stopPropagation(),t.preventDefault(),this.onEnd.fire(t),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.isDragging=!1,o(this.element,"active"))}},{key:"getRectangle",value:function(){return new c.c(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bound.refresh&&this.bound.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(v.start,this._dragStart),this.handler.removeEventListener(p.start,this._dragStart),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.onEnd.reset(),this.onMove.reset()}},{key:"enable",get:function(){return this._enable},set:function(t){return t?o(this.element,"disable"):i(this.element,"disable"),this._enable=t}}])&&g(e.prototype,n),s&&g(e,s),t}();E.onCreate=new l.Event(E,{isReverse:!0,isStopOnTrue:!0}),E.onCreate.add((function(t){f.b.addDraggable(t)}))},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.funcs=[],this.context=t,this.isReverse=e.isReverse||!1,this.isStopOnTrue=e.isStopOnTrue||!1}i.prototype.fire=function(){for(var t,e=[].slice.call(arguments),n=this.isReverse?this.funcs.slice().reverse():this.funcs,i=0;i<n.length;i++)if(t=n[i].apply(this.context,e),this.isStopOnTrue&&t)return!0;return!this.isStopOnTrue},i.prototype.add=function(t){this.funcs.push(t)},i.prototype.unshift=function(t){this.funcs.unshift(t)},i.prototype.remove=function(t){var e=this.funcs.indexOf(t);-1!==e&&this.funcs.splice(e,1)},i.prototype.reset=function(t){this.funcs=[]},e.a=i},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--);return t}},function(t,e,n){"use strict";n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return g}));var i=n(3),o=n(2),r=n(1),s=n(5);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u={Event:o.a},h=[],c=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h.forEach((function(t){e&&e.forEach((function(e){Object(i.a)(t.draggables,e)})),n&&n.forEach((function(e){Object(i.a)(t.targets,e)}))})),this.draggables=e||[],this.targets=n||[],h.push(this),this.options={timeEnd:o.timeEnd||400},this.onChange=new u.Event(this),o.onChange&&this.onChange.add(o.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;this.draggables.forEach((function(e){e.onEnd.add((function(){return t.onEnd(e)}))}))}},{key:"addDraggable",value:function(t){var e=this;this.draggables.push(t),t.onEnd.unshift((function(){return e.onEnd(t)}))}},{key:"addTarget",value:function(t){this.targets.push(t)}},{key:"onEnd",value:function(t){var e=this.targets.filter((function(e){return-1!==e.draggables.indexOf(t)})).filter((function(e){return e.catchDraggable(t)})).sort((function(t,e){return t.getRectangle().getSquare()-e.getRectangle().getSquare()}));return e.length?e[0].onEnd(t):t.targets.length&&t.move(t.initPosition,this.options.timeEnd,!0,!0),this.onChange.fire(),!0}},{key:"reset",value:function(){this.targets.forEach((function(t){return t.reset()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()})),this.targets.forEach((function(t){return t.refresh()}))}},{key:"positions",get:function(){var t=this;return this.targets.map((function(e){return e.innerDraggables.map((function(e){return t.draggables.indexOf(e)}))}))},set:function(t){var e=this;if(t.length!==this.targets.length)throw"wrong array length";this.targets.forEach((function(t){return t.reset()})),t.forEach((function(t,n){t.forEach((function(t){e.targets[n].add(e.draggables[t])}))}))}}])&&a(e.prototype,n),o&&a(e,o),t}(),f=new c;function g(t){var e=new c,n=function(t){return e.addDraggable(t),!0},i=function(t){return e.addTarget(t),!0};return r.Draggable.onCreate.add(n),s.a.onCreate.add(i),t.call(),r.Draggable.onCreate.remove(n),s.a.onCreate.remove(i),e}function l(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.draggable||{},a=i.target||{},u=i.scope||{};o.parent=o.parent||t,a.parent=a.parent||t,e=Array.prototype.slice.call(e),n=Array.prototype.slice.call(n);var h=e.map((function(t){return new r.Draggable(t,o)})),f=n.map((function(t){return new s.a(t,h,a)}));return new c(h,f,u)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(9),o=n(3),r=n(6),s=n(2),a=n(0),u=n(4),h=n(10);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={Event:s.a},g=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,s=i.parent||Object(r.a)(e);this.options=Object.assign({timeEnd:200,timeExcange:400,parent:s},i),this.positioningStrategy=i.strategy||new h.a(this.getRectangle.bind(this),{radius:80,getDistance:a.a.transformedSpaceDistanceFactory({x:1,y:4}),removable:!0}),this.element=e,n.forEach((function(t){return t.targets.push(o)})),this.draggables=n,this.onAdd=new f.Event(this),this.beforeAdd=new f.Event(this),this.onRemove=new f.Event(this),i.onRemove&&this.onRemove.add(i.onRemove),i.onAdd&&this.onAdd.add(i.onAdd),i.beforeAdd&&this.beforeAdd.add(i.beforeAdd),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"positioning",value:function(t,e){return this.positioningStrategy.positioning(t,e)}},{key:"sorting",value:function(t,e,n){return this.positioningStrategy.sorting(t,e,n)}},{key:"init",value:function(){var t,e,n=this;this.innerDraggables=this.draggables.filter((function(t){for(var e=t.element.parentNode;e;){if(e===n.element)return!0;e=e.parentNode}return!1})),this.innerDraggables.length&&(e=Object(i.a)(this.innerDraggables.length),t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e),this.setPosition(t,e),this.innerDraggables.forEach((function(t){return n.onAdd.fire(t)})))}},{key:"getRectangle",value:function(){return a.a.createRectangleFromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(t){if(this.options.catchDraggable)return this.options.catchDraggable(this,t);var e=this.getRectangle();return t.getRectangle().getSquare()<e.getSquare()&&e.includePoint(t.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;u.e.forEach((function(e){return Object(o.a)(e.targets,t)}))}},{key:"refresh",value:function(){var t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(t,[],0)}},{key:"onEnd",value:function(t){var e=[];if(!this.getRectangle().includePoint(t.getPosition())){if(!this.getRectangle().includePoint(t.getCenter()))return!1;t.position=t.getCenter().clone()}this.beforeAdd.fire(t),this.innerDraggables=this.sorting(this.innerDraggables,[t],e);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e);return this.setPosition(n,e),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t),!0}},{key:"setPosition",value:function(t,e,n){var i=this;this.innerDraggables.slice(0).forEach((function(r,s){var a=t[s],u=n||0===n?n:-1!==e.indexOf(s)?i.options.timeEnd:i.options.timeExcange;a.removable?(r.move(r.initPosition,u,!0,!0),Object(o.a)(i.innerDraggables,r),i.onRemove.fire(r)):r.move(a.position,u,!0,!0)}))}},{key:"add",value:function(t,e){var n=this.innerDraggables.length;this.beforeAdd.fire(t),this.pushInnerDraggable(t);var i=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),n,t);this.setPosition(i,[n],e||0),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t)}},{key:"pushInnerDraggable",value:function(t){-1===this.innerDraggables.indexOf(t)&&this.innerDraggables.push(t)}},{key:"addRemoveOnMove",value:function(t){var e=this;t.onMove.add(this.removeHandler=function(){e.remove(t)}),this.onAdd.fire(t)}},{key:"remove",value:function(t){t.onMove.remove(this.removeHandler);var e=this.innerDraggables.indexOf(t);if(-1!==e){this.innerDraggables.splice(e,1);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(n,[]),this.onRemove.fire(t)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach((function(e){e.move(e.initPosition,0,!0,!0),t.onRemove.fire(e)})),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}])&&c(e.prototype,n),s&&c(e,s),t}();g.onCreate=new f.Event(g,{isReverse:!0,isStopOnTrue:!0}),g.onCreate.add((function(t){u.b.addTarget(t)}))},function(t,e,n){"use strict";function i(t){for(var e=t.parentNode;e.parentNode&&"static"===window.getComputedStyle(e).position;)e=e.parentNode;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n(0);function o(t,e){var n,o=function(){return n.apply(this,arguments)};return o.refresh=function(){var o;o=i.a.createRectangleFromElement(t,e),n=function(t,e){var n=t.clone(),i=o.getP3();return o.position.x>n.x&&(n.x=o.position.x),o.position.y>n.y&&(n.y=o.position.y),i.x<n.x+e.x&&(n.x=i.x-e.x),i.y<n.y+e.y&&(n.y=i.y-e.y),n}},o.refresh(),o}function r(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x)+Math.PI/2,o=Math.cos(n),r=Math.sin(n);return function(n,s){var a=new i.b(n.x+10*o,n.y+10*r),u=i.a.getPointInLineByLenght(e,t,s.x),h=i.a.directCrossing(t,e,n,a);return h=i.a.boundToLine(t,u,h)}}function s(t,e,n,o){return function(r,s){var a="function"==typeof n?n():n,u="function"==typeof n?o():o,h=i.a.getAngle(t,r);return h=i.a.normalizeAngle(h),h=i.a.boundAngle(a,u,h),i.a.getPointFromRadialSystem(h,e,t)}}},function(t,e,n){var i;
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */!function(o){"use strict";var r="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;function a(t){if(t){if("string"==typeof s[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=r.length;n<i;n++)if(e=r[n]+t,"string"==typeof s[e])return e}}void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){"use strict";function i(t,e,n){var i=[];if(void 0===e&&(e=t,t=0),void 0===n&&(n=1),n>0&&t>=e||n<0&&t<=e)return[];for(var o=t;n>0?o<e:o>e;o+=n)i.push(o);return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}var g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.rectangle=e,this.options=n}return f(t,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),t}(),l=function(t){function e(){return h(this,e),r(this,s(e).apply(this,arguments))}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,i=t.reduce((function(t,n,i){return-1===e.indexOf(i)&&t.push(i),t}),[]);return e.forEach((function(e){var o=t[e];i.forEach((function(e){var n=t[e];o=n.moveToBound(o)})),i.some((function(e){return!!t[e].and(o)}))||o.and(n.boundRect).getSquare()!==o.getSquare()?o.removable=!0:i.push(e)})),t}},{key:"sorting",value:function(t,e,n){var i=t.concat(e);return e.forEach((function(t){n.push(i.indexOf(t))})),i}}]),e}(g),d=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).options=Object.assign({removable:!0},o),n.radius=o.radius||80,n.paddingTopLeft=o.paddingTopLeft||new i.b(0,0),n.paddingBottomRight=o.paddingBottomRight||new i.b(0,0),n.yGapBetweenDraggables=o.yGapBetweenDraggables||0,n.getDistance=o.getDistance||i.a.getDistance,n.getPosition=o.getPosition||function(t){return t.position},n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=o.getP2(),s=[o.position];return t.forEach((function(t){for(var e,a=!1,u=0;u<s.length&&!(a=(e=new i.b(s[u].x,u>0?s[u-1].y+n.yGapBetweenDraggables:o.position.y).add(n.paddingTopLeft)).x+t.size.x<r.x);u++);a||(e=new i.b(o.position.x,s[s.length-1].y+n.yGapBetweenDraggables).add(n.paddingTopLeft)),t.position=e,n.options.removable&&t.getP3().y>o.getP3().y&&(t.removable=!0),s=i.a.addPointToBoundPoints(s,t.getP3().add(n.paddingBottomRight))})),t}},{key:"sorting",value:function(t,e,n){var o=this,r=t.concat(),s=t.map((function(t){return t.getPosition()}));return e.forEach((function(e){var n=i.a.indexOfNearestPoint(s,o.getPosition(e),o.radius,o.getDistance);n=-1===n?r.length:r.indexOf(t[n]),r.splice(n,0,e)})),e.forEach((function(t){n.push(r.indexOf(t))})),r}}]),e}(g),p=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).paddingTopRight=o.paddingTopRight||new i.b(5,5),n.paddingBottomLeft=o.paddingBottomLeft||new i.b(0,0),n.paddingTopNegRight=new i.b(-n.paddingTopRight.x,n.paddingTopRight.y),n.paddingBottomNegLeft=new i.b(-n.paddingBottomLeft.x,n.paddingBottomLeft.y),n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=[o.getRightTopPoint()];return t.forEach((function(t,e){for(var s,a=!1,u=0;u<r.length&&!(a=(s=new i.b(r[u].x-t.size.x,u>0?r[u-1].y:o.position.y).add(n.paddingTopNegRight)).x>t.position.x);u++);a||(s=new i.b(o.getP2().x,r[r.length-1].y)),t.position=s,n.options.removable&&t.getLeftBottomPoint().y>o.getP4().y&&(t.removable=!0),r=i.a.addPointToBoundPoints(r,t.getP4().add(n.paddingBottomNegLeft),!0)})),t}}]),e}(d)},function(t,e,n){"use strict";n.r(e);var i=function(t,e,n){var i,o=t.length;if(!(e>=o||0===n)){var r=o-(n=e+n>o?o-e:n);for(i=e;i<r;++i)t[i]=t[i+n];t.length=r}},o=n(2),r=n(0),s=n(1);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"List",(function(){return h})),n.d(e,"listFactory",(function(){return c}));var u={Event:o.a},h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({timeEnd:200,timeExcange:400,radius:30,getDistance:r.a.getDistance,isDisplacement:!1,isSortable:!0},n),this.draggables=e,this.onChange=new u.Event(this),n.onChange&&this.onChange.add(n.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.draggables.forEach(this.initDraggable,this)}},{key:"initDraggable",value:function(t){var e,n=this,i=this;t.enable=this._enable,this.options.isDisplacement?(e=function(){if(t.isDragging)return i.onStart(t),t.onMove.remove(e),!0},t.onEnd.add((function(){return n.onEndDisplaycement(t),t.onMove.add(e),!0})),t.onMove.add(e)):t.onEnd.add((function(){return n.onEnd(t),!0}))}},{key:"moveOrSave",value:function(t,e,n){t.isDragging?t.fixPosition=e:t.move(e,n,!0)}},{key:"onEnd",value:function(t){var e=this.getCurrentFixPosition(),n=this.draggables.indexOf(t),i=r.a.indexOfNearestPoint(e,t.position,this.options.radius,this.options.getDistance);return-1===i||i===n?t.move(t.fixPosition,this.options.timeEnd,!0):(this.moveOrSave(this.draggables[i],e[n],this.options.timeExcange),this.draggables[n].move(e[i],this.options.timeEnd,!0),this.onChange.fire()),!0}},{key:"sortIfPossible",value:function(t){var e=t.fixPosition,n=this.draggables.indexOf(t),i=this.draggables[n+1],o=this.draggables[n-1];if(t.downDirection&&i&&this.options.getDistance(t.position,i.position)<this.options.radius){t.fixPosition=i.fixPosition,this.moveOrSave(i,e,this.options.timeExcange);var r=[this.draggables[n+1],this.draggables[n]];this.draggables[n]=r[0],this.draggables[n+1]=r[1],this.sortIfPossible(t)}if(t.upDirection&&o&&this.options.getDistance(t.position,o.position)<this.options.radius){t.fixPosition=o.fixPosition,this.moveOrSave(o,e,this.options.timeExcange);var s=[this.draggables[n-1],this.draggables[n]];this.draggables[n]=s[0],this.draggables[n-1]=s[1],this.sortIfPossible(t)}}},{key:"onEndDisplaycement",value:function(t){var e=this.getSortedDraggables(),n=e.map((function(t){return t.fixPosition})),i=e.indexOf(t),o=r.a.indexOfNearestPoint(n,t.position,this.options.radius,this.options.getDistance);if(-1!==o){if(o<i)for(var s=o;s<i;s++)this.moveOrSave(e[s],n[s+1],this.options.timeExcange);else for(var a=i;a<o;a++)this.moveOrSave(e[a+1],n[a],this.options.timeExcange);t.move(n[o],this.options.timeEnd,!0)}else t.move(t.fixPosition,this.options.timeEnd,!0)}},{key:"onStart",value:function(t){var e,n=this.getSortedDraggables(),i=n.map((function(t){return t.fixPosition})),o=n.indexOf(t);for(e=o+1;e<n.length;e++)this.moveOrSave(n[e],i[e-1],this.options.timeExcange);n[o].fixPosition=i[e-1]}},{key:"getCurrentFixPosition",value:function(){return this.draggables.map((function(t){return t.fixPosition.clone()}))}},{key:"getSortedDraggables",value:function(){var t=this;return this.draggables.map((function(t){return t.initPosition})).map((function(e){return t.draggables.filter((function(t){return t.fixPosition.compare(e)}))[0]}))}},{key:"reset",value:function(){this.draggables.forEach((function(t){t.move(t.initPosition,0,!0,!1)}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){t.refresh()}))}},{key:"add",value:function(t){t instanceof Array||(t=[t]),t.forEach(this.initDraggable,this),this.draggables=this.draggables.concat(t)}},{key:"remove",value:function(t){var e=this,n=this.draggables.map((function(t){return t.initPosition})),o=[],r=this.getSortedDraggables();t instanceof Array||(t=[t]),t.forEach((function(t){t.onEnd.reset(),t.onMove.reset(),i(e.draggables,t)}));var s=0;r.forEach((function(t){-1!==e.draggables.indexOf(t)&&(t.fixPosition!==n[s]&&t.move(n[s],e.options.timeExcange,!0),t.initPosition=n[s],s++,o.push(t))})),this.draggables=o}},{key:"clear",value:function(){this.remove(this.draggables.slice())}},{key:"destroy",value:function(){this.draggables.forEach((function(t){return t.destroy()}))}},{key:"positions",get:function(){return this.getCurrentFixPosition()},set:function(t){var e=this;if(t.length!==this.draggables.length)throw"wrong array length";t.forEach((function(t,n){e.draggables[n].move(t,0,!0,!0)}),this)}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t,this.draggables.forEach((function(e){e.enable=t}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.draggable||{},o=n.list||{};i.parent=i.parent||t;var r=(e=Array.prototype.slice.call(e)).map((function(t){return new s.Draggable(t,i)}));return new h(r,o)}},,function(t,e,n){"use strict";n.r(e),n.d(e,"Sortable",(function(){return f})),n.d(e,"sortableFactory",(function(){return g}));var i=n(11),o=n(0),r=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.getDistance=n.getDistance||o.a.getYDifference,u(this,h(e).call(this,t,n))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(i=[{key:"initDraggable",value:function(t){var e=this;t.enable=this._enable,this.options.isSortable&&(t.onMove.add((function(){if(t.isDragging)return e.exchangeDraggableIfPossible(t),!0})),t.onEnd.add((function(){t.move(t.fixPosition,e.options.timeEnd)})))}},{key:"exchangeDraggableIfPossible",value:function(t){var e=t.fixPosition,n=this.draggables.indexOf(t),i=this.draggables[n+1],o=this.draggables[n-1];if(t.downDirection&&i&&this.options.getDistance(t.position,i.position)<this.options.radius){t.fixPosition=i.fixPosition,this.moveOrSave(i,e,this.options.timeExcange);var r=[this.draggables[n+1],this.draggables[n]];this.draggables[n]=r[0],this.draggables[n+1]=r[1],this.exchangeDraggableIfPossible(t)}if(t.upDirection&&o&&this.options.getDistance(t.position,o.position)<this.options.radius){t.fixPosition=o.fixPosition,this.moveOrSave(o,e,this.options.timeExcange);var s=[this.draggables[n-1],this.draggables[n]];this.draggables[n]=s[0],this.draggables[n-1]=s[1],this.exchangeDraggableIfPossible(t)}}}])&&a(n.prototype,i),r&&a(n,r),e}(i.List);function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.draggable||{},o=n.list||{};i.parent=i.parent||t;var s=(e=Array.prototype.slice.call(e)).map((function(t){return new r.Draggable(t,i)}));return new f(s,o)}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZWUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0RyYWdlZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtLmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy9zY29wZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvdGFyZ2V0LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2JvdW5kLmpzIiwid2VicGFjazovL0RyYWdlZS8uL25vZGVfbW9kdWxlcy9kZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9yYW5nZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvcG9zaXRpb25pbmcuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vbm9kZV9tb2R1bGVzL3JlbW92ZS1hcnJheS1pdGVtcy9kaXN0L3JlbW92ZS1hcnJheS1pdGVtcy5lc20uanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2xpc3QuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3NvcnRhYmxlLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQb2ludCIsIngiLCJ5IiwidGhpcyIsImsiLCJSZWN0YW5nbGUiLCJwb3NpdGlvbiIsInNpemUiLCJhZGQiLCJtdWx0IiwicmVjdCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzdWIiLCJyZWN0YW5nbGUiLCJpbmNsdWRlUG9pbnQiLCJnZXRQMyIsImF4aXMiLCJzZWxBeGlzIiwiY3Jvc3NSZWN0YW5nbGUiLCJhbmQiLCJ0aGlzQ2VudGVyIiwiZ2V0Q2VudGVyIiwicmVjdENlbnRlciIsIm9mZnNldCIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJHZW9tZXRyeSIsImdldERpc3RhbmNlIiwicDEiLCJwMiIsImR4IiwiZHkiLCJzcXJ0IiwiZGlzdGFuY2UiLCJnZXRYRGlmZmVyZW5jZSIsImFicyIsImdldFlEaWZmZXJlbmNlIiwidHJhbnNmb3JtZWRTcGFjZURpc3RhbmNlRmFjdG9yeSIsIm9wdGlvbnMiLCJwb3ciLCJpbmRleE9mTmVhcmVzdFBvaW50IiwiYXJyIiwidmFsIiwicmFkaXVzIiwidGVtcCIsImluZGV4IiwibGVuZ3RoIiwiYm91bmQiLCJib3VuZFBvaW50IiwiZGlyZWN0Q3Jvc3NpbmciLCJMMVAxIiwiTDFQMiIsIkwyUDEiLCJMMlAyIiwiazEiLCJrMiIsImIxIiwiYjIiLCJib3VuZFRvU2VnbWVudCIsIkxQMSIsIkxQMiIsIlAiLCJib3VuZFRvTGluZSIsIkEiLCJCIiwiQVAiLCJBQiIsImFiMiIsImdldFBvaW50SW5MaW5lIiwicGVyY2VudCIsImdldFBvaW50SW5MaW5lQnlMZW5naHQiLCJsZW5naHQiLCJjcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudCIsInBhcmVudCIsImlzQ29udGVudEJveFNpemUiLCJpc0NvbnNpZGVyVHJhbnNsYXRlIiwiZ2V0U2l6ZU9mRWxlbWVudCIsImdldE9mZnNldCIsInBhcmVudE5vZGUiLCJnZXRTdW1WYWx1ZU9mU3R5bGVSdWxlIiwiZWxlbWVudCIsInJ1bGVzIiwicmVkdWNlIiwic3VtIiwicnVsZSIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImVsUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhcmVudFJlY3QiLCJnZXRQb2ludEZyb21SYWRpYWxTeXN0ZW0iLCJhbmdsZSIsImNlbnRlciIsImNvcyIsInNpbiIsImFkZFBvaW50VG9Cb3VuZFBvaW50cyIsImJvdW5kcG9pbnRzIiwicG9pbnQiLCJpc1JpZ2h0IiwicmVzdWx0IiwiZmlsdGVyIiwiYlBvaW50Iiwic3BsaWNlIiwicHVzaCIsImdldEFuZ2xlIiwiZGlmZiIsIm5vcm1hbGl6ZUFuZ2xlIiwiYXRhbjIiLCJ0b1JhZGlhbiIsIlBJIiwidG9EZWdyZWUiLCJib3VuZEFuZ2xlIiwiZ2V0QW5nbGVEaWZmIiwiZ2V0TmVhcmVzdEFuZ2xlIiwiYWxwaGEiLCJiZXRhIiwibWluQW5nbGUiLCJtYXhBbmdsZSIsImFkZENsYXNzIiwiUmVnRXhwIiwidGVzdCIsImNsYXNzTmFtZSIsImhhc0NsYXNzIiwicmVwbGFjZSIsInJlbW92ZUNsYXNzIiwicmUiLCJEcmFnZWUiLCJFdmVudCIsImlzVG91Y2giLCJtb3VzZUV2ZW50cyIsInN0YXJ0IiwibW92ZSIsImVuZCIsInRvdWNoRXZlbnRzIiwiZXZlbnRzIiwiZHJhZ2dhYmxlcyIsInRyYW5zZm9ybVByb3BlcnR5IiwiZ2V0U3R5bGVQcm9wZXJ0eSIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsImdldFRvdWNoQnlJRCIsInRvdWNoSWQiLCJjaGFuZ2VkVG91Y2hlcyIsImlkZW50aWZpZXIiLCJEcmFnZ2FibGUiLCJnZXREZWZhdWx0UGFyZW50IiwidGFyZ2V0cyIsImFzc2lnbiIsImJvdW5kVG9FbGVtZW50Iiwic3RhcnRGaWx0ZXIiLCJoYW5kbGVyIiwib25FbmQiLCJpc1JldmVyc2UiLCJpc1N0b3BPblRydWUiLCJvbk1vdmUiLCJvblN0YXJ0IiwiZHJhZ2dhYmxlIiwic29tZSIsImV4aXN0aW5nIiwicHJldmVudERvdWJsZUluaXQiLCJvbkNyZWF0ZSIsImZpcmUiLCJpbml0IiwiX2VuYWJsZSIsImZpeFBvc2l0aW9uIiwiaW5pdFBvc2l0aW9uIiwiX2RyYWdTdGFydCIsImRyYWdTdGFydCIsIl9kcmFnTW92ZSIsImRyYWdNb3ZlIiwiX2RyYWdFbmQiLCJkcmFnRW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlZnJlc2giLCJfcmVjYWx1bGF0ZSIsIl90cmFuc2Zvcm1Qb3NpdGlvbiIsImdldFNpemUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGVDc3MiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwidGltZSIsImlzRml4IiwiaXNTaWxlbnQiLCJjbG9uZSIsImRldGVybWluZURpcmVjdGlvbiIsIl9zZXRUcmFuc2xhdGUiLCJzZXRQb3NpdGlvbiIsImdldFBvc2l0aW9uIiwibGVmdERpcmVjdGlvbiIsInJpZ2h0RGlyZWN0aW9uIiwidXBEaXJlY3Rpb24iLCJkb3duRGlyZWN0aW9uIiwiZXZlbnQiLCJjdXJyZW50RXZlbnQiLCJpc1RvdWNoRXZlbnQiLCJUb3VjaEV2ZW50IiwiX3N0YXJ0VG91Y2hQb2ludCIsInBhZ2VYIiwiY2xpZW50WCIsInBhZ2VZIiwiY2xpZW50WSIsIl9zdGFydFBvc2l0aW9uIiwiX3RvdWNoSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJ0YXJnZXQiLCJIVE1MSW5wdXRFbGVtZW50IiwiZm9jdXMiLCJwcmV2ZW50RGVmYXVsdCIsImlzRHJhZ2dpbmciLCJ0b3VjaCIsInRvdWNoUG9pbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzZXQiLCJlbmFibGUiLCJkZWZhdWx0U2NvcGUiLCJhZGREcmFnZ2FibGUiLCJjb250ZXh0IiwiZnVuY3MiLCJyZXRWYWx1ZSIsImFyZ3MiLCJzbGljZSIsImFyZ3VtZW50cyIsImZzIiwicmV2ZXJzZSIsImFwcGx5IiwiZiIsInVuc2hpZnQiLCJyZW1vdmUiLCJfZiIsImFycmF5Iiwic2NvcGVzIiwiU2NvcGUiLCJmb3JFYWNoIiwic2NvcGUiLCJyZW1vdmVJdGVtIiwidGltZUVuZCIsIm9uQ2hhbmdlIiwic2hvdFRhcmdldHMiLCJjYXRjaERyYWdnYWJsZSIsInNvcnQiLCJhIiwiYiIsImdldFJlY3RhbmdsZSIsImdldFNxdWFyZSIsIm1hcCIsImlubmVyRHJhZ2dhYmxlcyIsInBvc2l0aW9ucyIsInRhcmdldEluZGV4ZXMiLCJmbiIsImN1cnJlbnRTY29wZSIsImFkZERyYWdnYWJsZVRvU2NvcGUiLCJhZGRUYXJnZXRUb1Njb3BlIiwiYWRkVGFyZ2V0IiwiVGFyZ2V0Iiwic2NvcGVGYWN0b3J5IiwicGFyZW50RWxlbWVudCIsImRyYWdnYWJsZUVsZW1lbnRzIiwidGFyZ2V0RWxlbWVudHMiLCJkcmFnZ2FibGVPcHRpb25zIiwidGFyZ2V0T3B0aW9ucyIsInNjb3BlT3B0aW9ucyIsIkFycmF5IiwidGltZUV4Y2FuZ2UiLCJwb3NpdGlvbmluZ1N0cmF0ZWd5Iiwic3RyYXRlZ3kiLCJGbG9hdExlZnRTdHJhdGVneSIsInJlbW92YWJsZSIsIm9uQWRkIiwiYmVmb3JlQWRkIiwib25SZW1vdmUiLCJpbmRleGVzT2ZOZXciLCJwb3NpdGlvbmluZyIsIm9sZERyYWdnYWJsZXMiLCJuZXdEcmFnZ2FibGVzIiwiaW5kZXhPZk5ld3MiLCJzb3J0aW5nIiwicmVjdGFuZ2xlcyIsInJhbmdlIiwidGFyZ2V0UmVjdGFuZ2xlIiwibmV3RHJhZ2dhYmxlc0luZGV4IiwiYWRkUmVtb3ZlT25Nb3ZlIiwicHVzaElubmVyRHJhZ2dhYmxlIiwicmVtb3ZlSGFuZGxlciIsInJldEZ1bmMiLCJjYWxjUG9pbnQiLCJyZWN0UDIiLCJjb3NCZXRhIiwic2luQmV0YSIsInBvaW50MiIsIm5ld0VuZCIsInBvaW50Q3Jvc3NpbmciLCJib3VuZFRvQXJjIiwic3RhcnRBZ2xlIiwiZW5kQW5nbGUiLCJfc2l6ZSIsImJvdW5kU3RhcnRBbmdsZSIsImJvdW5kRW5kdEFuZ2xlIiwicHJlZml4ZXMiLCJzcGxpdCIsImRvY0VsZW1TdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInByb3BOYW1lIiwicHJlZml4ZWQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImxlbiIsInN0b3AiLCJzdGVwIiwiQmFzaWNTdHJhdGVneSIsIk5vdENyb3NzaW5nU3RyYXRlZ3kiLCJyZWN0YW5nbGVMaXN0IiwiaW5kZXhlc09mTmV3cyIsInN0YXRpY1JlY3RhbmdsZUluZGV4ZXMiLCJpbmRleGVzIiwiX3JlY3QiLCJpbmRleE9mU3RhdGljIiwic3RhdGljUmVjdCIsIm1vdmVUb0JvdW5kIiwiYm91bmRSZWN0Iiwib2RsRHJhZ2dhYmxlc0xpc3QiLCJjb25jYXQiLCJwYWRkaW5nVG9wTGVmdCIsInBhZGRpbmdCb3R0b21SaWdodCIsInlHYXBCZXR3ZWVuRHJhZ2dhYmxlcyIsIl9pbmRleGVzT2ZOZXdzIiwiZ2V0UDIiLCJib3VuZGFyeVBvaW50cyIsImlzVmFsaWQiLCJuZXdMaXN0IiwibGlzdE9sZFBvc2l0aW9uIiwibmV3RHJhZ2dhYmxlIiwiRmxvYXRSaWdodFN0cmF0ZWd5IiwicGFkZGluZ1RvcFJpZ2h0IiwicGFkZGluZ0JvdHRvbUxlZnQiLCJwYWRkaW5nVG9wTmVnUmlnaHQiLCJwYWRkaW5nQm90dG9tTmVnTGVmdCIsImdldFJpZ2h0VG9wUG9pbnQiLCJfaW5kZXgiLCJnZXRMZWZ0Qm90dG9tUG9pbnQiLCJnZXRQNCIsInN0YXJ0SWR4IiwicmVtb3ZlQ291bnQiLCJMaXN0IiwiaXNEaXNwbGFjZW1lbnQiLCJpc1NvcnRhYmxlIiwiaW5pdERyYWdnYWJsZSIsIm1vdmVIYW5kbGVyIiwibGlzdCIsIm9uRW5kRGlzcGxheWNlbWVudCIsImZpeFBvc2l0aW9ucyIsImdldEN1cnJlbnRGaXhQb3NpdGlvbiIsImN1cnJlbnRJbmRleCIsImV4Y2FuZ2VJbmRleCIsIm1vdmVPclNhdmUiLCJuZXh0RHJhZ2dhYmxlIiwicHJldkRyYWdnYWJsZSIsInNvcnRJZlBvc3NpYmxlIiwic29ydGVkRHJhZ2dhYmxlcyIsImdldFNvcnRlZERyYWdnYWJsZXMiLCJ0YXJnZXRJbmRleCIsImNvbXBhcmUiLCJpbml0UG9zaXRpb25zIiwiaiIsImRlc3Ryb3kiLCJsaXN0RmFjdG9yeSIsImVsZW1lbnRzIiwibGlzdE9wdGlvbnMiLCJTb3J0YWJsZSIsImV4Y2hhbmdlRHJhZ2dhYmxlSWZQb3NzaWJsZSIsInNvcnRhYmxlRmFjdG9yeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxTQUFVLEdBQUlILEdBQ0ssaUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELElBRXBCRCxFQUFhLE9BQUlDLElBUm5CLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFD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TixHQUhpQixLQUdGclcsS0FBSzRJLFdBQVd5TixFQUFlLEdBSDdCLEtBSWxDclcsS0FBS3NYLDRCQUE0QnROLEdBSXJDLEdBQUlBLEVBQVVvQyxhQUFlcUssR0FDVnpXLEtBQUsyQyxRQUFRWCxZQUFZZ0ksRUFBVTdKLFNBQVVzVyxFQUFjdFcsVUFDN0RILEtBQUsyQyxRQUFRSyxPQUFRLENBQ2xDZ0gsRUFBVVEsWUFBY2lNLEVBQWNqTSxZQUN0Q3hLLEtBQUt1VyxXQUFXRSxFQUFlak0sRUFBYXhLLEtBQUsyQyxRQUFRaU8sYUFGdkIsTUFHbUMsQ0FBQzVRLEtBQUs0SSxXQUFXeU4sRUFBZSxHQUFJclcsS0FBSzRJLFdBQVd5TixJQUF4SHJXLEtBQUs0SSxXQUFXeU4sR0FIaUIsS0FHRnJXLEtBQUs0SSxXQUFXeU4sRUFBZSxHQUg3QixLQUlsQ3JXLEtBQUtzWCw0QkFBNEJ0TixTLDhCQTVDbEI0TCxRQWtEdkIsU0FBUzJCLEVBQWdCbEgsRUFBZThHLEdBQXNCLElBQVp4VSxFQUFZLHVEQUFKLEdBQ2xENk4sRUFBbUI3TixFQUFRcUgsV0FBYSxHQUN4Q29OLEVBQWN6VSxFQUFRc1QsTUFBUSxHQUNwQ3pGLEVBQWlCMUwsT0FBUzBMLEVBQWlCMUwsUUFBVXVMLEVBR3JELElBQU16SCxHQUZOdU8sRUFBV3hHLE1BQU1sUixVQUFVeU8sTUFBTWxRLEtBQUttWixJQUVWekgsS0FBSSxTQUFDckssR0FDL0IsT0FBTyxJQUFJK0QsWUFBVS9ELEVBQVNtTCxNQUdoQyxPQUFPLElBQUk2RyxFQUFTek8sRUFBWXdPIiwiZmlsZSI6InNvcnRhYmxlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiRHJhZ2VlXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkRyYWdlZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJEcmFnZWVcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG4iLCJjbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICB0aGlzLnggPSB4XG4gICAgdGhpcy55ID0geVxuICB9XG5cbiAgYWRkKHApIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCArIHAueCwgdGhpcy55ICsgcC55KVxuICB9XG5cbiAgc3ViKHApIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAtIHAueCwgdGhpcy55IC0gcC55KVxuICB9XG5cbiAgbXVsdChrKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKiBrLCB0aGlzLnkgKiBrKVxuICB9XG5cbiAgbmVnYXRpdmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCgtdGhpcy54LCAtdGhpcy55KVxuICB9XG5cbiAgY29tcGFyZShwKSB7XG4gICAgcmV0dXJuICh0aGlzLnggPT09IHAueCAmJiB0aGlzLnkgPT09IHAueSlcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpXG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHt4PSR7dGhpcy54fSx5PSR7dGhpcy55fWBcbiAgfVxufVxuXG5jbGFzcyBSZWN0YW5nbGUge1xuICBjb25zdHJ1Y3Rvcihwb3NpdGlvbiwgc2l6ZSkge1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvblxuICAgIHRoaXMuc2l6ZSA9IHNpemVcbiAgfVxuXG4gIGdldFAxKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uXG4gIH1cblxuICBnZXRQMigpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMucG9zaXRpb24ueCArIHRoaXMuc2l6ZS54LCB0aGlzLnBvc2l0aW9uLnkpXG4gIH1cblxuICBnZXRQMygpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGQodGhpcy5zaXplKVxuICB9XG5cbiAgZ2V0UDQoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSArIHRoaXMuc2l6ZS55KVxuICB9XG5cbiAgZ2V0Q2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnNpemUubXVsdCgwLjUpKVxuICB9XG5cbiAgb3IocmVjdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFBvaW50KE1hdGgubWluKHRoaXMucG9zaXRpb24ueCwgcmVjdC5wb3NpdGlvbi54KSwgTWF0aC5taW4odGhpcy5wb3NpdGlvbi55LCByZWN0LnBvc2l0aW9uLnkpKVxuICAgIGNvbnN0IHNpemUgPSAobmV3IFBvaW50KE1hdGgubWF4KHRoaXMucG9zaXRpb24ueCArIHRoaXMuc2l6ZS54LCByZWN0LnBvc2l0aW9uLnggKyByZWN0LnNpemUueCksIE1hdGgubWF4KHRoaXMucG9zaXRpb24ueSArIHRoaXMuc2l6ZS55LCByZWN0LnBvc2l0aW9uLnkgKyByZWN0LnNpemUueSkpKS5zdWIocG9zaXRpb24pXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUocG9zaXRpb24sIHNpemUpXG4gIH1cblxuICBhbmQocmVjdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFBvaW50KE1hdGgubWF4KHRoaXMucG9zaXRpb24ueCwgcmVjdC5wb3NpdGlvbi54KSwgTWF0aC5tYXgodGhpcy5wb3NpdGlvbi55LCByZWN0LnBvc2l0aW9uLnkpKVxuICAgIGNvbnN0IHNpemUgPSAobmV3IFBvaW50KE1hdGgubWluKHRoaXMucG9zaXRpb24ueCArIHRoaXMuc2l6ZS54LCByZWN0LnBvc2l0aW9uLnggKyByZWN0LnNpemUueCksIE1hdGgubWluKHRoaXMucG9zaXRpb24ueSArIHRoaXMuc2l6ZS55LCByZWN0LnBvc2l0aW9uLnkgKyByZWN0LnNpemUueSkpKS5zdWIocG9zaXRpb24pXG4gICAgaWYgKHNpemUueCA8PSAwIHx8IHNpemUueSA8PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZShwb3NpdGlvbiwgc2l6ZSlcbiAgfVxuXG4gIGluY2x1ZGVQb2ludChwKSB7XG4gICAgcmV0dXJuICEodGhpcy5wb3NpdGlvbi54ID4gcC54IHx8IHRoaXMucG9zaXRpb24ueCArIHRoaXMuc2l6ZS54IDwgcC54IHx8IHRoaXMucG9zaXRpb24ueSA+IHAueSB8fCB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSA8IHAueSlcbiAgfVxuXG4gIGluY2x1ZGVSZWN0YW5nbGUocmVjdGFuZ2xlKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5jbHVkZVBvaW50KHJlY3RhbmdsZS5wb3NpdGlvbikgJiYgdGhpcy5pbmNsdWRlUG9pbnQocmVjdGFuZ2xlLmdldFAzKCkpXG4gIH1cblxuICBtb3ZlVG9Cb3VuZChyZWN0LCBheGlzKSB7XG4gICAgbGV0IHNlbEF4aXMsIGNyb3NzUmVjdGFuZ2xlXG4gICAgaWYgKGF4aXMpIHtcbiAgICAgIHNlbEF4aXMgPSBheGlzXG4gICAgfSBlbHNlIHtcbiAgICAgIGNyb3NzUmVjdGFuZ2xlID0gdGhpcy5hbmQocmVjdClcbiAgICAgIGlmICghY3Jvc3NSZWN0YW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIHJlY3RcbiAgICAgIH1cbiAgICAgIHNlbEF4aXMgPSBjcm9zc1JlY3RhbmdsZS5zaXplLnggPiBjcm9zc1JlY3RhbmdsZS5zaXplLnkgPyAneScgOiAneCdcbiAgICB9XG4gICAgY29uc3QgdGhpc0NlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKClcbiAgICBjb25zdCByZWN0Q2VudGVyID0gcmVjdC5nZXRDZW50ZXIoKVxuICAgIGNvbnN0IHNpZ24gPSB0aGlzQ2VudGVyW3NlbEF4aXNdID4gcmVjdENlbnRlcltzZWxBeGlzXSA/IC0xIDogMVxuICAgIGNvbnN0IG9mZnNldCA9IHNpZ24gPiAwID8gdGhpcy5wb3NpdGlvbltzZWxBeGlzXSArIHRoaXMuc2l6ZVtzZWxBeGlzXSAtIHJlY3QucG9zaXRpb25bc2VsQXhpc10gOiB0aGlzLnBvc2l0aW9uW3NlbEF4aXNdIC0gKHJlY3QucG9zaXRpb25bc2VsQXhpc10gKyByZWN0LnNpemVbc2VsQXhpc10pXG4gICAgcmVjdC5wb3NpdGlvbltzZWxBeGlzXSA9IHJlY3QucG9zaXRpb25bc2VsQXhpc10gKyBvZmZzZXRcbiAgICByZXR1cm4gcmVjdFxuICB9XG5cbiAgZ2V0U3F1YXJlKCkge1xuICAgIHJldHVybiB0aGlzLnNpemUueCAqIHRoaXMuc2l6ZS55XG4gIH1cblxuICBzdHlsZUFwcGx5KGVsKSB7XG4gICAgZWwgPSBlbCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbmQnKVxuICAgIGVsLnN0eWxlLmxlZnQgPSB0aGlzLnBvc2l0aW9uLnggKyAncHgnXG4gICAgZWwuc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi55ICsgJ3B4J1xuICAgIGVsLnN0eWxlLndpZHRoID0gdGhpcy5zaXplLnggKyAncHgnXG4gICAgZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zaXplLnkgKyAncHgnXG4gIH1cblxuICBncm93dGgoc2l6ZSkge1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuc2l6ZS5hZGQoc2l6ZSlcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5hZGQoc2l6ZS5tdWx0KC0wLjUpKVxuICB9XG5cbiAgZ2V0TWluU2lkZSgpIHtcbiAgICByZXR1cm4gTWF0aC5taW4odGhpcy5zaXplLngsIHRoaXMuc2l6ZS55KVxuICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKi9cbmNvbnN0IEdlb21ldHJ5ID0ge1xuICBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgICBjb25zdCBkeCA9IHAxLnggLSBwMi54LCBkeSA9IHAxLnkgLSBwMi55XG4gICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSlcbiAgfSxcbiAgZGlzdGFuY2UocDEsIHAyKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5LmdldERpc3RhbmNlKHAxLCBwMilcbiAgfSxcbiAgZ2V0WERpZmZlcmVuY2UocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHAxLnggLSBwMi54KVxuICB9LFxuICBnZXRZRGlmZmVyZW5jZShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMocDEueSAtIHAyLnkpXG4gIH0sXG4gIHRyYW5zZm9ybWVkU3BhY2VEaXN0YW5jZUZhY3Rvcnkob3B0aW9ucykge1xuICAgIHJldHVybiAocDEsIHAyKSA9PiB7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgICBNYXRoLnBvdyhvcHRpb25zLnggKiBNYXRoLmFicyhwMS54IC0gcDIueCksIDIpICtcbiAgICAgICAgTWF0aC5wb3cob3B0aW9ucy55ICogTWF0aC5hYnMocDEueSAtIHAyLnkpLCAyKVxuICAgICAgKVxuICAgIH1cbiAgfSxcbiAgaW5kZXhPZk5lYXJlc3RQb2ludChhcnIsIHZhbCwgcmFkaXVzLCBnZXREaXN0YW5jZSkge1xuICAgIGxldCBzaXplLCBpbmRleCA9IDAsIGksIHRlbXBcbiAgICBnZXREaXN0YW5jZSA9IGdldERpc3RhbmNlIHx8IEdlb21ldHJ5LmdldERpc3RhbmNlXG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICBzaXplID0gZ2V0RGlzdGFuY2UoYXJyWzBdLCB2YWwpXG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcCA9IGdldERpc3RhbmNlKGFycltpXSwgdmFsKVxuICAgICAgaWYgKHRlbXAgPCBzaXplKSB7XG4gICAgICAgIHNpemUgPSB0ZW1wXG4gICAgICAgIGluZGV4ID0gaVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmFkaXVzID49IDAgJiYgc2l6ZSA+IHJhZGl1cykge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBpbmRleFxuICB9LFxuICBib3VuZChtaW4sIG1heCwgdmFsKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKVxuICB9LFxuICBib3VuZFBvaW50KG1pbiwgbWF4LCB2YWwpIHtcbiAgICBjb25zdCB4ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB2YWwueCkpXG4gICAgY29uc3QgeSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdmFsLnkpKVxuICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSlcbiAgfSxcbiAgICAvL1JldHVybiBjcm9zc2luZyBwb2ludCBvZiB0d28gbGluZXNcbiAgZGlyZWN0Q3Jvc3NpbmcoTDFQMSwgTDFQMiwgTDJQMSwgTDJQMikge1xuICAgIGxldCB0ZW1wLCBrMSwgazIsIGIxLCBiMiwgeCwgeVxuICAgIGlmIChMMlAxLnggPT09IEwyUDIueCkge1xuICAgICAgdGVtcCA9IEwyUDFcbiAgICAgIEwyUDEgPSBMMVAxXG4gICAgICBMMVAxID0gdGVtcFxuICAgICAgdGVtcCA9IEwyUDJcbiAgICAgIEwyUDIgPSBMMVAyXG4gICAgICBMMVAyID0gdGVtcFxuICAgIH1cbiAgICBpZiAoTDFQMS54ID09PSBMMVAyLngpIHtcbiAgICAgIGsyID0gKEwyUDIueSAtIEwyUDEueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgYjIgPSAoTDJQMi54ICogTDJQMS55IC0gTDJQMS54ICogTDJQMi55KSAvIChMMlAyLnggLSBMMlAxLngpXG4gICAgICB4ID0gTDFQMS54XG4gICAgICB5ID0geCAqIGsyICsgYjJcbiAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSlcbiAgICB9IGVsc2Uge1xuICAgICAgazEgPSAoTDFQMi55IC0gTDFQMS55KSAvIChMMVAyLnggLSBMMVAxLngpXG4gICAgICBiMSA9IChMMVAyLnggKiBMMVAxLnkgLSBMMVAxLnggKiBMMVAyLnkpIC8gKEwxUDIueCAtIEwxUDEueClcbiAgICAgIGsyID0gKEwyUDIueSAtIEwyUDEueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgYjIgPSAoTDJQMi54ICogTDJQMS55IC0gTDJQMS54ICogTDJQMi55KSAvIChMMlAyLnggLSBMMlAxLngpXG4gICAgICB4ID0gKGIxIC0gYjIpIC8gKGsyIC0gazEpXG4gICAgICB5ID0geCAqIGsxICsgYjFcbiAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSlcbiAgICB9XG4gIH0sXG4gIGJvdW5kVG9TZWdtZW50KExQMSwgTFAyLCBQKSB7XG4gICAgbGV0IHgsIHlcbiAgICB4ID0gR2VvbWV0cnkuYm91bmQoTWF0aC5taW4oTFAxLngsIExQMi54KSwgTWF0aC5tYXgoTFAxLngsIExQMi54KSwgUC54KVxuICAgIGlmICh4ICE9PSBQLngpIHtcbiAgICAgIHkgPSAoeCA9PT0gTFAxLngpID8gTFAxLnkgOiBMUDIueVxuICAgICAgUCA9IG5ldyBQb2ludCh4LCB5KVxuICAgIH1cblxuICAgIHkgPSBHZW9tZXRyeS5ib3VuZChNYXRoLm1pbihMUDEueSwgTFAyLnkpLCBNYXRoLm1heChMUDEueSwgTFAyLnkpLCBQLnkpXG4gICAgaWYgKHkgIT09IFAueSkge1xuICAgICAgeCA9ICh5ID09PSBMUDEueSkgPyBMUDEueCA6IExQMi54XG4gICAgICBQID0gbmV3IFBvaW50KHgsIHkpXG4gICAgfVxuXG4gICAgcmV0dXJuIFBcbiAgfSxcbiAgYm91bmRUb0xpbmUoQSwgQiwgUCkge1xuICAgIGNvbnN0IEFQID0gbmV3IFBvaW50KFAueCAtIEEueCwgUC55IC0gQS55KSxcbiAgICAgIEFCID0gbmV3IFBvaW50KEIueCAtIEEueCwgQi55IC0gQS55KSxcbiAgICAgIGFiMiA9IEFCLnggKiBBQi54ICsgQUIueSAqIEFCLnksXG4gICAgICBhcF9hYiA9IEFQLnggKiBBQi54ICsgQVAueSAqIEFCLnksXG4gICAgICB0ID0gYXBfYWIgLyBhYjJcbiAgICByZXR1cm4gbmV3IFBvaW50KEEueCArIEFCLnggKiB0LCBBLnkgKyBBQi55ICogdClcbiAgfSxcbiAgZ2V0UG9pbnRJbkxpbmUoTFAxLCBMUDIsIHBlcmNlbnQpIHtcbiAgICBjb25zdCBkeCA9IExQMi54IC0gTFAxLngsIGR5ID0gTFAyLnkgLSBMUDEueVxuICAgIHJldHVybiBuZXcgUG9pbnQoTFAxLnggKyBwZXJjZW50ICogZHgsIExQMS55ICsgcGVyY2VudCAqIGR5KVxuICB9LFxuICBnZXRQb2ludEluTGluZUJ5TGVuZ2h0KExQMSwgTFAyLCBsZW5naHQpIHtcbiAgICBjb25zdCBkeCA9IExQMi54IC0gTFAxLngsIGR5ID0gTFAyLnkgLSBMUDEueSwgcGVyY2VudCA9IGxlbmdodCAvIEdlb21ldHJ5LmRpc3RhbmNlKExQMSwgTFAyKVxuICAgIHJldHVybiBuZXcgUG9pbnQoTFAxLnggKyBwZXJjZW50ICogZHgsIExQMS55ICsgcGVyY2VudCAqIGR5KVxuICB9LFxuICBjcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudChlbCwgcGFyZW50LCBpc0NvbnRlbnRCb3hTaXplLCBpc0NvbnNpZGVyVHJhbnNsYXRlKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZU9mRWxlbWVudChlbCwgaXNDb250ZW50Qm94U2l6ZSlcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLmdldE9mZnNldChlbCwgcGFyZW50IHx8IGVsLnBhcmVudE5vZGUsIGlzQ29uc2lkZXJUcmFuc2xhdGUpLCBzaXplKVxuICB9LFxuICBnZXRTdW1WYWx1ZU9mU3R5bGVSdWxlKGVsZW1lbnQsIHJ1bGVzKSB7XG4gICAgcmV0dXJuIHJ1bGVzLnJlZHVjZSgoc3VtLCBydWxlKSA9PiB7XG4gICAgICByZXR1cm4gc3VtICsgcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudClbcnVsZV18fDApXG4gICAgfSwgMClcbiAgfSxcbiAgZ2V0U2l6ZU9mRWxlbWVudChlbCwgaXNDb250ZW50Qm94U2l6ZSkge1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVsnd2lkdGgnXSksIGhlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVsnaGVpZ2h0J10pXG4gICAgaWYgKCFpc0NvbnRlbnRCb3hTaXplKSB7XG4gICAgICB3aWR0aCArPSB0aGlzLmdldFN1bVZhbHVlT2ZTdHlsZVJ1bGUoZWwsIFsncGFkZGluZy1sZWZ0JywgJ3BhZGRpbmctcmlnaHQnLCAnYm9yZGVyLWxlZnQtd2lkdGgnLCAnYm9yZGVyLXJpZ2h0LXdpZHRoJ10pXG4gICAgICBoZWlnaHQgKz0gdGhpcy5nZXRTdW1WYWx1ZU9mU3R5bGVSdWxlKGVsLCBbJ3BhZGRpbmctdG9wJywgJ3BhZGRpbmctYm90dG9tJywgJ2JvcmRlci10b3Atd2lkdGgnLCAnYm9yZGVyLWJvdHRvbS13aWR0aCddKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFBvaW50KHdpZHRoLCBoZWlnaHQpXG4gIH0sXG4gIGdldE9mZnNldChlbCwgcGFyZW50KSB7XG4gICAgY29uc3QgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHBhcmVudFJlY3QgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICByZXR1cm4gbmV3IFBvaW50KGVsUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0LCBlbFJlY3QudG9wIC0gcGFyZW50UmVjdC50b3ApXG4gIH0sXG4gIGdldFBvaW50RnJvbVJhZGlhbFN5c3RlbShhbmdsZSwgbGVuZ3RoLCBjZW50ZXIpIHtcbiAgICBjZW50ZXIgPSBjZW50ZXIgfHwgbmV3IFBvaW50KDAsIDApXG4gICAgcmV0dXJuIGNlbnRlci5hZGQobmV3IFBvaW50KGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKSwgbGVuZ3RoICogTWF0aC5zaW4oYW5nbGUpKSlcbiAgfSxcbiAgYWRkUG9pbnRUb0JvdW5kUG9pbnRzKGJvdW5kcG9pbnRzLCBwb2ludCwgaXNSaWdodCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGJvdW5kcG9pbnRzLmZpbHRlcihmdW5jdGlvbihiUG9pbnQpIHtcbiAgICAgIHJldHVybiAgYlBvaW50LnkgPiBwb2ludC55IHx8IChpc1JpZ2h0ID8gYlBvaW50LnggPCBwb2ludC54IDogYlBvaW50LnggPiBwb2ludC54KVxuICAgIH0pXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHBvaW50LnkgPCByZXN1bHRbaV0ueSkge1xuICAgICAgICByZXN1bHQuc3BsaWNlKGksIDAsIHBvaW50KVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHBvaW50KVxuICAgIHJldHVybiByZXN1bHRcbiAgfSxcbiAgZ2V0QW5nbGUocDEsIHAyKSB7XG4gICAgY29uc3QgZGlmZiA9IHAyLnN1YihwMSlcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVBbmdsZShNYXRoLmF0YW4yKGRpZmYueSwgZGlmZi54KSlcbiAgfSxcbiAgdG9SYWRpYW4oYW5nbGUpIHtcbiAgICByZXR1cm4gKChhbmdsZSAlIDM2MCkgKiBNYXRoLlBJIC8gMTgwKVxuICB9LFxuICB0b0RlZ3JlZShhbmdsZSkge1xuICAgIHJldHVybiAoYW5nbGUgKiAxODAgLyBNYXRoLlBJKSAlIDM2MFxuICB9LFxuICBib3VuZEFuZ2xlKG1pbiwgbWF4LCB2YWwpIHtcbiAgICBsZXQgZG1pbiwgZG1heFxuICAgIGlmIChtaW4gPCBtYXggJiYgdmFsID4gbWluICYmIHZhbCA8IG1heCkge1xuICAgICAgcmV0dXJuIHZhbFxuICAgIH0gZWxzZSBpZiAobWF4IDwgbWluICYmICh2YWwgPCBtYXggfHwgdmFsID4gbWluKSkge1xuICAgICAgcmV0dXJuIHZhbFxuICAgIH0gZWxzZSB7XG4gICAgICBkbWluID0gdGhpcy5nZXRBbmdsZURpZmYobWluLCB2YWwpXG4gICAgICBkbWF4ID0gdGhpcy5nZXRBbmdsZURpZmYobWF4LCB2YWwpXG4gICAgICBpZiAoZG1pbiA8IGRtYXgpIHtcbiAgICAgICAgcmV0dXJuIG1pblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZ2V0TmVhcmVzdEFuZ2xlKGFyciwgYW5nbGUpIHtcbiAgICBsZXQgaSwgdGVtcCwgZGlmZiA9IE1hdGguUEkgKiAyLCB2YWx1ZVxuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoO2krKykge1xuICAgICAgdGVtcCA9IEdlb21ldHJ5LmdldEFuZ2xlRGlmZihhcnJbaV0sIGFuZ2xlKVxuICAgICAgaWYgKGRpZmYgPCB0ZW1wKSB7XG4gICAgICAgIGRpZmYgPSB0ZW1wXG4gICAgICAgIHZhbHVlID0gYXJyW2ldXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9LFxuICBnZXRBbmdsZURpZmYoYWxwaGEsIGJldGEpIHtcbiAgICBjb25zdCBtaW5BbmdsZSA9IE1hdGgubWluKGFscGhhLCBiZXRhKSxcbiAgICAgIG1heEFuZ2xlID0gIE1hdGgubWF4KGFscGhhLCBiZXRhKVxuICAgIHJldHVybiBNYXRoLm1pbihtYXhBbmdsZSAtIG1pbkFuZ2xlLCBtaW5BbmdsZSArIE1hdGguUEkqMiAtIG1heEFuZ2xlKVxuICB9LFxuICBub3JtYWxpemVBbmdsZSh2YWwpIHtcbiAgICB3aGlsZSAodmFsIDwgMCkge1xuICAgICAgdmFsICs9IDIgKiBNYXRoLlBJXG4gICAgfVxuICAgIHdoaWxlICh2YWwgPiAyICogTWF0aC5QSSkge1xuICAgICAgdmFsIC09IDIgKiBNYXRoLlBJXG4gICAgfVxuICAgIHJldHVybiB2YWxcbiAgfVxufVxuXG5leHBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBHZW9tZXRyeSB9XG4iLCJleHBvcnQgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgYykge1xuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjICsgJyhcXFxcc3wkKScsICdnJylcbiAgcmV0dXJuIChyZS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGMpIHtcbiAgaWYgKCFoYXNDbGFzcyhlbGVtZW50LCBjKSkge1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gKGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgYykucmVwbGFjZSgvXFxzKy9nLCAnICcpLnJlcGxhY2UoLyheIHwgJCkvZywgJycpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGMpIHtcbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgYyArICcoXFxcXHN8JCknLCAnZycpXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShyZSwgJyQxJykucmVwbGFjZSgvXFxzKy9nLCAnICcpLnJlcGxhY2UoLyheIHwgJCkvZywgJycpXG59XG4iLCJpbXBvcnQgeyBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MgfSBmcm9tICcuL3V0aWxzL2NsYXNzZXMnXG5pbXBvcnQgZ2V0RGVmYXVsdFBhcmVudCBmcm9tICcuL3V0aWxzL2dldC1kZWZhdWx0LXBhcmVudCdcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50J1xuaW1wb3J0IGdldFN0eWxlUHJvcGVydHkgZnJvbSAnZGVzYW5kcm8tZ2V0LXN0eWxlLXByb3BlcnR5J1xuaW1wb3J0IHsgYm91bmRUb0VsZW1lbnQgfSBmcm9tICcuL2JvdW5kJ1xuaW1wb3J0IHsgR2VvbWV0cnksIFBvaW50LCBSZWN0YW5nbGUgfSBmcm9tICcuL2dlb21ldHJ5J1xuaW1wb3J0IHsgZGVmYXVsdFNjb3BlIH0gZnJvbSAnLi9zY29wZSdcblxuY29uc3QgRHJhZ2VlID0geyBFdmVudCB9IC8vdG9kbyByZW1vdmUgYWZ0ZXIgcmVmYWN0b3JlXG5cbmNvbnN0IGlzVG91Y2ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3csIG1vdXNlRXZlbnRzID0ge1xuICAgIHN0YXJ0OiAnbW91c2Vkb3duJyxcbiAgICBtb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBlbmQ6ICdtb3VzZXVwJ1xuICB9LCB0b3VjaEV2ZW50cyA9IHtcbiAgICBzdGFydDogJ3RvdWNoc3RhcnQnLFxuICAgIG1vdmU6ICd0b3VjaG1vdmUnLFxuICAgIGVuZDogJ3RvdWNoZW5kJ1xuICB9LFxuICBldmVudHMgPSBpc1RvdWNoID8gdG91Y2hFdmVudHMgOiBtb3VzZUV2ZW50cyxcbiAgZHJhZ2dhYmxlcyA9IFtdLFxuICB0cmFuc2Zvcm1Qcm9wZXJ0eSA9IGdldFN0eWxlUHJvcGVydHkoJ3RyYW5zZm9ybScpLFxuICB0cmFuc2l0aW9uUHJvcGVydHkgPSBnZXRTdHlsZVByb3BlcnR5KCd0cmFuc2l0aW9uJylcblxuZnVuY3Rpb24gZ2V0VG91Y2hCeUlEKGVsZW1lbnQsIHRvdWNoSWQpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVsZW1lbnQuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllciA9PT0gdG91Y2hJZCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuY2hhbmdlZFRvdWNoZXNbaV1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHByZXZlbnREb3VibGVJbml0KGRyYWdnYWJsZSkge1xuICBjb25zdCBtZXNzYWdlID0gXCJmb3IgdGhpcyBlbGVtZW50IERyYWdlZS5EcmFnZ2FibGUgaXMgYWxyZWFkeSBleGlzdCwgZG9uJ3QgY3JlYXRlIGl0IHR3aWNlIFwiXG4gIGlmIChkcmFnZ2FibGVzLnNvbWUoKGV4aXN0aW5nKSA9PiBkcmFnZ2FibGUuZWxlbWVudCA9PT0gZXhpc3RpbmcuZWxlbWVudCkpIHtcbiAgICB0aHJvdyBtZXNzYWdlXG4gIH1cbiAgZHJhZ2dhYmxlcy5wdXNoKGRyYWdnYWJsZSlcbn1cblxuZnVuY3Rpb24gYWRkVG9EZWZhdWx0U2NvcGUoZHJhZ2dhYmxlKSB7XG4gIGRlZmF1bHRTY29wZS5hZGREcmFnZ2FibGUoZHJhZ2dhYmxlKVxufVxuXG5jbGFzcyBEcmFnZ2FibGUge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zPXt9KSB7XG4gICAgY29uc3QgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQgfHwgZ2V0RGVmYXVsdFBhcmVudChlbGVtZW50KVxuICAgIHRoaXMudGFyZ2V0cyA9IFtdXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIGJvdW5kOiBib3VuZFRvRWxlbWVudChwYXJlbnQsIHBhcmVudCksXG4gICAgICBzdGFydEZpbHRlcjogZmFsc2UsXG4gICAgICBpc0NvbnRlbnRCb3hTaXplOiBmYWxzZSxcbiAgICAgIHBvc2l0aW9uOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuaGFuZGxlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuaGFuZGxlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmhhbmRsZXIpIHx8IGVsZW1lbnRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVyID0gb3B0aW9ucy5oYW5kbGVyIHx8IGVsZW1lbnRcbiAgICB9XG5cbiAgICB0aGlzLm9uRW5kID0gbmV3IERyYWdlZS5FdmVudCh0aGlzLCB7IGlzUmV2ZXJzZTogdHJ1ZSwgaXNTdG9wT25UcnVlOiB0cnVlIH0pXG4gICAgdGhpcy5vbk1vdmUgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuXG4gICAgdGhpcy5vbkVuZC5hZGQoKCkgPT4gdGhpcy5tb3ZlKHRoaXMucG9zaXRpb24sIDAsIHRydWUsIHRydWUpKVxuXG4gICAgaWYgKG9wdGlvbnMub25FbmQpIHtcbiAgICAgIHRoaXMub25FbmQuYWRkKG9wdGlvbnMub25FbmQpXG4gICAgfVxuICAgIGlmIChvcHRpb25zLm9uTW92ZSkge1xuICAgICAgdGhpcy5vbk1vdmUuYWRkKG9wdGlvbnMub25Nb3ZlKVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vblN0YXJ0KSB7XG4gICAgICB0aGlzLm9uU3RhcnQuYWRkKG9wdGlvbnMub25TdGFydClcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuYm91bmQgPSB0aGlzLm9wdGlvbnMuYm91bmRcbiAgICBwcmV2ZW50RG91YmxlSW5pdCh0aGlzKVxuICAgIERyYWdnYWJsZS5vbkNyZWF0ZS5maXJlKHRoaXMpXG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fZW5hYmxlID0gdHJ1ZVxuICAgIHRoaXMub2Zmc2V0ID0gR2VvbWV0cnkuZ2V0T2Zmc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLnBhcmVudCwgdHJ1ZSlcbiAgICB0aGlzLmZpeFBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICAgdGhpcy5tb3ZlKHRoaXMuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgfVxuICAgIHRoaXMuX2RyYWdTdGFydCA9IHRoaXMuZHJhZ1N0YXJ0LmJpbmQodGhpcylcbiAgICB0aGlzLl9kcmFnTW92ZSA9IHRoaXMuZHJhZ01vdmUuYmluZCh0aGlzKVxuICAgIHRoaXMuX2RyYWdFbmQgPSB0aGlzLmRyYWdFbmQuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcbiAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5zdGFydCwgdGhpcy5fZHJhZ1N0YXJ0KVxuXG4gICAgaWYgKHRoaXMuYm91bmQucmVmcmVzaCkge1xuICAgICAgdGhpcy5ib3VuZC5yZWZyZXNoKClcbiAgICB9XG4gIH1cblxuICByZWluaXQoKSB7XG4gICAgdGhpcy5vZmZzZXQgPSBHZW9tZXRyeS5nZXRPZmZzZXQodGhpcy5lbGVtZW50LCB0aGlzLm9wdGlvbnMucGFyZW50LCB0cnVlKVxuICAgIHRoaXMuZml4UG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uXG4gICAgICB0aGlzLm1vdmUodGhpcy5pbml0UG9zaXRpb24sIDAsIHRydWUsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ib3VuZC5yZWZyZXNoKSB7XG4gICAgICB0aGlzLmJvdW5kLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuXG4gIGdldFNpemUoX3JlY2FsdWxhdGUpIHtcbiAgICByZXR1cm4gR2VvbWV0cnkuZ2V0U2l6ZU9mRWxlbWVudCh0aGlzLmVsZW1lbnQsIHRoaXMub3B0aW9ucy5pc0NvbnRlbnRCb3hTaXplKVxuICB9XG5cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMub2Zmc2V0LmFkZCh0aGlzLl90cmFuc2Zvcm1Qb3NpdGlvbiB8fCBuZXcgUG9pbnQoMCwgMCkpXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25cbiAgfVxuXG4gIGdldENlbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGQodGhpcy5nZXRTaXplKCkubXVsdCgwLjUpKVxuICB9XG5cbiAgX3NldFRyYW5zbGF0ZShwb2ludCkge1xuICAgIHRoaXMuX3RyYW5zZm9ybVBvc2l0aW9uID0gcG9pbnRcblxuICAgIGxldCB0cmFuc2Zvcm0gPSB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcGVydHldXG4gICAgbGV0IHRyYW5zbGF0ZUNzcyA9ICcgdHJhbnNsYXRlM2QoJyArIHBvaW50LnggKyAncHgsJyArIHBvaW50LnkgKyAncHgsIDBweCknXG5cbiAgICBjb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XG4gICAgY29uc3QgbXNpZSA9IHVhLmluZGV4T2YoJ01TSUUgJylcblxuICAgIGlmIChtc2llKSB7XG4gICAgICB0cmFuc2xhdGVDc3MgPSAnIHRyYW5zbGF0ZSgnICsgcG9pbnQueCArICdweCwnICsgcG9pbnQueSArICdweCknXG4gICAgICBpZiAoIS90cmFuc2xhdGVcXChbXildK1xcKS8udGVzdCh0cmFuc2Zvcm0pKSB7XG4gICAgICAgIHRyYW5zZm9ybSArPSB0cmFuc2xhdGVDc3NcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybS5yZXBsYWNlKC90cmFuc2xhdGVcXChbXildK1xcKS8sIHRyYW5zbGF0ZUNzcylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEvdHJhbnNsYXRlM2RcXChbXildK1xcKS8udGVzdCh0cmFuc2Zvcm0pKSB7XG4gICAgICAgIHRyYW5zZm9ybSArPSB0cmFuc2xhdGVDc3NcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybS5yZXBsYWNlKC90cmFuc2xhdGUzZFxcKFteKV0rXFwpLywgdHJhbnNsYXRlQ3NzKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSB0cmFuc2Zvcm1cbiAgfVxuXG4gIG1vdmUocG9pbnQsIHRpbWU9MCwgaXNGaXg9ZmFsc2UsIGlzU2lsZW50PWZhbHNlKSB7XG4gICAgcG9pbnQgPSBwb2ludC5jbG9uZSgpXG4gICAgaWYgKGlzRml4KSB7XG4gICAgICB0aGlzLmZpeFBvc2l0aW9uID0gcG9pbnRcbiAgICB9XG5cbiAgICB0aGlzLmRldGVybWluZURpcmVjdGlvbihwb2ludClcblxuICAgIHRoaXMucG9zaXRpb24gPSBwb2ludFxuXG4gICAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0eSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zaXRpb25Qcm9wZXJ0eV0gPSB0aW1lICsgJ21zJ1xuICAgIH1cblxuICAgIHRoaXMuX3NldFRyYW5zbGF0ZShwb2ludC5zdWIodGhpcy5vZmZzZXQpKVxuICAgIGlmICghaXNTaWxlbnQpIHtcbiAgICAgIHRoaXMub25Nb3ZlLmZpcmUoKVxuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2hQb3NpdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLmdldFBvc2l0aW9uKCkpXG4gIH1cblxuICBzZXRQb3NpdGlvbihwb2ludCkge1xuICAgIHBvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIHRoaXMucG9zaXRpb24gPSBwb2ludFxuXG4gICAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0eSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zaXRpb25Qcm9wZXJ0eV0gPSAnMG1zJ1xuICAgIH1cblxuICAgIHRoaXMuX3NldFRyYW5zbGF0ZShwb2ludC5zdWIodGhpcy5vZmZzZXQpKVxuICB9XG5cbiAgc2V0WmVyb1RyYW5zaXRpb24oKSB7XG4gICAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0eSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zaXRpb25Qcm9wZXJ0eV0gPSAnMG1zJ1xuICAgIH1cbiAgfVxuXG4gIGRldGVybWluZURpcmVjdGlvbihwb2ludCkge1xuICAgIHRoaXMubGVmdERpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnggPCBwb2ludC54KVxuICAgIHRoaXMucmlnaHREaXJlY3Rpb24gPSAodGhpcy5wb3NpdGlvbi54ID4gcG9pbnQueClcbiAgICB0aGlzLnVwRGlyZWN0aW9uID0gKHRoaXMucG9zaXRpb24ueSA+IHBvaW50LnkpXG4gICAgdGhpcy5kb3duRGlyZWN0aW9uID0gKHRoaXMucG9zaXRpb24ueSA8IHBvaW50LnkpXG4gIH1cblxuICBkcmFnU3RhcnQoZXZlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnRFdmVudCA9IGV2ZW50XG4gICAgaWYgKCF0aGlzLl9lbmFibGUgfHwgKHRoaXMub3B0aW9ucy5zdGFydEZpbHRlciAmJiAhdGhpcy5vcHRpb25zLnN0YXJ0RmlsdGVyKGV2ZW50KSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGlzVG91Y2hFdmVudCA9IChpc1RvdWNoICYmIChldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Ub3VjaEV2ZW50KSlcblxuICAgIHRoaXMuX3N0YXJ0VG91Y2hQb2ludCA9IG5ldyBQb2ludChpc1RvdWNoRXZlbnQgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGV2ZW50LmNsaWVudFgsIGlzVG91Y2hFdmVudCA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZXZlbnQuY2xpZW50WSlcblxuICAgIHRoaXMuX3N0YXJ0UG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKClcbiAgICBpZiAoaXNUb3VjaEV2ZW50KSB7XG4gICAgICB0aGlzLl90b3VjaElkID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllclxuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50IHx8XG4gICAgICAgICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJbnB1dEVsZW1lbnQpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50LnRhcmdldC5mb2N1cygpXG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG5cbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlXG5cbiAgICB0aGlzLm9uU3RhcnQuZmlyZShldmVudClcbiAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnQsICdhY3RpdmUnKVxuICAgIHRoaXMub25Nb3ZlLmZpcmUoZXZlbnQpXG4gIH1cblxuICBkcmFnTW92ZShldmVudCkge1xuICAgIHRoaXMuY3VycmVudEV2ZW50ID0gZXZlbnRcbiAgICBsZXQgdG91Y2hcblxuICAgIGNvbnN0IGlzVG91Y2hFdmVudCA9IChpc1RvdWNoICYmIChldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Ub3VjaEV2ZW50KSlcbiAgICBpZiAoaXNUb3VjaEV2ZW50KSB7XG4gICAgICB0b3VjaCA9IGdldFRvdWNoQnlJRChldmVudCwgdGhpcy5fdG91Y2hJZClcblxuICAgICAgaWYgKCF0b3VjaCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCB0b3VjaFBvaW50ID0gbmV3IFBvaW50KGlzVG91Y2hFdmVudCA/IHRvdWNoLnBhZ2VYIDogZXZlbnQuY2xpZW50WCwgaXNUb3VjaEV2ZW50ID8gdG91Y2gucGFnZVkgOiBldmVudC5jbGllbnRZKVxuICAgIGxldCBwb2ludCA9IHRoaXMuX3N0YXJ0UG9zaXRpb24uYWRkKHRvdWNoUG9pbnQuc3ViKHRoaXMuX3N0YXJ0VG91Y2hQb2ludCkpXG4gICAgcG9pbnQgPSB0aGlzLmJvdW5kKHBvaW50LCB0aGlzLmdldFNpemUoKSlcbiAgICB0aGlzLnRvdWNoUG9pbnQgPSB0b3VjaFBvaW50XG4gICAgdGhpcy5tb3ZlKHBvaW50LCAwKVxuICB9XG5cbiAgZHJhZ0VuZChldmVudCkge1xuICAgIGNvbnN0IGlzVG91Y2hFdmVudCA9IChpc1RvdWNoICYmIChldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Ub3VjaEV2ZW50KSlcblxuICAgIGlmIChpc1RvdWNoRXZlbnQgJiYgIWdldFRvdWNoQnlJRChldmVudCwgdGhpcy5fdG91Y2hJZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMub25FbmQuZmlyZShldmVudClcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuXG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2VcbiAgICByZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsICdhY3RpdmUnKVxuICB9XG5cbiAgZ2V0UmVjdGFuZ2xlKCkge1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMucG9zaXRpb24sIHRoaXMuZ2V0U2l6ZSgpKVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmdldFNpemUodHJ1ZSlcbiAgICBpZiAodGhpcy5ib3VuZC5yZWZyZXNoKSB7XG4gICAgICB0aGlzLmJvdW5kLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcbiAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5zdGFydCwgdGhpcy5fZHJhZ1N0YXJ0KVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcblxuICAgIHRoaXMub25FbmQucmVzZXQoKVxuICAgIHRoaXMub25Nb3ZlLnJlc2V0KClcbiAgfVxuXG4gIGdldCBlbmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZVxuICB9XG5cbiAgc2V0IGVuYWJsZShlbmFibGUpIHtcbiAgICBpZiAoZW5hYmxlKSB7XG4gICAgICByZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsICdkaXNhYmxlJylcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAnZGlzYWJsZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZSA9IGVuYWJsZVxuICB9XG59XG5cbkRyYWdnYWJsZS5vbkNyZWF0ZSA9IG5ldyBEcmFnZWUuRXZlbnQoRHJhZ2dhYmxlLCB7IGlzUmV2ZXJzZTogdHJ1ZSwgaXNTdG9wT25UcnVlOiB0cnVlIH0pXG5EcmFnZ2FibGUub25DcmVhdGUuYWRkKGFkZFRvRGVmYXVsdFNjb3BlKVxuXG5leHBvcnQgeyBEcmFnZ2FibGUsIGV2ZW50cyB9XG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gRXZlbnQoY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gIHRoaXMuZnVuY3MgPSBbXVxuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0XG4gIHRoaXMuaXNSZXZlcnNlID0gb3B0aW9ucy5pc1JldmVyc2UgfHwgZmFsc2VcbiAgdGhpcy5pc1N0b3BPblRydWUgPSBvcHRpb25zLmlzU3RvcE9uVHJ1ZSB8fCBmYWxzZVxufVxuXG5FdmVudC5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gIGNvbnN0IGZzID0gdGhpcy5pc1JldmVyc2UgPyB0aGlzLmZ1bmNzLnNsaWNlKCkucmV2ZXJzZSgpIDogdGhpcy5mdW5jc1xuICBsZXQgcmV0VmFsdWVcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmV0VmFsdWUgPSBmc1tpXS5hcHBseSh0aGlzLmNvbnRleHQsIGFyZ3MpXG4gICAgaWYgKHRoaXMuaXNTdG9wT25UcnVlICYmIHJldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gIXRoaXMuaXNTdG9wT25UcnVlXG59XG5cbkV2ZW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihmKSB7XG4gIHRoaXMuZnVuY3MucHVzaChmKVxufVxuXG5FdmVudC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uKGYpIHtcbiAgdGhpcy5mdW5jcy51bnNoaWZ0KGYpXG59XG5cbkV2ZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihmKSB7XG4gIGNvbnN0IGluZGV4ID0gdGhpcy5mdW5jcy5pbmRleE9mKGYpXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICB0aGlzLmZ1bmNzLnNwbGljZShpbmRleCwgMSlcbiAgfVxufVxuXG5FdmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihfZikge1xuICB0aGlzLmZ1bmNzID0gW11cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGFycmF5LCB2YWwpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnJheVtpXSA9PT0gdmFsKSB7XG4gICAgICBhcnJheS5zcGxpY2UoaSwgMSlcbiAgICAgIGktLVxuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXlcbn1cbiIsImltcG9ydCByZW1vdmVJdGVtIGZyb20gJy4vdXRpbHMvcmVtb3ZlLWFycmF5LWl0ZW0nXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCB7IERyYWdnYWJsZSB9IGZyb20gJy4vZHJhZ2dhYmxlJ1xuaW1wb3J0IHsgVGFyZ2V0IH0gZnJvbSAnLi90YXJnZXQnXG5cbmNvbnN0IERyYWdlZSA9IHsgRXZlbnQgfSAvL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jb25zdCBzY29wZXMgPSBbXVxuXG5jbGFzcyBTY29wZSB7XG4gIGNvbnN0cnVjdG9yKGRyYWdnYWJsZXMsIHRhcmdldHMsIG9wdGlvbnM9e30pIHtcbiAgICBzY29wZXMuZm9yRWFjaCgoc2NvcGUpID0+IHtcbiAgICAgIGlmIChkcmFnZ2FibGVzKSB7XG4gICAgICAgIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICAgICAgcmVtb3ZlSXRlbShzY29wZS5kcmFnZ2FibGVzLCBkcmFnZ2FibGUpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRzKSB7XG4gICAgICAgIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG4gICAgICAgICAgcmVtb3ZlSXRlbShzY29wZS50YXJnZXRzLCB0YXJnZXQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZXMgfHwgW11cbiAgICB0aGlzLnRhcmdldHMgPSB0YXJnZXRzIHx8IFtdXG4gICAgc2NvcGVzLnB1c2godGhpcylcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICB0aW1lRW5kOiAob3B0aW9ucy50aW1lRW5kKSB8fCA0MDBcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIGlmIChvcHRpb25zLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlLmFkZChvcHRpb25zLm9uQ2hhbmdlKVxuICAgIH1cbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUub25FbmQuYWRkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25FbmQoZHJhZ2dhYmxlKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgYWRkRHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5wdXNoKGRyYWdnYWJsZSlcbiAgICBkcmFnZ2FibGUub25FbmQudW5zaGlmdCgoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5vbkVuZChkcmFnZ2FibGUpXG4gICAgfSlcbiAgfVxuXG4gIGFkZFRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLnRhcmdldHMucHVzaCh0YXJnZXQpXG4gIH1cblxuICBvbkVuZChkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBzaG90VGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5maWx0ZXIoKHRhcmdldCkgPT4ge1xuICAgICAgcmV0dXJuIHRhcmdldC5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSAhPT0gLTFcbiAgICB9KS5maWx0ZXIoKHRhcmdldCkgPT4ge1xuICAgICAgcmV0dXJuIHRhcmdldC5jYXRjaERyYWdnYWJsZShkcmFnZ2FibGUpXG4gICAgfSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEuZ2V0UmVjdGFuZ2xlKCkuZ2V0U3F1YXJlKCkgLSBiLmdldFJlY3RhbmdsZSgpLmdldFNxdWFyZSgpXG4gICAgfSlcblxuICAgIGlmIChzaG90VGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIHNob3RUYXJnZXRzWzBdLm9uRW5kKGRyYWdnYWJsZSlcbiAgICB9IGVsc2UgaWYgKGRyYWdnYWJsZS50YXJnZXRzLmxlbmd0aCkge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmluaXRQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFbmQsIHRydWUsIHRydWUpXG4gICAgfVxuICAgIHRoaXMub25DaGFuZ2UuZmlyZSgpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHRhcmdldC5yZXNldCgpKVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUucmVmcmVzaCgpKVxuICAgIHRoaXMudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHRhcmdldC5yZWZyZXNoKCkpXG4gIH1cblxuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldHMubWFwKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB0aGlzLmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpKVxuICAgIH0pXG4gIH1cblxuICBzZXQgcG9zaXRpb25zKHBvc2l0aW9ucykge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAnd3JvbmcgYXJyYXkgbGVuZ3RoJ1xuICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSB0aGlzLnRhcmdldHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQucmVzZXQoKSlcblxuICAgICAgcG9zaXRpb25zLmZvckVhY2goKHRhcmdldEluZGV4ZXMsIGkpID0+IHtcbiAgICAgICAgdGFyZ2V0SW5kZXhlcy5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgICAgIHRoaXMudGFyZ2V0c1tpXS5hZGQodGhpcy5kcmFnZ2FibGVzW2luZGV4XSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG1lc3NhZ2VcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdFNjb3BlID0gbmV3IFNjb3BlKClcblxuZnVuY3Rpb24gc2NvcGUoZm4pIHtcbiAgY29uc3QgY3VycmVudFNjb3BlID0gbmV3IFNjb3BlKClcbiAgY29uc3QgYWRkRHJhZ2dhYmxlVG9TY29wZSA9IGZ1bmN0aW9uKGRyYWdnYWJsZSkge1xuICAgIGN1cnJlbnRTY29wZS5hZGREcmFnZ2FibGUoZHJhZ2dhYmxlKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgY29uc3QgYWRkVGFyZ2V0VG9TY29wZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGN1cnJlbnRTY29wZS5hZGRUYXJnZXQodGFyZ2V0KVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBEcmFnZ2FibGUub25DcmVhdGUuYWRkKGFkZERyYWdnYWJsZVRvU2NvcGUpXG4gIFRhcmdldC5vbkNyZWF0ZS5hZGQoYWRkVGFyZ2V0VG9TY29wZSlcbiAgZm4uY2FsbCgpXG4gIERyYWdnYWJsZS5vbkNyZWF0ZS5yZW1vdmUoYWRkRHJhZ2dhYmxlVG9TY29wZSlcbiAgVGFyZ2V0Lm9uQ3JlYXRlLnJlbW92ZShhZGRUYXJnZXRUb1Njb3BlKVxuICByZXR1cm4gY3VycmVudFNjb3BlXG59XG5cbmZ1bmN0aW9uIHNjb3BlRmFjdG9yeShwYXJlbnRFbGVtZW50LCBkcmFnZ2FibGVFbGVtZW50cywgdGFyZ2V0RWxlbWVudHMsIG9wdGlvbnM9e30pIHtcbiAgY29uc3QgZHJhZ2dhYmxlT3B0aW9ucyA9IG9wdGlvbnMuZHJhZ2dhYmxlIHx8IHt9XG4gIGNvbnN0IHRhcmdldE9wdGlvbnMgPSBvcHRpb25zLnRhcmdldCB8fCB7fVxuICBjb25zdCBzY29wZU9wdGlvbnMgPSBvcHRpb25zLnNjb3BlIHx8IHt9XG4gIGRyYWdnYWJsZU9wdGlvbnMucGFyZW50ID0gZHJhZ2dhYmxlT3B0aW9ucy5wYXJlbnQgfHwgcGFyZW50RWxlbWVudFxuICB0YXJnZXRPcHRpb25zLnBhcmVudCA9IHRhcmdldE9wdGlvbnMucGFyZW50IHx8IHBhcmVudEVsZW1lbnRcbiAgZHJhZ2dhYmxlRWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkcmFnZ2FibGVFbGVtZW50cylcbiAgdGFyZ2V0RWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0YXJnZXRFbGVtZW50cylcblxuICBjb25zdCBkcmFnZ2FibGVzID0gZHJhZ2dhYmxlRWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEcmFnZ2FibGUoZWxlbWVudCwgZHJhZ2dhYmxlT3B0aW9ucylcbiAgfSlcblxuICBjb25zdCB0YXJnZXRzID0gdGFyZ2V0RWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBUYXJnZXQoZWxlbWVudCwgZHJhZ2dhYmxlcywgdGFyZ2V0T3B0aW9ucylcbiAgfSlcbiAgcmV0dXJuIG5ldyBTY29wZShkcmFnZ2FibGVzLCB0YXJnZXRzLCBzY29wZU9wdGlvbnMpXG59XG5cbmV4cG9ydCB7IHNjb3BlcywgZGVmYXVsdFNjb3BlLCBTY29wZSwgc2NvcGVGYWN0b3J5LCBzY29wZSB9XG4iLCJpbXBvcnQgcmFuZ2UgZnJvbSAnLi91dGlscy9yYW5nZS5qcydcbmltcG9ydCByZW1vdmVJdGVtIGZyb20gJy4vdXRpbHMvcmVtb3ZlLWFycmF5LWl0ZW0nXG5pbXBvcnQgZ2V0RGVmYXVsdFBhcmVudCBmcm9tICcuL3V0aWxzL2dldC1kZWZhdWx0LXBhcmVudCdcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50J1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5J1xuaW1wb3J0IHsgc2NvcGVzLCBkZWZhdWx0U2NvcGUgfSBmcm9tICcuL3Njb3BlJ1xuXG5pbXBvcnQgeyBGbG9hdExlZnRTdHJhdGVneSB9IGZyb20gJy4vcG9zaXRpb25pbmcnXG5cbmNvbnN0IERyYWdlZSA9IHsgRXZlbnQgfS8vdG9kbyByZW1vdmUgYWZ0ZXIgcmVmYWN0b3JlXG5cbmNvbnN0IGFkZFRvRGVmYXVsdFNjb3BlID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGRlZmF1bHRTY29wZS5hZGRUYXJnZXQodGFyZ2V0KVxufVxuXG5jbGFzcyBUYXJnZXQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBkcmFnZ2FibGVzLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzXG4gICAgY29uc3QgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQgfHwgZ2V0RGVmYXVsdFBhcmVudChlbGVtZW50KVxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0aW1lRW5kOiAyMDAsXG4gICAgICB0aW1lRXhjYW5nZTogNDAwLFxuICAgICAgcGFyZW50OiBwYXJlbnRcbiAgICB9LCBvcHRpb25zKVxuXG4gICAgdGhpcy5wb3NpdGlvbmluZ1N0cmF0ZWd5ID0gb3B0aW9ucy5zdHJhdGVneSB8fCBuZXcgRmxvYXRMZWZ0U3RyYXRlZ3koXG4gICAgICB0aGlzLmdldFJlY3RhbmdsZS5iaW5kKHRoaXMpLFxuICAgICAge1xuICAgICAgICByYWRpdXM6IDgwLFxuICAgICAgICBnZXREaXN0YW5jZTogR2VvbWV0cnkudHJhbnNmb3JtZWRTcGFjZURpc3RhbmNlRmFjdG9yeSh7IHg6IDEsIHk6IDQgfSksXG4gICAgICAgIHJlbW92YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIClcblxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLnRhcmdldHMucHVzaCh0YXJnZXQpKVxuICAgIHRoaXMuZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZXNcbiAgICB0aGlzLm9uQWRkID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIHRoaXMuYmVmb3JlQWRkID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIHRoaXMub25SZW1vdmUgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG5cbiAgICBpZiAob3B0aW9ucy5vblJlbW92ZSkge1xuICAgICAgdGhpcy5vblJlbW92ZS5hZGQob3B0aW9ucy5vblJlbW92ZSlcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5vbkFkZCkge1xuICAgICAgdGhpcy5vbkFkZC5hZGQob3B0aW9ucy5vbkFkZClcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5iZWZvcmVBZGQpIHtcbiAgICAgIHRoaXMuYmVmb3JlQWRkLmFkZChvcHRpb25zLmJlZm9yZUFkZClcbiAgICB9XG5cbiAgICBUYXJnZXQub25DcmVhdGUuZmlyZSh0aGlzKVxuXG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIHBvc2l0aW9uaW5nIChkcmFnZ2FibGVzLCBpbmRleGVzT2ZOZXcpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbmluZ1N0cmF0ZWd5LnBvc2l0aW9uaW5nKGRyYWdnYWJsZXMsIGluZGV4ZXNPZk5ldylcbiAgfVxuXG4gIHNvcnRpbmcgKG9sZERyYWdnYWJsZXMsIG5ld0RyYWdnYWJsZXMsIGluZGV4T2ZOZXdzKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25pbmdTdHJhdGVneS5zb3J0aW5nKG9sZERyYWdnYWJsZXMsIG5ld0RyYWdnYWJsZXMsIGluZGV4T2ZOZXdzKVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBsZXQgcmVjdGFuZ2xlcywgaW5kZXhlc09mTmV3XG5cbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcyA9IHRoaXMuZHJhZ2dhYmxlcy5maWx0ZXIoKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgbGV0IGVsZW1lbnQgPSBkcmFnZ2FibGUuZWxlbWVudC5wYXJlbnROb2RlXG4gICAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCA9PT0gdGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9KVxuXG4gICAgaWYgKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmxlbmd0aCkge1xuICAgICAgaW5kZXhlc09mTmV3ID0gcmFuZ2UodGhpcy5pbm5lckRyYWdnYWJsZXMubGVuZ3RoKVxuICAgICAgcmVjdGFuZ2xlcyA9IHRoaXMucG9zaXRpb25pbmcodGhpcy5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGRyYWdnYWJsZS5nZXRSZWN0YW5nbGUoKVxuICAgICAgfSksIGluZGV4ZXNPZk5ldylcbiAgICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgaW5kZXhlc09mTmV3KVxuICAgICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB0aGlzLm9uQWRkLmZpcmUoZHJhZ2dhYmxlKSlcbiAgICB9XG4gIH1cblxuICBnZXRSZWN0YW5nbGUoKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5LmNyZWF0ZVJlY3RhbmdsZUZyb21FbGVtZW50KFxuICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgdGhpcy5vcHRpb25zLnBhcmVudCxcbiAgICAgIHRoaXMub3B0aW9ucy5pc0NvbnRlbnRCb3hTaXplLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNhdGNoRHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2F0Y2hEcmFnZ2FibGUpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2F0Y2hEcmFnZ2FibGUodGhpcywgZHJhZ2dhYmxlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXRSZWN0YW5nbGUgPSB0aGlzLmdldFJlY3RhbmdsZSgpXG4gICAgICBjb25zdCBkcmFnZ2FibGVTcXVhcmUgPSBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKCkuZ2V0U3F1YXJlKClcblxuICAgICAgcmV0dXJuIGRyYWdnYWJsZVNxdWFyZSA8IHRhcmdldFJlY3RhbmdsZS5nZXRTcXVhcmUoKVxuICAgICAgICAgICAgICAmJiB0YXJnZXRSZWN0YW5nbGUuaW5jbHVkZVBvaW50KGRyYWdnYWJsZS5nZXRDZW50ZXIoKSlcbiAgICB9XG4gIH1cblxuICBnZXRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWN0YW5nbGUoKS5wb3NpdGlvblxuICB9XG5cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWN0YW5nbGUoKS5zaXplXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4gcmVtb3ZlSXRlbShzY29wZS50YXJnZXRzLCB0aGlzKSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgY29uc3QgcmVjdGFuZ2xlcyA9IHRoaXMucG9zaXRpb25pbmcodGhpcy5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICB9KSwgW10pXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBbXSwgMClcbiAgfVxuXG4gIG9uRW5kKGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IG5ld0RyYWdnYWJsZXNJbmRleCA9IFtdXG4gICAgY29uc3QgaW5jbHVkZVBvaW50ID0gdGhpcy5nZXRSZWN0YW5nbGUoKS5pbmNsdWRlUG9pbnQoZHJhZ2dhYmxlLmdldFBvc2l0aW9uKCkpXG5cbiAgICBpZiAoIWluY2x1ZGVQb2ludCkge1xuICAgICAgaWYgKHRoaXMuZ2V0UmVjdGFuZ2xlKCkuaW5jbHVkZVBvaW50KGRyYWdnYWJsZS5nZXRDZW50ZXIoKSkpIHtcbiAgICAgICAgZHJhZ2dhYmxlLnBvc2l0aW9uID0gZHJhZ2dhYmxlLmdldENlbnRlcigpLmNsb25lKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYmVmb3JlQWRkLmZpcmUoZHJhZ2dhYmxlKVxuXG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMgPSB0aGlzLnNvcnRpbmcodGhpcy5pbm5lckRyYWdnYWJsZXMsIFtkcmFnZ2FibGVdLCBuZXdEcmFnZ2FibGVzSW5kZXgpXG4gICAgY29uc3QgcmVjdGFuZ2xlcyA9IHRoaXMucG9zaXRpb25pbmcodGhpcy5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICB9KSwgbmV3RHJhZ2dhYmxlc0luZGV4KVxuXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBuZXdEcmFnZ2FibGVzSW5kZXgpXG4gICAgaWYgKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSAhPT0gLTEpIHtcbiAgICAgIHRoaXMuYWRkUmVtb3ZlT25Nb3ZlKGRyYWdnYWJsZSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIGluZGV4ZXNPZk5ldywgdGltZSkge1xuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLnNsaWNlKDApLmZvckVhY2goKGRyYWdnYWJsZSwgaSkgPT4ge1xuICAgICAgY29uc3QgcmVjdCA9IHJlY3RhbmdsZXNbaV0sXG4gICAgICAgIHRpbWVFbmQgPSB0aW1lIHx8IHRpbWUgPT09IDAgPyB0aW1lIDogaW5kZXhlc09mTmV3LmluZGV4T2YoaSkgIT09IC0xID8gdGhpcy5vcHRpb25zLnRpbWVFbmQgOiB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2VcblxuICAgICAgaWYgKHJlY3QucmVtb3ZhYmxlKSB7XG4gICAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5pbml0UG9zaXRpb24sIHRpbWVFbmQsIHRydWUsIHRydWUpXG4gICAgICAgIHJlbW92ZUl0ZW0odGhpcy5pbm5lckRyYWdnYWJsZXMsIGRyYWdnYWJsZSlcblxuICAgICAgICB0aGlzLm9uUmVtb3ZlLmZpcmUoZHJhZ2dhYmxlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ2dhYmxlLm1vdmUocmVjdC5wb3NpdGlvbiwgdGltZUVuZCwgdHJ1ZSwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYWRkKGRyYWdnYWJsZSwgdGltZSkge1xuICAgIGNvbnN0IG5ld0RyYWdnYWJsZXNJbmRleCA9IHRoaXMuaW5uZXJEcmFnZ2FibGVzLmxlbmd0aFxuXG4gICAgdGhpcy5iZWZvcmVBZGQuZmlyZShkcmFnZ2FibGUpXG5cbiAgICB0aGlzLnB1c2hJbm5lckRyYWdnYWJsZShkcmFnZ2FibGUpXG4gICAgY29uc3QgcmVjdGFuZ2xlcyA9IHRoaXMucG9zaXRpb25pbmcodGhpcy5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICB9KSwgbmV3RHJhZ2dhYmxlc0luZGV4LCBkcmFnZ2FibGUpXG5cbiAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIFtuZXdEcmFnZ2FibGVzSW5kZXhdLCB0aW1lIHx8IDApXG4gICAgaWYgKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSAhPT0gLTEpIHtcbiAgICAgIHRoaXMuYWRkUmVtb3ZlT25Nb3ZlKGRyYWdnYWJsZSlcbiAgICB9XG4gIH1cblxuICBwdXNoSW5uZXJEcmFnZ2FibGUoZHJhZ2dhYmxlKSB7XG4gICAgaWYgKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKT09PS0xKSB7XG4gICAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5wdXNoKGRyYWdnYWJsZSlcbiAgICB9XG4gIH1cblxuICBhZGRSZW1vdmVPbk1vdmUoZHJhZ2dhYmxlKSB7XG4gICAgZHJhZ2dhYmxlLm9uTW92ZS5hZGQodGhpcy5yZW1vdmVIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmUoZHJhZ2dhYmxlKVxuICAgIH0pXG5cbiAgICB0aGlzLm9uQWRkLmZpcmUoZHJhZ2dhYmxlKVxuICB9XG5cbiAgcmVtb3ZlKGRyYWdnYWJsZSkge1xuICAgIGRyYWdnYWJsZS5vbk1vdmUucmVtb3ZlKHRoaXMucmVtb3ZlSGFuZGxlcilcblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbm5lckRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgY29uc3QgcmVjdGFuZ2xlcyA9IHRoaXMucG9zaXRpb25pbmcodGhpcy5pbm5lckRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICB9KSwgW10pXG5cbiAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIFtdKVxuICAgIHRoaXMub25SZW1vdmUuZmlyZShkcmFnZ2FibGUpXG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5pbml0UG9zaXRpb24sIDAsIHRydWUsIHRydWUpXG4gICAgICB0aGlzLm9uUmVtb3ZlLmZpcmUoZHJhZ2dhYmxlKVxuICAgIH0pXG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMgPSBbXVxuICB9XG5cbiAgZ2V0U29ydGVkRHJhZ2dhYmxlcygpIHtcbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5zbGljZSgpXG4gIH1cbn1cblxuVGFyZ2V0Lm9uQ3JlYXRlID0gbmV3IERyYWdlZS5FdmVudChUYXJnZXQsIHsgaXNSZXZlcnNlOiB0cnVlLCBpc1N0b3BPblRydWU6IHRydWUgfSlcblRhcmdldC5vbkNyZWF0ZS5hZGQoYWRkVG9EZWZhdWx0U2NvcGUpXG5cbmV4cG9ydCB7IFRhcmdldCB9XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREZWZhdWx0UGFyZW50KGVsZW1lbnQpIHtcbiAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZVxuICB3aGlsZSAocGFyZW50LnBhcmVudE5vZGUgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KVsncG9zaXRpb24nXSA9PT0gJ3N0YXRpYycpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZVxuICB9XG4gIHJldHVybiBwYXJlbnRcbn1cbiIsImltcG9ydCB7IEdlb21ldHJ5LCBQb2ludCB9IGZyb20gJy4vZ2VvbWV0cnknXG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvUmVjdGFuZ2xlKHJlY3RhbmdsZSkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIHNpemUpIHtcbiAgICBjb25zdCBjYWxjUG9pbnQgPSBwb2ludC5jbG9uZSgpLFxuICAgICAgcmVjdFAyID0gcmVjdGFuZ2xlLmdldFAzKClcblxuICAgIGlmIChyZWN0YW5nbGUucG9zaXRpb24ueCA+IGNhbGNQb2ludC54KSB7XG4gICAgICAoY2FsY1BvaW50LnggPSByZWN0YW5nbGUucG9zaXRpb24ueClcbiAgICB9XG4gICAgaWYgKHJlY3RhbmdsZS5wb3NpdGlvbi55ID4gY2FsY1BvaW50LnkpIHtcbiAgICAgIGNhbGNQb2ludC55ID0gcmVjdGFuZ2xlLnBvc2l0aW9uLnlcbiAgICB9XG4gICAgaWYgKHJlY3RQMi54IDwgY2FsY1BvaW50LnggKyBzaXplLngpIHtcbiAgICAgIGNhbGNQb2ludC54ID0gcmVjdFAyLnggLSBzaXplLnhcbiAgICB9XG4gICAgaWYgKHJlY3RQMi55IDwgY2FsY1BvaW50LnkgKyBzaXplLnkpIHtcbiAgICAgIGNhbGNQb2ludC55ID0gcmVjdFAyLnkgLSBzaXplLnlcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsY1BvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9FbGVtZW50KGVsZW1lbnQsIHBhcmVudCkge1xuICBjb25zdCByZXRGdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGJvdW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxuICBsZXQgYm91bmRcblxuICByZXRGdW5jLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcbiAgICBib3VuZCA9IGJvdW5kVG9SZWN0YW5nbGUoR2VvbWV0cnkuY3JlYXRlUmVjdGFuZ2xlRnJvbUVsZW1lbnQoZWxlbWVudCwgcGFyZW50KSlcbiAgfVxuXG4gIHJldEZ1bmMucmVmcmVzaCgpXG4gIHJldHVybiByZXRGdW5jXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvTGluZVgoeCwgc3RhcnRZLCBlbmRZKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IGNhbGNQb2ludCA9IHBvaW50LmNsb25lKClcbiAgICBjYWxjUG9pbnQueCA9IHhcbiAgICBpZiAoc3RhcnRZID4gY2FsY1BvaW50LnkpIHtcbiAgICAgIGNhbGNQb2ludC55ID0gc3RhcnRZXG4gICAgfVxuICAgIGlmIChlbmRZIDwgY2FsY1BvaW50LnkgKyBzaXplLnkpIHtcbiAgICAgIGNhbGNQb2ludC55ID0gZW5kWSAtIHNpemUueVxuICAgIH1cblxuICAgIHJldHVybiBjYWxjUG9pbnRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0xpbmVZKHksIHN0YXJ0WCwgZW5kWCkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIHNpemUpIHtcbiAgICBjb25zdCBjYWxjUG9pbnQgPSBwb2ludC5jbG9uZSgpXG4gICAgY2FsY1BvaW50LnkgPSB5XG4gICAgaWYgKHN0YXJ0WCA+IGNhbGNQb2ludC54KSB7XG4gICAgICBjYWxjUG9pbnQueCA9IHN0YXJ0WFxuICAgIH1cbiAgICBpZiAoZW5kWCA8IGNhbGNQb2ludC54ICsgc2l6ZS54KSB7XG4gICAgICBjYWxjUG9pbnQueCA9IGVuZFggLSBzaXplLnhcbiAgICB9XG4gICAgcmV0dXJuIGNhbGNQb2ludFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvTGluZShzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGFscGhhID0gTWF0aC5hdGFuMihlbmQueSAtIHN0YXJ0LnksIGVuZC54IC0gc3RhcnQueCksXG4gICAgYmV0YSA9IGFscGhhICsgTWF0aC5QSSAvIDIsXG4gICAgc29tZUsgPSAxMCxcbiAgICBjb3NCZXRhID0gTWF0aC5jb3MoYmV0YSksXG4gICAgc2luQmV0YSA9IE1hdGguc2luKGJldGEpXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBzaXplKSB7XG4gICAgY29uc3QgcG9pbnQyID0gbmV3IFBvaW50KHBvaW50LnggKyBzb21lSyAqIGNvc0JldGEsIHBvaW50LnkgKyBzb21lSyAqIHNpbkJldGEpLFxuICAgICAgbmV3RW5kID0gR2VvbWV0cnkuZ2V0UG9pbnRJbkxpbmVCeUxlbmdodChlbmQsIHN0YXJ0LCBzaXplLngpXG4gICAgbGV0IHBvaW50Q3Jvc3NpbmcgPSBHZW9tZXRyeS5kaXJlY3RDcm9zc2luZyhzdGFydCwgZW5kLCBwb2ludCwgcG9pbnQyKVxuXG4gICAgcG9pbnRDcm9zc2luZyA9IEdlb21ldHJ5LmJvdW5kVG9MaW5lKHN0YXJ0LCBuZXdFbmQsIHBvaW50Q3Jvc3NpbmcpXG4gICAgcmV0dXJuIHBvaW50Q3Jvc3NpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0NpcmNsZShjZW50ZXIsIHJhZGl1cykge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIF9zaXplKSB7XG4gICAgY29uc3QgYm91bmRlZFBvaW50ID0gR2VvbWV0cnkuZ2V0UG9pbnRJbkxpbmVCeUxlbmdodChjZW50ZXIsIHBvaW50LCByYWRpdXMpXG4gICAgcmV0dXJuIGJvdW5kZWRQb2ludFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvQXJjKGNlbnRlciwgcmFkaXVzLCBzdGFydEFnbGUsIGVuZEFuZ2xlKSB7XG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgX3NpemUpIHtcbiAgICBjb25zdCBib3VuZFN0YXJ0QW5nbGUgPSB0eXBlb2Ygc3RhcnRBZ2xlID09PSAnZnVuY3Rpb24nID8gc3RhcnRBZ2xlKCkgOiBzdGFydEFnbGVcbiAgICBjb25zdCBib3VuZEVuZHRBbmdsZSA9IHR5cGVvZiBzdGFydEFnbGUgPT09ICdmdW5jdGlvbicgPyBlbmRBbmdsZSgpIDogZW5kQW5nbGVcblxuICAgIGxldCBhbmdsZSA9IEdlb21ldHJ5LmdldEFuZ2xlKGNlbnRlciwgcG9pbnQpXG4gICAgYW5nbGUgPSBHZW9tZXRyeS5ub3JtYWxpemVBbmdsZShhbmdsZSlcbiAgICBhbmdsZSA9IEdlb21ldHJ5LmJvdW5kQW5nbGUoYm91bmRTdGFydEFuZ2xlLCBib3VuZEVuZHRBbmdsZSwgYW5nbGUpXG4gICAgcmV0dXJuIEdlb21ldHJ5LmdldFBvaW50RnJvbVJhZGlhbFN5c3RlbShhbmdsZSwgcmFkaXVzLCBjZW50ZXIpXG4gIH1cbn1cbiIsIi8qIVxuICogZ2V0U3R5bGVQcm9wZXJ0eSB2MS4wLjRcbiAqIG9yaWdpbmFsIGJ5IGthbmdheFxuICogaHR0cDovL3BlcmZlY3Rpb25raWxscy5jb20vZmVhdHVyZS10ZXN0aW5nLWNzcy1wcm9wZXJ0aWVzL1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIHVuZGVmOiB0cnVlICovXG4vKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBleHBvcnRzOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHByZWZpeGVzID0gJ1dlYmtpdCBNb3ogbXMgTXMgTycuc3BsaXQoJyAnKTtcbnZhciBkb2NFbGVtU3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5cbmZ1bmN0aW9uIGdldFN0eWxlUHJvcGVydHkoIHByb3BOYW1lICkge1xuICBpZiAoICFwcm9wTmFtZSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB0ZXN0IHN0YW5kYXJkIHByb3BlcnR5IGZpcnN0XG4gIGlmICggdHlwZW9mIGRvY0VsZW1TdHlsZVsgcHJvcE5hbWUgXSA9PT0gJ3N0cmluZycgKSB7XG4gICAgcmV0dXJuIHByb3BOYW1lO1xuICB9XG5cbiAgLy8gY2FwaXRhbGl6ZVxuICBwcm9wTmFtZSA9IHByb3BOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcE5hbWUuc2xpY2UoMSk7XG5cbiAgLy8gdGVzdCB2ZW5kb3Igc3BlY2lmaWMgcHJvcGVydGllc1xuICB2YXIgcHJlZml4ZWQ7XG4gIGZvciAoIHZhciBpPTAsIGxlbiA9IHByZWZpeGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgIHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBwcm9wTmFtZTtcbiAgICBpZiAoIHR5cGVvZiBkb2NFbGVtU3R5bGVbIHByZWZpeGVkIF0gPT09ICdzdHJpbmcnICkge1xuICAgICAgcmV0dXJuIHByZWZpeGVkO1xuICAgIH1cbiAgfVxufVxuXG4vLyB0cmFuc3BvcnRcbmlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAvLyBBTURcbiAgZGVmaW5lKCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0U3R5bGVQcm9wZXJ0eTtcbiAgfSk7XG59IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG4gIC8vIENvbW1vbkpTIGZvciBDb21wb25lbnRcbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRTdHlsZVByb3BlcnR5O1xufSBlbHNlIHtcbiAgLy8gYnJvd3NlciBnbG9iYWxcbiAgd2luZG93LmdldFN0eWxlUHJvcGVydHkgPSBnZXRTdHlsZVByb3BlcnR5O1xufVxuXG59KSggd2luZG93ICk7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByYW5nZShzdGFydCwgc3RvcCwgc3RlcCkge1xuICBjb25zdCByZXN1bHQgPSBbXVxuICBpZiAodHlwZW9mIHN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RvcCA9IHN0YXJ0XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKHR5cGVvZiBzdGVwID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0ZXAgPSAxXG4gIH1cbiAgaWYgKChzdGVwID4gMCAmJiBzdGFydCA+PSBzdG9wKSB8fCAoc3RlcCA8IDAgJiYgc3RhcnQgPD0gc3RvcCkpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICBmb3IgKGxldCBpID0gc3RhcnQ7IHN0ZXAgPiAwID8gaSA8IHN0b3AgOiBpID4gc3RvcDsgaSArPSBzdGVwKSB7XG4gICAgcmVzdWx0LnB1c2goaSlcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG4iLCJpbXBvcnQgeyBHZW9tZXRyeSwgUG9pbnQgfSBmcm9tICcuL2dlb21ldHJ5J1xuXG5jbGFzcyBCYXNpY1N0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBvcHRpb25zPXt9KSB7XG4gICAgdGhpcy5yZWN0YW5nbGUgPSByZWN0YW5nbGVcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIH1cblxuICBnZXQgYm91bmRSZWN0ICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucmVjdGFuZ2xlID09PSAnZnVuY3Rpb24nID8gdGhpcy5yZWN0YW5nbGUoKSA6IHRoaXMucmVjdGFuZ2xlXG4gIH1cbn1cblxuY2xhc3MgTm90Q3Jvc3NpbmdTdHJhdGVneSBleHRlbmRzIEJhc2ljU3RyYXRlZ3kge1xuICBwb3NpdGlvbmluZyAocmVjdGFuZ2xlTGlzdCwgaW5kZXhlc09mTmV3cykge1xuICAgIGNvbnN0IHN0YXRpY1JlY3RhbmdsZUluZGV4ZXMgPSByZWN0YW5nbGVMaXN0LnJlZHVjZSgoaW5kZXhlcywgX3JlY3QsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXhlc09mTmV3cy5pbmRleE9mKGluZGV4KSA9PT0gLTEpIHtcbiAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KVxuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4ZXNcbiAgICB9LCBbXSlcblxuICAgIGluZGV4ZXNPZk5ld3MuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgIGxldCByZWN0ID0gcmVjdGFuZ2xlTGlzdFtpbmRleF1cbiAgICAgIGxldCByZW1vdmFibGUgPSBmYWxzZVxuXG4gICAgICBzdGF0aWNSZWN0YW5nbGVJbmRleGVzLmZvckVhY2goKGluZGV4T2ZTdGF0aWMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGljUmVjdCA9IHJlY3RhbmdsZUxpc3RbaW5kZXhPZlN0YXRpY11cbiAgICAgICAgcmVjdCA9IHN0YXRpY1JlY3QubW92ZVRvQm91bmQocmVjdClcbiAgICAgIH0pXG5cbiAgICAgIHJlbW92YWJsZSA9IHN0YXRpY1JlY3RhbmdsZUluZGV4ZXMuc29tZSgoaW5kZXhPZlN0YXRpYykgPT4ge1xuICAgICAgICBjb25zdCBzdGF0aWNSZWN0ID0gcmVjdGFuZ2xlTGlzdFtpbmRleE9mU3RhdGljXVxuICAgICAgICByZXR1cm4gICEhc3RhdGljUmVjdC5hbmQocmVjdClcbiAgICAgIH0pIHx8IHJlY3QuYW5kKHRoaXMuYm91bmRSZWN0KS5nZXRTcXVhcmUoKSAhPT0gcmVjdC5nZXRTcXVhcmUoKVxuXG4gICAgICBpZiAocmVtb3ZhYmxlKSB7XG4gICAgICAgIHJlY3QucmVtb3ZhYmxlID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGljUmVjdGFuZ2xlSW5kZXhlcy5wdXNoKGluZGV4KVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlY3RhbmdsZUxpc3RcbiAgfVxuXG4gIHNvcnRpbmcob2RsRHJhZ2dhYmxlc0xpc3QsIG5ld0RyYWdnYWJsZXMsIGluZGV4T2ZOZXdzKSB7XG4gICAgY29uc3QgZHJhZ2dhYmxlcyA9IG9kbERyYWdnYWJsZXNMaXN0LmNvbmNhdChuZXdEcmFnZ2FibGVzKVxuICAgIG5ld0RyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBpbmRleE9mTmV3cy5wdXNoKGRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpKVxuICAgIH0pXG4gICAgcmV0dXJuIGRyYWdnYWJsZXNcbiAgfVxufVxuXG5jbGFzcyBGbG9hdExlZnRTdHJhdGVneSBleHRlbmRzIEJhc2ljU3RyYXRlZ3kge1xuICBjb25zdHJ1Y3RvcihyZWN0YW5nbGUsIG9wdGlvbnM9e30pIHtcbiAgICBzdXBlcihyZWN0YW5nbGUsIG9wdGlvbnMpXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICByZW1vdmFibGU6IHRydWVcbiAgICB9LCBvcHRpb25zKVxuXG4gICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCA4MFxuXG4gICAgdGhpcy5wYWRkaW5nVG9wTGVmdCA9IG9wdGlvbnMucGFkZGluZ1RvcExlZnQgfHwgbmV3IFBvaW50KDAsIDApXG4gICAgdGhpcy5wYWRkaW5nQm90dG9tUmlnaHQgPSBvcHRpb25zLnBhZGRpbmdCb3R0b21SaWdodCB8fCBuZXcgUG9pbnQoMCwgMClcbiAgICB0aGlzLnlHYXBCZXR3ZWVuRHJhZ2dhYmxlcyA9IG9wdGlvbnMueUdhcEJldHdlZW5EcmFnZ2FibGVzIHx8IDBcblxuICAgIHRoaXMuZ2V0RGlzdGFuY2UgPSBvcHRpb25zLmdldERpc3RhbmNlIHx8IEdlb21ldHJ5LmdldERpc3RhbmNlXG4gICAgdGhpcy5nZXRQb3NpdGlvbiA9IG9wdGlvbnMuZ2V0UG9zaXRpb24gfHwgKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUucG9zaXRpb25cbiAgICB9KVxuICB9XG5cbiAgcG9zaXRpb25pbmcocmVjdGFuZ2xlTGlzdCwgX2luZGV4ZXNPZk5ld3MpIHtcbiAgICBjb25zdCBib3VuZFJlY3QgPSB0aGlzLmJvdW5kUmVjdFxuICAgIGNvbnN0IHJlY3RQMiA9IGJvdW5kUmVjdC5nZXRQMigpXG4gICAgbGV0IGJvdW5kYXJ5UG9pbnRzID0gW2JvdW5kUmVjdC5wb3NpdGlvbl1cblxuICAgIHJlY3RhbmdsZUxpc3QuZm9yRWFjaCgocmVjdCkgPT4ge1xuICAgICAgbGV0IHBvc2l0aW9uLCBpc1ZhbGlkID0gZmFsc2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRhcnlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcG9zaXRpb24gPSAobmV3IFBvaW50KFxuICAgICAgICAgIGJvdW5kYXJ5UG9pbnRzW2ldLngsXG4gICAgICAgICAgaSA+IDAgPyAoYm91bmRhcnlQb2ludHNbaSAtIDFdLnkgKyB0aGlzLnlHYXBCZXR3ZWVuRHJhZ2dhYmxlcykgOiBib3VuZFJlY3QucG9zaXRpb24ueSlcbiAgICAgICAgKS5hZGQodGhpcy5wYWRkaW5nVG9wTGVmdClcblxuICAgICAgICBpc1ZhbGlkID0gKHBvc2l0aW9uLnggKyByZWN0LnNpemUueCA8IHJlY3RQMi54KVxuXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgcG9zaXRpb24gPSAobmV3IFBvaW50KFxuICAgICAgICAgIGJvdW5kUmVjdC5wb3NpdGlvbi54LFxuICAgICAgICAgIGJvdW5kYXJ5UG9pbnRzW2JvdW5kYXJ5UG9pbnRzLmxlbmd0aCAtIDFdLnkgKyB0aGlzLnlHYXBCZXR3ZWVuRHJhZ2dhYmxlcylcbiAgICAgICAgKS5hZGQodGhpcy5wYWRkaW5nVG9wTGVmdClcbiAgICAgIH1cblxuICAgICAgcmVjdC5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92YWJsZSAmJiByZWN0LmdldFAzKCkueSA+IGJvdW5kUmVjdC5nZXRQMygpLnkpIHtcbiAgICAgICAgcmVjdC5yZW1vdmFibGUgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGJvdW5kYXJ5UG9pbnRzID0gR2VvbWV0cnkuYWRkUG9pbnRUb0JvdW5kUG9pbnRzKGJvdW5kYXJ5UG9pbnRzLCByZWN0LmdldFAzKCkuYWRkKHRoaXMucGFkZGluZ0JvdHRvbVJpZ2h0KSlcbiAgICB9KVxuICAgIHJldHVybiByZWN0YW5nbGVMaXN0XG4gIH1cblxuICBzb3J0aW5nKG9kbERyYWdnYWJsZXNMaXN0LCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cykge1xuICAgIGNvbnN0IG5ld0xpc3QgPSBvZGxEcmFnZ2FibGVzTGlzdC5jb25jYXQoKVxuICAgIGNvbnN0IGxpc3RPbGRQb3NpdGlvbiA9IG9kbERyYWdnYWJsZXNMaXN0Lm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZ2V0UG9zaXRpb24oKSlcbiAgICBuZXdEcmFnZ2FibGVzLmZvckVhY2goKG5ld0RyYWdnYWJsZSkgPT4ge1xuICAgICAgbGV0IGluZGV4ID0gR2VvbWV0cnkuaW5kZXhPZk5lYXJlc3RQb2ludChsaXN0T2xkUG9zaXRpb24sIHRoaXMuZ2V0UG9zaXRpb24obmV3RHJhZ2dhYmxlKSwgdGhpcy5yYWRpdXMsIHRoaXMuZ2V0RGlzdGFuY2UpXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGluZGV4ID0gbmV3TGlzdC5sZW5ndGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4ID0gbmV3TGlzdC5pbmRleE9mKG9kbERyYWdnYWJsZXNMaXN0W2luZGV4XSlcbiAgICAgIH1cbiAgICAgIG5ld0xpc3Quc3BsaWNlKGluZGV4LCAwLCBuZXdEcmFnZ2FibGUpXG4gICAgfSlcbiAgICBuZXdEcmFnZ2FibGVzLmZvckVhY2goKG5ld0RyYWdnYWJsZSkgPT4ge1xuICAgICAgaW5kZXhPZk5ld3MucHVzaChuZXdMaXN0LmluZGV4T2YobmV3RHJhZ2dhYmxlKSlcbiAgICB9KVxuICAgIHJldHVybiBuZXdMaXN0XG4gIH1cbn1cblxuY2xhc3MgRmxvYXRSaWdodFN0cmF0ZWd5IGV4dGVuZHMgRmxvYXRMZWZ0U3RyYXRlZ3kge1xuICBjb25zdHJ1Y3RvcihyZWN0YW5nbGUsIG9wdGlvbnM9e30pIHtcbiAgICBzdXBlcihyZWN0YW5nbGUsIG9wdGlvbnMpXG5cbiAgICB0aGlzLnBhZGRpbmdUb3BSaWdodCA9IG9wdGlvbnMucGFkZGluZ1RvcFJpZ2h0IHx8IG5ldyBQb2ludCg1LCA1KVxuICAgIHRoaXMucGFkZGluZ0JvdHRvbUxlZnQgPSBvcHRpb25zLnBhZGRpbmdCb3R0b21MZWZ0IHx8IG5ldyBQb2ludCgwLCAwKVxuXG4gICAgdGhpcy5wYWRkaW5nVG9wTmVnUmlnaHQgPSBuZXcgUG9pbnQoLXRoaXMucGFkZGluZ1RvcFJpZ2h0LngsIHRoaXMucGFkZGluZ1RvcFJpZ2h0LnkpXG4gICAgdGhpcy5wYWRkaW5nQm90dG9tTmVnTGVmdCA9IG5ldyBQb2ludCgtdGhpcy5wYWRkaW5nQm90dG9tTGVmdC54LCB0aGlzLnBhZGRpbmdCb3R0b21MZWZ0LnkpXG4gIH1cblxuICBwb3NpdGlvbmluZyhyZWN0YW5nbGVMaXN0LCBfaW5kZXhlc09mTmV3cykge1xuICAgIGNvbnN0IGJvdW5kUmVjdCA9IHRoaXMuYm91bmRSZWN0XG4gICAgbGV0IGJvdW5kYXJ5UG9pbnRzID0gW2JvdW5kUmVjdC5nZXRSaWdodFRvcFBvaW50KCldXG4gICAgcmVjdGFuZ2xlTGlzdC5mb3JFYWNoKChyZWN0LCBfaW5kZXgpID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbiwgaXNWYWxpZCA9IGZhbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kYXJ5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvc2l0aW9uID0gKG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tpXS54IC0gcmVjdC5zaXplLngsXG4gICAgICAgICAgaSA+IDAgPyBib3VuZGFyeVBvaW50c1tpIC0gMV0ueSA6IGJvdW5kUmVjdC5wb3NpdGlvbi55KVxuICAgICAgICApLmFkZCh0aGlzLnBhZGRpbmdUb3BOZWdSaWdodClcblxuICAgICAgICBpc1ZhbGlkID0gKHBvc2l0aW9uLnggPiByZWN0LnBvc2l0aW9uLngpXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIHBvc2l0aW9uID0gbmV3IFBvaW50KFxuICAgICAgICAgIGJvdW5kUmVjdC5nZXRQMigpLngsXG4gICAgICAgICAgYm91bmRhcnlQb2ludHNbYm91bmRhcnlQb2ludHMubGVuZ3RoIC0gMV0ueVxuICAgICAgICApXG4gICAgICB9XG4gICAgICByZWN0LnBvc2l0aW9uID0gcG9zaXRpb25cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZhYmxlICYmIHJlY3QuZ2V0TGVmdEJvdHRvbVBvaW50KCkueSA+IGJvdW5kUmVjdC5nZXRQNCgpLnkpIHtcbiAgICAgICAgcmVjdC5yZW1vdmFibGUgPSB0cnVlXG4gICAgICB9XG4gICAgICBib3VuZGFyeVBvaW50cyA9IEdlb21ldHJ5LmFkZFBvaW50VG9Cb3VuZFBvaW50cyhib3VuZGFyeVBvaW50cywgcmVjdC5nZXRQNCgpLmFkZCh0aGlzLnBhZGRpbmdCb3R0b21OZWdMZWZ0KSwgdHJ1ZSlcbiAgICB9KVxuICAgIHJldHVybiByZWN0YW5nbGVMaXN0XG4gIH1cbn1cblxuZXhwb3J0IHsgTm90Q3Jvc3NpbmdTdHJhdGVneSwgRmxvYXRMZWZ0U3RyYXRlZ3ksIEZsb2F0UmlnaHRTdHJhdGVneSB9XG4iLCIvKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSXRlbXMgKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KSB7XG4gIHZhciBpLCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG5cbiAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICB9XG5cbiAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVtb3ZlSXRlbXM7XG4iLCJpbXBvcnQgcmVtb3ZlSXRlbSBmcm9tICdyZW1vdmUtYXJyYXktaXRlbXMnXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi9nZW9tZXRyeSdcbmltcG9ydCB7IERyYWdnYWJsZSB9IGZyb20gJy4vZHJhZ2dhYmxlJ1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0gLy90b2RvIHJlbW92ZSBhZnRlciByZWZhY3RvcmVcblxuY2xhc3MgTGlzdCB7XG4gIGNvbnN0cnVjdG9yKGRyYWdnYWJsZXMsIG9wdGlvbnM9e30pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHRpbWVFbmQ6IDIwMCxcbiAgICAgIHRpbWVFeGNhbmdlOiA0MDAsXG4gICAgICByYWRpdXM6IDMwLFxuICAgICAgZ2V0RGlzdGFuY2U6IEdlb21ldHJ5LmdldERpc3RhbmNlLFxuICAgICAgaXNEaXNwbGFjZW1lbnQ6IGZhbHNlLFxuICAgICAgaXNTb3J0YWJsZTogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpXG5cbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBkcmFnZ2FibGVzXG4gICAgdGhpcy5vbkNoYW5nZSA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICBpZiAob3B0aW9ucy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZS5hZGQob3B0aW9ucy5vbkNoYW5nZSlcbiAgICB9XG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fZW5hYmxlID0gdHJ1ZVxuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKHRoaXMuaW5pdERyYWdnYWJsZSwgdGhpcylcbiAgfVxuXG4gIGluaXREcmFnZ2FibGUoZHJhZ2dhYmxlKSB7XG4gICAgbGV0IG1vdmVIYW5kbGVyXG4gICAgY29uc3QgbGlzdCA9IHRoaXNcblxuICAgIGRyYWdnYWJsZS5lbmFibGUgPSB0aGlzLl9lbmFibGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzRGlzcGxhY2VtZW50KSB7XG4gICAgICBtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZHJhZ2dhYmxlLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICBsaXN0Lm9uU3RhcnQoZHJhZ2dhYmxlKVxuICAgICAgICAgIGRyYWdnYWJsZS5vbk1vdmUucmVtb3ZlKG1vdmVIYW5kbGVyKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZHJhZ2dhYmxlLm9uRW5kLmFkZCgoKSA9PiB7XG4gICAgICAgIHRoaXMub25FbmREaXNwbGF5Y2VtZW50KGRyYWdnYWJsZSlcbiAgICAgICAgZHJhZ2dhYmxlLm9uTW92ZS5hZGQobW92ZUhhbmRsZXIpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuXG4gICAgICBkcmFnZ2FibGUub25Nb3ZlLmFkZChtb3ZlSGFuZGxlcilcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhZ2dhYmxlLm9uRW5kLmFkZCgoKSA9PiB7XG4gICAgICAgIHRoaXMub25FbmQoZHJhZ2dhYmxlKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBtb3ZlT3JTYXZlKGRyYWdnYWJsZSwgcG9zaXRpb24sIHRpbWUpIHtcbiAgICBpZiAoZHJhZ2dhYmxlLmlzRHJhZ2dpbmcpIHtcbiAgICAgIGRyYWdnYWJsZS5maXhQb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKHBvc2l0aW9uLCB0aW1lLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIG9uRW5kKGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IGZpeFBvc2l0aW9ucyA9IHRoaXMuZ2V0Q3VycmVudEZpeFBvc2l0aW9uKClcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgY29uc3QgZXhjYW5nZUluZGV4ID0gR2VvbWV0cnkuaW5kZXhPZk5lYXJlc3RQb2ludChmaXhQb3NpdGlvbnMsIGRyYWdnYWJsZS5wb3NpdGlvbiwgdGhpcy5vcHRpb25zLnJhZGl1cywgdGhpcy5vcHRpb25zLmdldERpc3RhbmNlKVxuXG4gICAgaWYgKGV4Y2FuZ2VJbmRleCA9PT0gLTEgfHwgZXhjYW5nZUluZGV4ID09PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5maXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFbmQsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW92ZU9yU2F2ZSh0aGlzLmRyYWdnYWJsZXNbZXhjYW5nZUluZGV4XSwgZml4UG9zaXRpb25zW2N1cnJlbnRJbmRleF0sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSlcbiAgICAgIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdLm1vdmUoZml4UG9zaXRpb25zW2V4Y2FuZ2VJbmRleF0sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlKVxuICAgICAgdGhpcy5vbkNoYW5nZS5maXJlKClcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNvcnRJZlBvc3NpYmxlKGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IGZpeFBvc2l0aW9uID0gZHJhZ2dhYmxlLmZpeFBvc2l0aW9uXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGNvbnN0IG5leHREcmFnZ2FibGUgPSB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4ICsgMV1cbiAgICBjb25zdCBwcmV2RHJhZ2dhYmxlID0gdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCAtIDFdXG5cbiAgICBpZiAoZHJhZ2dhYmxlLmRvd25EaXJlY3Rpb24gJiYgbmV4dERyYWdnYWJsZSkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuZ2V0RGlzdGFuY2UoZHJhZ2dhYmxlLnBvc2l0aW9uLCBuZXh0RHJhZ2dhYmxlLnBvc2l0aW9uKVxuICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zLnJhZGl1cykge1xuICAgICAgICBkcmFnZ2FibGUuZml4UG9zaXRpb24gPSBuZXh0RHJhZ2dhYmxlLmZpeFBvc2l0aW9uXG4gICAgICAgIHRoaXMubW92ZU9yU2F2ZShuZXh0RHJhZ2dhYmxlLCBmaXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKTtcbiAgICAgICAgW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4ICsgMV1dID0gW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggKyAxXSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF1dXG4gICAgICAgIHRoaXMuc29ydElmUG9zc2libGUoZHJhZ2dhYmxlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkcmFnZ2FibGUudXBEaXJlY3Rpb24gJiYgcHJldkRyYWdnYWJsZSkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuZ2V0RGlzdGFuY2UoZHJhZ2dhYmxlLnBvc2l0aW9uLCBwcmV2RHJhZ2dhYmxlLnBvc2l0aW9uKVxuICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zLnJhZGl1cykge1xuICAgICAgICBkcmFnZ2FibGUuZml4UG9zaXRpb24gPSBwcmV2RHJhZ2dhYmxlLmZpeFBvc2l0aW9uXG4gICAgICAgIHRoaXMubW92ZU9yU2F2ZShwcmV2RHJhZ2dhYmxlLCBmaXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKTtcbiAgICAgICAgW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4IC0gMV1dID0gW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF1dXG4gICAgICAgIHRoaXMuc29ydElmUG9zc2libGUoZHJhZ2dhYmxlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uRW5kRGlzcGxheWNlbWVudChkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBzb3J0ZWREcmFnZ2FibGVzID0gdGhpcy5nZXRTb3J0ZWREcmFnZ2FibGVzKClcbiAgICBjb25zdCBmaXhQb3NpdGlvbnMgPSBzb3J0ZWREcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZml4UG9zaXRpb24pXG5cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzb3J0ZWREcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gR2VvbWV0cnkuaW5kZXhPZk5lYXJlc3RQb2ludChmaXhQb3NpdGlvbnMsIGRyYWdnYWJsZS5wb3NpdGlvbiwgdGhpcy5vcHRpb25zLnJhZGl1cywgdGhpcy5vcHRpb25zLmdldERpc3RhbmNlKVxuXG4gICAgaWYgKHRhcmdldEluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKHRhcmdldEluZGV4IDwgY3VycmVudEluZGV4KSB7XG4gICAgICAgIGZvciAobGV0IGk9dGFyZ2V0SW5kZXg7IGk8Y3VycmVudEluZGV4OyBpKyspIHtcbiAgICAgICAgICB0aGlzLm1vdmVPclNhdmUoc29ydGVkRHJhZ2dhYmxlc1tpXSwgZml4UG9zaXRpb25zW2krMV0sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaT1jdXJyZW50SW5kZXg7IGk8dGFyZ2V0SW5kZXg7IGkrKykge1xuICAgICAgICAgIHRoaXMubW92ZU9yU2F2ZShzb3J0ZWREcmFnZ2FibGVzW2krMV0sIGZpeFBvc2l0aW9uc1tpXSwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkcmFnZ2FibGUubW92ZShmaXhQb3NpdGlvbnNbdGFyZ2V0SW5kZXhdLCB0aGlzLm9wdGlvbnMudGltZUVuZCwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUVuZCwgdHJ1ZSlcbiAgICB9XG4gIH1cblxuICBvblN0YXJ0KGRyYWdnYWJsZSkge1xuICAgIGxldCBpXG4gICAgY29uc3Qgc29ydGVkRHJhZ2dhYmxlcyA9IHRoaXMuZ2V0U29ydGVkRHJhZ2dhYmxlcygpXG4gICAgY29uc3QgZml4UG9zaXRpb25zID0gc29ydGVkRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmZpeFBvc2l0aW9uKVxuXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gc29ydGVkRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBmb3IgKGkgPSBjdXJyZW50SW5kZXggKyAxOyBpIDwgc29ydGVkRHJhZ2dhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5tb3ZlT3JTYXZlKHNvcnRlZERyYWdnYWJsZXNbaV0sIGZpeFBvc2l0aW9uc1tpIC0gMV0sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSlcbiAgICB9XG4gICAgc29ydGVkRHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdLmZpeFBvc2l0aW9uID0gZml4UG9zaXRpb25zW2kgLSAxXVxuICB9XG5cbiAgZ2V0Q3VycmVudEZpeFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5maXhQb3NpdGlvbi5jbG9uZSgpKVxuICB9XG5cbiAgZ2V0U29ydGVkRHJhZ2dhYmxlcygpIHtcbiAgICBjb25zdCBpbml0UG9zaXRpb25zID0gdGhpcy5kcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuaW5pdFBvc2l0aW9uKVxuXG4gICAgY29uc3Qgc29ydGVkRHJhZ2dhYmxlcyA9IGluaXRQb3NpdGlvbnMubWFwKChwb3NpdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlcy5maWx0ZXIoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmZpeFBvc2l0aW9uLmNvbXBhcmUocG9zaXRpb24pKVswXVxuICAgIH0pXG5cbiAgICByZXR1cm4gc29ydGVkRHJhZ2dhYmxlc1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLm1vdmUoZHJhZ2dhYmxlLmluaXRQb3NpdGlvbiwgMCwgdHJ1ZSwgZmFsc2UpXG4gICAgfSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLnJlZnJlc2goKVxuICAgIH0pXG4gIH1cblxuICBhZGQoZHJhZ2dhYmxlcykge1xuICAgIGlmICghKGRyYWdnYWJsZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgIGRyYWdnYWJsZXMgPSBbZHJhZ2dhYmxlc11cbiAgICB9XG4gICAgZHJhZ2dhYmxlcy5mb3JFYWNoKHRoaXMuaW5pdERyYWdnYWJsZSwgdGhpcylcbiAgICB0aGlzLmRyYWdnYWJsZXMgPSB0aGlzLmRyYWdnYWJsZXMuY29uY2F0KGRyYWdnYWJsZXMpXG4gIH1cblxuICByZW1vdmUoZHJhZ2dhYmxlcykge1xuICAgIGNvbnN0IGluaXRQb3NpdGlvbnMgPSB0aGlzLmRyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5pbml0UG9zaXRpb24pXG4gICAgY29uc3QgbGlzdCA9IFtdXG4gICAgY29uc3Qgc29ydGVkRHJhZ2dhYmxlcyA9IHRoaXMuZ2V0U29ydGVkRHJhZ2dhYmxlcygpXG5cbiAgICBpZiAoIShkcmFnZ2FibGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICBkcmFnZ2FibGVzID0gW2RyYWdnYWJsZXNdXG4gICAgfVxuXG4gICAgZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5vbkVuZC5yZXNldCgpXG4gICAgICBkcmFnZ2FibGUub25Nb3ZlLnJlc2V0KCkgLy90b2RvIHJlbW92ZSByZXNldCBpbiBmdXR1cmVcbiAgICAgIHJlbW92ZUl0ZW0odGhpcy5kcmFnZ2FibGVzLCBkcmFnZ2FibGUpXG4gICAgfSlcblxuICAgIGxldCBqID0gMFxuICAgIHNvcnRlZERyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBpZiAodGhpcy5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSAhPT0gLTEpIHtcbiAgICAgICAgaWYgKGRyYWdnYWJsZS5maXhQb3NpdGlvbiAhPT0gaW5pdFBvc2l0aW9uc1tqXSkge1xuICAgICAgICAgIGRyYWdnYWJsZS5tb3ZlKGluaXRQb3NpdGlvbnNbal0sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSwgdHJ1ZSlcbiAgICAgICAgfVxuICAgICAgICBkcmFnZ2FibGUuaW5pdFBvc2l0aW9uID0gaW5pdFBvc2l0aW9uc1tqXVxuICAgICAgICBqKytcbiAgICAgICAgbGlzdC5wdXNoKGRyYWdnYWJsZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuZHJhZ2dhYmxlcyA9IGxpc3RcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMucmVtb3ZlKHRoaXMuZHJhZ2dhYmxlcy5zbGljZSgpKVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZGVzdHJveSgpKVxuICB9XG5cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50Rml4UG9zaXRpb24oKVxuICB9XG5cbiAgc2V0IHBvc2l0aW9ucyhwb3NpdGlvbnMpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gJ3dyb25nIGFycmF5IGxlbmd0aCdcbiAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA9PT0gdGhpcy5kcmFnZ2FibGVzLmxlbmd0aCkge1xuICAgICAgcG9zaXRpb25zLmZvckVhY2goKHBvaW50LCBpKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlc1tpXS5tb3ZlKHBvaW50LCAwLCB0cnVlLCB0cnVlKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbWVzc2FnZVxuICAgIH1cbiAgfVxuXG4gIGdldCBlbmFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZVxuICB9XG5cbiAgc2V0IGVuYWJsZShlbmFibGUpIHtcbiAgICB0aGlzLl9lbmFibGUgPSBlbmFibGVcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUuZW5hYmxlID0gZW5hYmxlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBsaXN0RmFjdG9yeShwYXJlbnRFbGVtZW50LCBlbGVtZW50cywgb3B0aW9ucz17fSkge1xuICBjb25zdCBkcmFnZ2FibGVPcHRpb25zID0gb3B0aW9ucy5kcmFnZ2FibGUgfHwge31cbiAgY29uc3QgbGlzdE9wdGlvbnMgPSBvcHRpb25zLmxpc3QgfHwge31cbiAgZHJhZ2dhYmxlT3B0aW9ucy5wYXJlbnQgPSBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCB8fCBwYXJlbnRFbGVtZW50XG4gIGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWxlbWVudHMpXG5cbiAgY29uc3QgZHJhZ2dhYmxlcyA9IGVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlKGVsZW1lbnQsIGRyYWdnYWJsZU9wdGlvbnMpXG4gIH0pXG5cbiAgcmV0dXJuIG5ldyBMaXN0KGRyYWdnYWJsZXMsIGxpc3RPcHRpb25zKVxufVxuXG5leHBvcnQgeyBMaXN0LCBsaXN0RmFjdG9yeSB9XG4iLCJpbXBvcnQgeyBMaXN0IH0gZnJvbSAnLi9saXN0J1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5J1xuaW1wb3J0IHsgRHJhZ2dhYmxlIH0gZnJvbSAnLi9kcmFnZ2FibGUnXG5cbmNsYXNzIFNvcnRhYmxlIGV4dGVuZHMgTGlzdCB7XG4gIGNvbnN0cnVjdG9yKGRyYWdnYWJsZXMsIG9wdGlvbnM9e30pIHtcbiAgICBvcHRpb25zLmdldERpc3RhbmNlID0gb3B0aW9ucy5nZXREaXN0YW5jZSB8fCBHZW9tZXRyeS5nZXRZRGlmZmVyZW5jZVxuICAgIHN1cGVyKGRyYWdnYWJsZXMsIG9wdGlvbnMpXG4gIH1cblxuICBpbml0RHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIGRyYWdnYWJsZS5lbmFibGUgPSB0aGlzLl9lbmFibGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzU29ydGFibGUpIHtcbiAgICAgIGRyYWdnYWJsZS5vbk1vdmUuYWRkKCgpID0+IHtcbiAgICAgICAgaWYgKGRyYWdnYWJsZS5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgdGhpcy5leGNoYW5nZURyYWdnYWJsZUlmUG9zc2libGUoZHJhZ2dhYmxlKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGRyYWdnYWJsZS5vbkVuZC5hZGQoKCkgPT4ge1xuICAgICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRW5kKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBleGNoYW5nZURyYWdnYWJsZUlmUG9zc2libGUoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3QgZml4UG9zaXRpb24gPSBkcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmRyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgY29uc3QgbmV4dERyYWdnYWJsZSA9IHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggKyAxXVxuICAgIGNvbnN0IHByZXZEcmFnZ2FibGUgPSB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4IC0gMV1cblxuICAgIGlmIChkcmFnZ2FibGUuZG93bkRpcmVjdGlvbiAmJiBuZXh0RHJhZ2dhYmxlKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZShkcmFnZ2FibGUucG9zaXRpb24sIG5leHREcmFnZ2FibGUucG9zaXRpb24pXG4gICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnMucmFkaXVzKSB7XG4gICAgICAgIGRyYWdnYWJsZS5maXhQb3NpdGlvbiA9IG5leHREcmFnZ2FibGUuZml4UG9zaXRpb25cbiAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKG5leHREcmFnZ2FibGUsIGZpeFBvc2l0aW9uLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpO1xuICAgICAgICBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggKyAxXV0gPSBbdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XV1cbiAgICAgICAgdGhpcy5leGNoYW5nZURyYWdnYWJsZUlmUG9zc2libGUoZHJhZ2dhYmxlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkcmFnZ2FibGUudXBEaXJlY3Rpb24gJiYgcHJldkRyYWdnYWJsZSkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuZ2V0RGlzdGFuY2UoZHJhZ2dhYmxlLnBvc2l0aW9uLCBwcmV2RHJhZ2dhYmxlLnBvc2l0aW9uKVxuICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zLnJhZGl1cykge1xuICAgICAgICBkcmFnZ2FibGUuZml4UG9zaXRpb24gPSBwcmV2RHJhZ2dhYmxlLmZpeFBvc2l0aW9uXG4gICAgICAgIHRoaXMubW92ZU9yU2F2ZShwcmV2RHJhZ2dhYmxlLCBmaXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlKTtcbiAgICAgICAgW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdLCB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4IC0gMV1dID0gW3RoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleF1dXG4gICAgICAgIHRoaXMuZXhjaGFuZ2VEcmFnZ2FibGVJZlBvc3NpYmxlKGRyYWdnYWJsZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydGFibGVGYWN0b3J5KHBhcmVudEVsZW1lbnQsIGVsZW1lbnRzLCBvcHRpb25zPXt9KSB7XG4gIGNvbnN0IGRyYWdnYWJsZU9wdGlvbnMgPSBvcHRpb25zLmRyYWdnYWJsZSB8fCB7fVxuICBjb25zdCBsaXN0T3B0aW9ucyA9IG9wdGlvbnMubGlzdCB8fCB7fVxuICBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCA9IGRyYWdnYWJsZU9wdGlvbnMucGFyZW50IHx8IHBhcmVudEVsZW1lbnRcbiAgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50cylcblxuICBjb25zdCBkcmFnZ2FibGVzID0gZWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEcmFnZ2FibGUoZWxlbWVudCwgZHJhZ2dhYmxlT3B0aW9ucylcbiAgfSlcblxuICByZXR1cm4gbmV3IFNvcnRhYmxlKGRyYWdnYWJsZXMsIGxpc3RPcHRpb25zKVxufVxuXG5leHBvcnQgeyBTb3J0YWJsZSwgc29ydGFibGVGYWN0b3J5IH1cbiJdLCJzb3VyY2VSb290IjoiIn0=
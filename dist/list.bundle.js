!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Dragee",[],e):"object"==typeof exports?exports.Dragee=e():t.Dragee=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u}));var s=function(){function t(e,n){i(this,t),this.x=e,this.y=n}return r(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"negative",value:function(){return new t(-this.x,-this.y)}},{key:"compare",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"{x=".concat(this.x,",y=").concat(this.y)}}]),t}(),a=function(){function t(e,n){i(this,t),this.position=e,this.size=n}return r(t,[{key:"getP1",value:function(){return this.position}},{key:"getP2",value:function(){return new s(this.position.x+this.size.x,this.position.y)}},{key:"getP3",value:function(){return this.position.add(this.size)}},{key:"getP4",value:function(){return new s(this.position.x,this.position.y+this.size.y)}},{key:"getCenter",value:function(){return this.position.add(this.size.mult(.5))}},{key:"or",value:function(e){var n=new s(Math.min(this.position.x,e.position.x),Math.min(this.position.y,e.position.y));return new t(n,new s(Math.max(this.position.x+this.size.x,e.position.x+e.size.x),Math.max(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n))}},{key:"and",value:function(e){var n=new s(Math.max(this.position.x,e.position.x),Math.max(this.position.y,e.position.y)),i=new s(Math.min(this.position.x+this.size.x,e.position.x+e.size.x),Math.min(this.position.y+this.size.y,e.position.y+e.size.y)).sub(n);return i.x<=0||i.y<=0?null:new t(n,i)}},{key:"includePoint",value:function(t){return!(this.position.x>t.x||this.position.x+this.size.x<t.x||this.position.y>t.y||this.position.y+this.size.y<t.y)}},{key:"includeRectangle",value:function(t){return this.includePoint(t.position)&&this.includePoint(t.getP3())}},{key:"moveToBound",value:function(t,e){var n,i;if(e)n=e;else{if(!(i=this.and(t)))return t;n=i.size.x>i.size.y?"y":"x"}var o=this.getCenter(),r=t.getCenter(),s=(o[n]>r[n]?-1:1)>0?this.position[n]+this.size[n]-t.position[n]:this.position[n]-(t.position[n]+t.size[n]);return t.position[n]=t.position[n]+s,t}},{key:"getSquare",value:function(){return this.size.x*this.size.y}},{key:"styleApply",value:function(t){(t=t||document.querySelector("ind")).style.left=this.position.x+"px",t.style.top=this.position.y+"px",t.style.width=this.size.x+"px",t.style.height=this.size.y+"px"}},{key:"growth",value:function(t){this.size=this.size.add(t),this.position=this.position.add(t.mult(-.5))}},{key:"getMinSide",value:function(){return Math.min(this.size.x,this.size.y)}}]),t}(),u={getDistance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},distance:function(t,e){return u.getDistance(t,e)},getXDifference:function(t,e){return Math.abs(t.x-e.x)},getYDifference:function(t,e){return Math.abs(t.y-e.y)},transformedSpaceDistanceFactory:function(t){return function(e,n){return Math.sqrt(Math.pow(t.x*Math.abs(e.x-n.x),2)+Math.pow(t.y*Math.abs(e.y-n.y),2))}},indexOfNearestPoint:function(t,e,n,i){var o,r,s,a=0;if(i=i||u.getDistance,0===t.length)return-1;for(o=i(t[0],e),r=0;r<t.length;r++)(s=i(t[r],e))<o&&(o=s,a=r);return n>=0&&o>n?-1:a},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},boundPoint:function(t,e,n){var i=Math.max(t.x,Math.min(e.x,n.x)),o=Math.max(t.y,Math.min(e.y,n.y));return new s(i,o)},directCrossing:function(t,e,n,i){var o,r,a,u,h,c;return n.x===i.x&&(o=n,n=t,t=o,o=i,i=e,e=o),t.x===e.x?(a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),c=t.x,new s(c,c*a+h)):(r=(e.y-t.y)/(e.x-t.x),u=(e.x*t.y-t.x*e.y)/(e.x-t.x),a=(i.y-n.y)/(i.x-n.x),h=(i.x*n.y-n.x*i.y)/(i.x-n.x),new s(c=(u-h)/(a-r),c*r+u))},boundToSegment:function(t,e,n){var i,o;return(i=u.bound(Math.min(t.x,e.x),Math.max(t.x,e.x),n.x))!==n.x&&(o=i===t.x?t.y:e.y,n=new s(i,o)),(o=u.bound(Math.min(t.y,e.y),Math.max(t.y,e.y),n.y))!==n.y&&(i=o===t.y?t.x:e.x,n=new s(i,o)),n},boundToLine:function(t,e,n){var i=new s(n.x-t.x,n.y-t.y),o=new s(e.x-t.x,e.y-t.y),r=o.x*o.x+o.y*o.y,a=(i.x*o.x+i.y*o.y)/r;return new s(t.x+o.x*a,t.y+o.y*a)},getPointInLine:function(t,e,n){var i=e.x-t.x,o=e.y-t.y;return new s(t.x+n*i,t.y+n*o)},getPointInLineByLenght:function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=n/u.distance(t,e);return new s(t.x+r*i,t.y+r*o)},createRectangleFromElement:function(t,e,n,i){var o=this.getSizeOfElement(t,n);return new a(this.getOffset(t,e||t.parentNode,i),o)},getSumValueOfStyleRule:function(t,e){return e.reduce((function(e,n){return e+parseInt(window.getComputedStyle(t)[n]||0)}),0)},getSizeOfElement:function(t,e){var n=parseInt(window.getComputedStyle(t).width),i=parseInt(window.getComputedStyle(t).height);return e||(n+=this.getSumValueOfStyleRule(t,["padding-left","padding-right","border-left-width","border-right-width"]),i+=this.getSumValueOfStyleRule(t,["padding-top","padding-bottom","border-top-width","border-bottom-width"])),new s(n,i)},getOffset:function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return new s(n.left-i.left,n.top-i.top)},getPointFromRadialSystem:function(t,e,n){return(n=n||new s(0,0)).add(new s(e*Math.cos(t),e*Math.sin(t)))},addPointToBoundPoints:function(t,e,n){for(var i=t.filter((function(t){return t.y>e.y||(n?t.x<e.x:t.x>e.x)})),o=0;o<i.length;o++)if(e.y<i[o].y)return i.splice(o,0,e),i;return i.push(e),i},getAngle:function(t,e){var n=e.sub(t);return this.normalizeAngle(Math.atan2(n.y,n.x))},toRadian:function(t){return t%360*Math.PI/180},toDegree:function(t){return 180*t/Math.PI%360},boundAngle:function(t,e,n){return t<e&&n>t&&n<e?n:e<t&&(n<e||n>t)?n:this.getAngleDiff(t,n)<this.getAngleDiff(e,n)?t:e},getNearestAngle:function(t,e){var n,i,o,r=2*Math.PI;for(n=0;n<t.length;n++)r<(i=u.getAngleDiff(t[n],e))&&(r=i,o=t[n]);return o},getAngleDiff:function(t,e){var n=Math.min(t,e),i=Math.max(t,e);return Math.min(i-n,n+2*Math.PI-i)},normalizeAngle:function(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}}},function(t,e,n){"use strict";function i(t,e){(function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)","g").test(t.className)})(t,e)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function o(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}n.r(e);var r=n(6),s=n(2),a=n(8),u=n.n(a),h=n(7),c=n(0),f=n(4);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"Draggable",(function(){return w})),n.d(e,"events",(function(){return y}));var l={Event:s.a},d="ontouchstart"in window,p={start:"mousedown",move:"mousemove",end:"mouseup"},v={start:"touchstart",move:"touchmove",end:"touchend"},y=d?v:p,b=[],m=u()("transform"),x=u()("transition");function E(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return!1}var w=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i.parent||Object(r.a)(e);this.targets=[],this.options=Object.assign({parent:o,bound:Object(h.b)(o,o),startFilter:!1,isContentBoxSize:!1,position:!1},i),"string"==typeof i.handler?this.handler=e.querySelector(i.handler)||e:this.handler=i.handler||e,this.onEnd=new l.Event(this,{isReverse:!0,isStopOnTrue:!0}),this.onMove=new l.Event(this),this.onStart=new l.Event(this),this.onEnd.add((function(){return n.move(n.position,0,!0,!0)})),i.onEnd&&this.onEnd.add(i.onEnd),i.onMove&&this.onMove.add(i.onMove),i.onStart&&this.onStart.add(i.onStart),this.element=e,this.bound=this.options.bound,function(t){if(b.some((function(e){return t.element===e.element})))throw"for this element Dragee.Draggable is already exist, don't create it twice ";b.push(t)}(this),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this._dragStart=this.dragStart.bind(this),this._dragMove=this.dragMove.bind(this),this._dragEnd=this.dragEnd.bind(this),this.handler.addEventListener(v.start,this._dragStart),this.handler.addEventListener(p.start,this._dragStart),this.bound.refresh&&this.bound.refresh()}},{key:"reinit",value:function(){this.offset=c.a.getOffset(this.element,this.options.parent,!0),this.fixPosition=this.offset,this.position=this.offset,this.options.position?(this.initPosition=this.options.position,this.move(this.initPosition,0,!0,!0)):this.initPosition=this.offset,this.bound.refresh&&this.bound.refresh()}},{key:"getSize",value:function(t){return c.a.getSizeOfElement(this.element,this.options.isContentBoxSize)}},{key:"getPosition",value:function(){return this.position=this.offset.add(this._transformPosition||new c.b(0,0)),this.position}},{key:"getCenter",value:function(){return this.position.add(this.getSize().mult(.5))}},{key:"_setTranslate",value:function(t){this._transformPosition=t;var e=this.element.style[m],n=" translate3d("+t.x+"px,"+t.y+"px, 0px)";window.navigator.userAgent.indexOf("MSIE ")?(n=" translate("+t.x+"px,"+t.y+"px)",/translate\([^)]+\)/.test(e)?e=e.replace(/translate\([^)]+\)/,n):e+=n):/translate3d\([^)]+\)/.test(e)?e=e.replace(/translate3d\([^)]+\)/,n):e+=n,this.element.style[m]=e}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.clone(),n&&(this.fixPosition=t),this.determineDirection(t),this.position=t,x&&(this.element.style[x]=e+"ms"),this._setTranslate(t.sub(this.offset)),i||this.onMove.fire()}},{key:"refreshPosition",value:function(){this.setPosition(this.getPosition())}},{key:"setPosition",value:function(t){t=t.clone(),this.position=t,x&&(this.element.style[x]="0ms"),this._setTranslate(t.sub(this.offset))}},{key:"setZeroTransition",value:function(){x&&(this.element.style[x]="0ms")}},{key:"determineDirection",value:function(t){this.leftDirection=this.position.x<t.x,this.rightDirection=this.position.x>t.x,this.upDirection=this.position.y>t.y,this.downDirection=this.position.y<t.y}},{key:"dragStart",value:function(t){if(this.currentEvent=t,this._enable&&(!this.options.startFilter||this.options.startFilter(t))){var e=d&&t instanceof window.TouchEvent;this._startTouchPoint=new c.b(e?t.changedTouches[0].pageX:t.clientX,e?t.changedTouches[0].pageY:t.clientY),this._startPosition=this.getPosition(),e&&(this._touchId=t.changedTouches[0].identifier),t.stopPropagation(),t.target instanceof window.HTMLInputElement||t.target instanceof window.HTMLInputElement?t.target.focus():t.preventDefault(),document.addEventListener(v.move,this._dragMove),document.addEventListener(p.move,this._dragMove),document.addEventListener(v.end,this._dragEnd),document.addEventListener(p.end,this._dragEnd),this.isDragging=!0,this.onStart.fire(t),i(this.element,"active"),this.onMove.fire(t)}}},{key:"dragMove",value:function(t){var e;this.currentEvent=t;var n=d&&t instanceof window.TouchEvent;if(!n||(e=E(t,this._touchId))){t.stopPropagation(),t.preventDefault();var i=new c.b(n?e.pageX:t.clientX,n?e.pageY:t.clientY),o=this._startPosition.add(i.sub(this._startTouchPoint));o=this.bound(o,this.getSize()),this.touchPoint=i,this.move(o,0)}}},{key:"dragEnd",value:function(t){d&&t instanceof window.TouchEvent&&!E(t,this._touchId)||(t.stopPropagation(),t.preventDefault(),this.onEnd.fire(t),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.isDragging=!1,o(this.element,"active"))}},{key:"getRectangle",value:function(){return new c.c(this.position,this.getSize())}},{key:"refresh",value:function(){this.getSize(!0),this.bound.refresh&&this.bound.refresh()}},{key:"destroy",value:function(){this.handler.removeEventListener(v.start,this._dragStart),this.handler.removeEventListener(p.start,this._dragStart),document.removeEventListener(v.move,this._dragMove),document.removeEventListener(p.move,this._dragMove),document.removeEventListener(v.end,this._dragEnd),document.removeEventListener(p.end,this._dragEnd),this.onEnd.reset(),this.onMove.reset()}},{key:"enable",get:function(){return this._enable},set:function(t){return t?o(this.element,"disable"):i(this.element,"disable"),this._enable=t}}])&&g(e.prototype,n),s&&g(e,s),t}();w.onCreate=new l.Event(w,{isReverse:!0,isStopOnTrue:!0}),w.onCreate.add((function(t){f.b.addDraggable(t)}))},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.funcs=[],this.context=t,this.isReverse=e.isReverse||!1,this.isStopOnTrue=e.isStopOnTrue||!1}i.prototype.fire=function(){for(var t,e=[].slice.call(arguments),n=this.isReverse?this.funcs.slice().reverse():this.funcs,i=0;i<n.length;i++)if(t=n[i].apply(this.context,e),this.isStopOnTrue&&t)return!0;return!this.isStopOnTrue},i.prototype.add=function(t){this.funcs.push(t)},i.prototype.unshift=function(t){this.funcs.unshift(t)},i.prototype.remove=function(t){var e=this.funcs.indexOf(t);-1!==e&&this.funcs.splice(e,1)},i.prototype.reset=function(t){this.funcs=[]},e.a=i},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n--);return t}},function(t,e,n){"use strict";n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return g}));var i=n(3),o=n(2),r=n(1),s=n(5);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u={Event:o.a},h=[],c=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h.forEach((function(t){e&&e.forEach((function(e){Object(i.a)(t.draggables,e)})),n&&n.forEach((function(e){Object(i.a)(t.targets,e)}))})),this.draggables=e||[],this.targets=n||[],h.push(this),this.options={timeEnd:o.timeEnd||400},this.onChange=new u.Event(this),o.onChange&&this.onChange.add(o.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;this.draggables.forEach((function(e){e.onEnd.add((function(){return t.onEnd(e)}))}))}},{key:"addDraggable",value:function(t){var e=this;this.draggables.push(t),t.onEnd.unshift((function(){return e.onEnd(t)}))}},{key:"addTarget",value:function(t){this.targets.push(t)}},{key:"onEnd",value:function(t){var e=this.targets.filter((function(e){return-1!==e.draggables.indexOf(t)})).filter((function(e){return e.catchDraggable(t)})).sort((function(t,e){return t.getRectangle().getSquare()-e.getRectangle().getSquare()}));return e.length?e[0].onEnd(t):t.targets.length&&t.move(t.initPosition,this.options.timeEnd,!0,!0),this.onChange.fire(),!0}},{key:"reset",value:function(){this.targets.forEach((function(t){return t.reset()}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){return t.refresh()})),this.targets.forEach((function(t){return t.refresh()}))}},{key:"positions",get:function(){var t=this;return this.targets.map((function(e){return e.innerDraggables.map((function(e){return t.draggables.indexOf(e)}))}))},set:function(t){var e=this;if(t.length!==this.targets.length)throw"wrong array length";this.targets.forEach((function(t){return t.reset()})),t.forEach((function(t,n){t.forEach((function(t){e.targets[n].add(e.draggables[t])}))}))}}])&&a(e.prototype,n),o&&a(e,o),t}(),f=new c;function g(t){var e=new c,n=function(t){return e.addDraggable(t),!0},i=function(t){return e.addTarget(t),!0};return r.Draggable.onCreate.add(n),s.a.onCreate.add(i),t.call(),r.Draggable.onCreate.remove(n),s.a.onCreate.remove(i),e}function l(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.draggable||{},a=i.target||{},u=i.scope||{};o.parent=o.parent||t,a.parent=a.parent||t,e=Array.prototype.slice.call(e),n=Array.prototype.slice.call(n);var h=e.map((function(t){return new r.Draggable(t,o)})),f=n.map((function(t){return new s.a(t,h,a)}));return new c(h,f,u)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(9),o=n(3),r=n(6),s=n(2),a=n(0),u=n(4),h=n(10);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={Event:s.a},g=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,s=i.parent||Object(r.a)(e);this.options=Object.assign({timeEnd:200,timeExcange:400,parent:s},i),this.positioningStrategy=i.strategy||new h.a(this.getRectangle.bind(this),{radius:80,getDistance:a.a.transformedSpaceDistanceFactory({x:1,y:4}),removable:!0}),this.element=e,n.forEach((function(t){return t.targets.push(o)})),this.draggables=n,this.onAdd=new f.Event(this),this.beforeAdd=new f.Event(this),this.onRemove=new f.Event(this),i.onRemove&&this.onRemove.add(i.onRemove),i.onAdd&&this.onAdd.add(i.onAdd),i.beforeAdd&&this.beforeAdd.add(i.beforeAdd),t.onCreate.fire(this),this.init()}var e,n,s;return e=t,(n=[{key:"positioning",value:function(t,e){return this.positioningStrategy.positioning(t,e)}},{key:"sorting",value:function(t,e,n){return this.positioningStrategy.sorting(t,e,n)}},{key:"init",value:function(){var t,e,n=this;this.innerDraggables=this.draggables.filter((function(t){for(var e=t.element.parentNode;e;){if(e===n.element)return!0;e=e.parentNode}return!1})),this.innerDraggables.length&&(e=Object(i.a)(this.innerDraggables.length),t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e),this.setPosition(t,e),this.innerDraggables.forEach((function(t){return n.onAdd.fire(t)})))}},{key:"getRectangle",value:function(){return a.a.createRectangleFromElement(this.element,this.options.parent,this.options.isContentBoxSize,!0)}},{key:"catchDraggable",value:function(t){if(this.options.catchDraggable)return this.options.catchDraggable(this,t);var e=this.getRectangle();return t.getRectangle().getSquare()<e.getSquare()&&e.includePoint(t.getCenter())}},{key:"getPosition",value:function(){return this.getRectangle().position}},{key:"getSize",value:function(){return this.getRectangle().size}},{key:"destroy",value:function(){var t=this;u.e.forEach((function(e){return Object(o.a)(e.targets,t)}))}},{key:"refresh",value:function(){var t=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(t,[],0)}},{key:"onEnd",value:function(t){var e=[];if(!this.getRectangle().includePoint(t.getPosition())){if(!this.getRectangle().includePoint(t.getCenter()))return!1;t.position=t.getCenter().clone()}this.beforeAdd.fire(t),this.innerDraggables=this.sorting(this.innerDraggables,[t],e);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),e);return this.setPosition(n,e),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t),!0}},{key:"setPosition",value:function(t,e,n){var i=this;this.innerDraggables.slice(0).forEach((function(r,s){var a=t[s],u=n||0===n?n:-1!==e.indexOf(s)?i.options.timeEnd:i.options.timeExcange;a.removable?(r.move(r.initPosition,u,!0,!0),Object(o.a)(i.innerDraggables,r),i.onRemove.fire(r)):r.move(a.position,u,!0,!0)}))}},{key:"add",value:function(t,e){var n=this.innerDraggables.length;this.beforeAdd.fire(t),this.pushInnerDraggable(t);var i=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),n,t);this.setPosition(i,[n],e||0),-1!==this.innerDraggables.indexOf(t)&&this.addRemoveOnMove(t)}},{key:"pushInnerDraggable",value:function(t){-1===this.innerDraggables.indexOf(t)&&this.innerDraggables.push(t)}},{key:"addRemoveOnMove",value:function(t){var e=this;t.onMove.add(this.removeHandler=function(){e.remove(t)}),this.onAdd.fire(t)}},{key:"remove",value:function(t){t.onMove.remove(this.removeHandler);var e=this.innerDraggables.indexOf(t);if(-1!==e){this.innerDraggables.splice(e,1);var n=this.positioning(this.innerDraggables.map((function(t){return t.getRectangle()})),[]);this.setPosition(n,[]),this.onRemove.fire(t)}}},{key:"reset",value:function(){var t=this;this.innerDraggables.forEach((function(e){e.move(e.initPosition,0,!0,!0),t.onRemove.fire(e)})),this.innerDraggables=[]}},{key:"getSortedDraggables",value:function(){this.innerDraggables.slice()}}])&&c(e.prototype,n),s&&c(e,s),t}();g.onCreate=new f.Event(g,{isReverse:!0,isStopOnTrue:!0}),g.onCreate.add((function(t){u.b.addTarget(t)}))},function(t,e,n){"use strict";function i(t){for(var e=t.parentNode;e.parentNode&&"static"===window.getComputedStyle(e).position;)e=e.parentNode;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n(0);function o(t,e){var n,o=function(){return n.apply(this,arguments)};return o.refresh=function(){var o;o=i.a.createRectangleFromElement(t,e),n=function(t,e){var n=t.clone(),i=o.getP3();return o.position.x>n.x&&(n.x=o.position.x),o.position.y>n.y&&(n.y=o.position.y),i.x<n.x+e.x&&(n.x=i.x-e.x),i.y<n.y+e.y&&(n.y=i.y-e.y),n}},o.refresh(),o}function r(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x)+Math.PI/2,o=Math.cos(n),r=Math.sin(n);return function(n,s){var a=new i.b(n.x+10*o,n.y+10*r),u=i.a.getPointInLineByLenght(e,t,s.x),h=i.a.directCrossing(t,e,n,a);return h=i.a.boundToLine(t,u,h)}}function s(t,e,n,o){return function(r,s){var a="function"==typeof n?n():n,u="function"==typeof n?o():o,h=i.a.getAngle(t,r);return h=i.a.normalizeAngle(h),h=i.a.boundAngle(a,u,h),i.a.getPointFromRadialSystem(h,e,t)}}},function(t,e,n){var i;
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */!function(o){"use strict";var r="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;function a(t){if(t){if("string"==typeof s[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=r.length;n<i;n++)if(e=r[n]+t,"string"==typeof s[e])return e}}void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){"use strict";function i(t,e,n){var i=[];if(void 0===e&&(e=t,t=0),void 0===n&&(n=1),n>0&&t>=e||n<0&&t<=e)return[];for(var o=t;n>0?o<e:o>e;o+=n)i.push(o);return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}var g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.rectangle=e,this.options=n}return f(t,[{key:"boundRect",get:function(){return"function"==typeof this.rectangle?this.rectangle():this.rectangle}}]),t}(),l=function(t){function e(){return h(this,e),r(this,s(e).apply(this,arguments))}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,i=t.reduce((function(t,n,i){return-1===e.indexOf(i)&&t.push(i),t}),[]);return e.forEach((function(e){var o=t[e];i.forEach((function(e){var n=t[e];o=n.moveToBound(o)})),i.some((function(e){return!!t[e].and(o)}))||o.and(n.boundRect).getSquare()!==o.getSquare()?o.removable=!0:i.push(e)})),t}},{key:"sorting",value:function(t,e,n){var i=t.concat(e);return e.forEach((function(t){n.push(i.indexOf(t))})),i}}]),e}(g),d=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).options=Object.assign({removable:!0},o),n.radius=o.radius||80,n.paddingTopLeft=o.paddingTopLeft||new i.b(0,0),n.paddingBottomRight=o.paddingBottomRight||new i.b(0,0),n.yGapBetweenDraggables=o.yGapBetweenDraggables||0,n.getDistance=o.getDistance||i.a.getDistance,n.getPosition=o.getPosition||function(t){return t.position},n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=o.getP2(),s=[o.position];return t.forEach((function(t){for(var e,a=!1,u=0;u<s.length&&!(a=(e=new i.b(s[u].x,u>0?s[u-1].y+n.yGapBetweenDraggables:o.position.y).add(n.paddingTopLeft)).x+t.size.x<r.x);u++);a||(e=new i.b(o.position.x,s[s.length-1].y+n.yGapBetweenDraggables).add(n.paddingTopLeft)),t.position=e,n.options.removable&&t.getP3().y>o.getP3().y&&(t.removable=!0),s=i.a.addPointToBoundPoints(s,t.getP3().add(n.paddingBottomRight))})),t}},{key:"sorting",value:function(t,e,n){var o=this,r=t.concat(),s=t.map((function(t){return t.getPosition()}));return e.forEach((function(e){var n=i.a.indexOfNearestPoint(s,o.getPosition(e),o.radius,o.getDistance);n=-1===n?r.length:r.indexOf(t[n]),r.splice(n,0,e)})),e.forEach((function(t){n.push(r.indexOf(t))})),r}}]),e}(g),p=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,e),(n=r(this,s(e).call(this,t,o))).paddingTopRight=o.paddingTopRight||new i.b(5,5),n.paddingBottomLeft=o.paddingBottomLeft||new i.b(0,0),n.paddingTopNegRight=new i.b(-n.paddingTopRight.x,n.paddingTopRight.y),n.paddingBottomNegLeft=new i.b(-n.paddingBottomLeft.x,n.paddingBottomLeft.y),n}return a(e,t),f(e,[{key:"positioning",value:function(t,e){var n=this,o=this.boundRect,r=[o.getRightTopPoint()];return t.forEach((function(t,e){for(var s,a=!1,u=0;u<r.length&&!(a=(s=new i.b(r[u].x-t.size.x,u>0?r[u-1].y:o.position.y).add(n.paddingTopNegRight)).x>t.position.x);u++);a||(s=new i.b(o.getP2().x,r[r.length-1].y)),t.position=s,n.options.removable&&t.getLeftBottomPoint().y>o.getP4().y&&(t.removable=!0),r=i.a.addPointToBoundPoints(r,t.getP4().add(n.paddingBottomNegLeft),!0)})),t}}]),e}(d)},function(t,e,n){"use strict";n.r(e);var i=function(t,e,n){var i,o=t.length;if(!(e>=o||0===n)){var r=o-(n=e+n>o?o-e:n);for(i=e;i<r;++i)t[i]=t[i+n];t.length=r}},o=n(2),r=n(0),s=n(1);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"List",(function(){return h})),n.d(e,"listFactory",(function(){return c}));var u={Event:o.a},h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({timeEnd:200,timeExcange:400,radius:30,getDistance:r.a.getDistance,isDisplacement:!1,isSortable:!0},n),this.draggables=e,this.onChange=new u.Event(this),n.onChange&&this.onChange.add(n.onChange),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){this._enable=!0,this.draggables.forEach(this.initDraggable,this)}},{key:"initDraggable",value:function(t){var e,n=this,i=this;t.enable=this._enable,this.options.isDisplacement?(e=function(){if(t.isDragging)return i.onStart(t),t.onMove.remove(e),!0},t.onEnd.add((function(){return n.onEndDisplaycement(t),t.onMove.add(e),!0})),t.onMove.add(e)):t.onEnd.add((function(){return n.onEnd(t),!0}))}},{key:"moveOrSave",value:function(t,e,n){t.isDragging?t.fixPosition=e:t.move(e,n,!0)}},{key:"onEnd",value:function(t){var e=this.getCurrentFixPosition(),n=this.draggables.indexOf(t),i=r.a.indexOfNearestPoint(e,t.position,this.options.radius,this.options.getDistance);return-1===i||i===n?t.move(t.fixPosition,this.options.timeEnd,!0):(this.moveOrSave(this.draggables[i],e[n],this.options.timeExcange),this.draggables[n].move(e[i],this.options.timeEnd,!0),this.onChange.fire()),!0}},{key:"sortIfPossible",value:function(t){var e=t.fixPosition,n=this.draggables.indexOf(t),i=this.draggables[n+1],o=this.draggables[n-1];if(t.downDirection&&i&&this.options.getDistance(t.position,i.position)<this.options.radius){t.fixPosition=i.fixPosition,this.moveOrSave(i,e,this.options.timeExcange);var r=[this.draggables[n+1],this.draggables[n]];this.draggables[n]=r[0],this.draggables[n+1]=r[1],this.sortIfPossible(t)}if(t.upDirection&&o&&this.options.getDistance(t.position,o.position)<this.options.radius){t.fixPosition=o.fixPosition,this.moveOrSave(o,e,this.options.timeExcange);var s=[this.draggables[n-1],this.draggables[n]];this.draggables[n]=s[0],this.draggables[n-1]=s[1],this.sortIfPossible(t)}}},{key:"onEndDisplaycement",value:function(t){var e=this.getSortedDraggables(),n=e.map((function(t){return t.fixPosition})),i=e.indexOf(t),o=r.a.indexOfNearestPoint(n,t.position,this.options.radius,this.options.getDistance);if(-1!==o){if(o<i)for(var s=o;s<i;s++)this.moveOrSave(e[s],n[s+1],this.options.timeExcange);else for(var a=i;a<o;a++)this.moveOrSave(e[a+1],n[a],this.options.timeExcange);t.move(n[o],this.options.timeEnd,!0)}else t.move(t.fixPosition,this.options.timeEnd,!0)}},{key:"onStart",value:function(t){var e,n=this.getSortedDraggables(),i=n.map((function(t){return t.fixPosition})),o=n.indexOf(t);for(e=o+1;e<n.length;e++)this.moveOrSave(n[e],i[e-1],this.options.timeExcange);n[o].fixPosition=i[e-1]}},{key:"getCurrentFixPosition",value:function(){return this.draggables.map((function(t){return t.fixPosition.clone()}))}},{key:"getSortedDraggables",value:function(){var t=this;return this.draggables.map((function(t){return t.initPosition})).map((function(e){return t.draggables.filter((function(t){return t.fixPosition.compare(e)}))[0]}))}},{key:"reset",value:function(){this.draggables.forEach((function(t){t.move(t.initPosition,0,!0,!1)}))}},{key:"refresh",value:function(){this.draggables.forEach((function(t){t.refresh()}))}},{key:"add",value:function(t){t instanceof Array||(t=[t]),t.forEach(this.initDraggable,this),this.draggables=this.draggables.concat(t)}},{key:"remove",value:function(t){var e=this,n=this.draggables.map((function(t){return t.initPosition})),o=[],r=this.getSortedDraggables();t instanceof Array||(t=[t]),t.forEach((function(t){t.onEnd.reset(),t.onMove.reset(),i(e.draggables,t)}));var s=0;r.forEach((function(t){-1!==e.draggables.indexOf(t)&&(t.fixPosition!==n[s]&&t.move(n[s],e.options.timeExcange,!0),t.initPosition=n[s],s++,o.push(t))})),this.draggables=o}},{key:"clear",value:function(){this.remove(this.draggables.slice())}},{key:"destroy",value:function(){this.draggables.forEach((function(t){return t.destroy()}))}},{key:"positions",get:function(){return this.getCurrentFixPosition()},set:function(t){var e=this;if(t.length!==this.draggables.length)throw"wrong array length";t.forEach((function(t,n){e.draggables[n].move(t,0,!0,!0)}),this)}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t,this.draggables.forEach((function(e){e.enable=t}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.draggable||{},o=n.list||{};i.parent=i.parent||t;var r=(e=Array.prototype.slice.call(e)).map((function(t){return new s.Draggable(t,i)}));return new h(r,o)}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZWUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0RyYWdlZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZ2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL2NsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtLmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy9zY29wZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvdGFyZ2V0LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2JvdW5kLmpzIiwid2VicGFjazovL0RyYWdlZS8uL25vZGVfbW9kdWxlcy9kZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL0RyYWdlZS8uL3NyYy91dGlscy9yYW5nZS5qcyIsIndlYnBhY2s6Ly9EcmFnZWUvLi9zcmMvcG9zaXRpb25pbmcuanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vbm9kZV9tb2R1bGVzL3JlbW92ZS1hcnJheS1pdGVtcy9kaXN0L3JlbW92ZS1hcnJheS1pdGVtcy5lc20uanMiLCJ3ZWJwYWNrOi8vRHJhZ2VlLy4vc3JjL2xpc3QuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlBvaW50IiwieCIsInkiLCJ0aGlzIiwiayIsIlJlY3RhbmdsZSIsInBvc2l0aW9uIiwic2l6ZSIsImFkZCIsIm11bHQiLCJyZWN0IiwiTWF0aCIsIm1pbiIsIm1heCIsInN1YiIsInJlY3RhbmdsZSIsImluY2x1ZGVQb2ludCIsImdldFAzIiwiYXhpcyIsInNlbEF4aXMiLCJjcm9zc1JlY3RhbmdsZSIsImFuZCIsInRoaXNDZW50ZXIiLCJnZXRDZW50ZXIiLCJyZWN0Q2VudGVyIiwib2Zmc2V0IiwiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsIkdlb21ldHJ5IiwiZ2V0RGlzdGFuY2UiLCJwMSIsInAyIiwiZHgiLCJkeSIsInNxcnQiLCJkaXN0YW5jZSIsImdldFhEaWZmZXJlbmNlIiwiYWJzIiwiZ2V0WURpZmZlcmVuY2UiLCJ0cmFuc2Zvcm1lZFNwYWNlRGlzdGFuY2VGYWN0b3J5Iiwib3B0aW9ucyIsInBvdyIsImluZGV4T2ZOZWFyZXN0UG9pbnQiLCJhcnIiLCJ2YWwiLCJyYWRpdXMiLCJ0ZW1wIiwiaW5kZXgiLCJsZW5ndGgiLCJib3VuZCIsImJvdW5kUG9pbnQiLCJkaXJlY3RDcm9zc2luZyIsIkwxUDEiLCJMMVAyIiwiTDJQMSIsIkwyUDIiLCJrMSIsImsyIiwiYjEiLCJiMiIsImJvdW5kVG9TZWdtZW50IiwiTFAxIiwiTFAyIiwiUCIsImJvdW5kVG9MaW5lIiwiQSIsIkIiLCJBUCIsIkFCIiwiYWIyIiwiZ2V0UG9pbnRJbkxpbmUiLCJwZXJjZW50IiwiZ2V0UG9pbnRJbkxpbmVCeUxlbmdodCIsImxlbmdodCIsImNyZWF0ZVJlY3RhbmdsZUZyb21FbGVtZW50IiwicGFyZW50IiwiaXNDb250ZW50Qm94U2l6ZSIsImlzQ29uc2lkZXJUcmFuc2xhdGUiLCJnZXRTaXplT2ZFbGVtZW50IiwiZ2V0T2Zmc2V0IiwicGFyZW50Tm9kZSIsImdldFN1bVZhbHVlT2ZTdHlsZVJ1bGUiLCJlbGVtZW50IiwicnVsZXMiLCJyZWR1Y2UiLCJzdW0iLCJydWxlIiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZWxSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50UmVjdCIsImdldFBvaW50RnJvbVJhZGlhbFN5c3RlbSIsImFuZ2xlIiwiY2VudGVyIiwiY29zIiwic2luIiwiYWRkUG9pbnRUb0JvdW5kUG9pbnRzIiwiYm91bmRwb2ludHMiLCJwb2ludCIsImlzUmlnaHQiLCJyZXN1bHQiLCJmaWx0ZXIiLCJiUG9pbnQiLCJzcGxpY2UiLCJwdXNoIiwiZ2V0QW5nbGUiLCJkaWZmIiwibm9ybWFsaXplQW5nbGUiLCJhdGFuMiIsInRvUmFkaWFuIiwiUEkiLCJ0b0RlZ3JlZSIsImJvdW5kQW5nbGUiLCJnZXRBbmdsZURpZmYiLCJnZXROZWFyZXN0QW5nbGUiLCJhbHBoYSIsImJldGEiLCJtaW5BbmdsZSIsIm1heEFuZ2xlIiwiYWRkQ2xhc3MiLCJSZWdFeHAiLCJ0ZXN0IiwiY2xhc3NOYW1lIiwiaGFzQ2xhc3MiLCJyZXBsYWNlIiwicmVtb3ZlQ2xhc3MiLCJyZSIsIkRyYWdlZSIsIkV2ZW50IiwiaXNUb3VjaCIsIm1vdXNlRXZlbnRzIiwic3RhcnQiLCJtb3ZlIiwiZW5kIiwidG91Y2hFdmVudHMiLCJldmVudHMiLCJkcmFnZ2FibGVzIiwidHJhbnNmb3JtUHJvcGVydHkiLCJnZXRTdHlsZVByb3BlcnR5IiwidHJhbnNpdGlvblByb3BlcnR5IiwiZ2V0VG91Y2hCeUlEIiwidG91Y2hJZCIsImNoYW5nZWRUb3VjaGVzIiwiaWRlbnRpZmllciIsIkRyYWdnYWJsZSIsImdldERlZmF1bHRQYXJlbnQiLCJ0YXJnZXRzIiwiYXNzaWduIiwiYm91bmRUb0VsZW1lbnQiLCJzdGFydEZpbHRlciIsImhhbmRsZXIiLCJvbkVuZCIsImlzUmV2ZXJzZSIsImlzU3RvcE9uVHJ1ZSIsIm9uTW92ZSIsIm9uU3RhcnQiLCJkcmFnZ2FibGUiLCJzb21lIiwiZXhpc3RpbmciLCJwcmV2ZW50RG91YmxlSW5pdCIsIm9uQ3JlYXRlIiwiZmlyZSIsImluaXQiLCJfZW5hYmxlIiwiZml4UG9zaXRpb24iLCJpbml0UG9zaXRpb24iLCJfZHJhZ1N0YXJ0IiwiZHJhZ1N0YXJ0IiwiX2RyYWdNb3ZlIiwiZHJhZ01vdmUiLCJfZHJhZ0VuZCIsImRyYWdFbmQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsIl9yZWNhbHVsYXRlIiwiX3RyYW5zZm9ybVBvc2l0aW9uIiwiZ2V0U2l6ZSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZUNzcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJ0aW1lIiwiaXNGaXgiLCJpc1NpbGVudCIsImNsb25lIiwiZGV0ZXJtaW5lRGlyZWN0aW9uIiwiX3NldFRyYW5zbGF0ZSIsInNldFBvc2l0aW9uIiwiZ2V0UG9zaXRpb24iLCJsZWZ0RGlyZWN0aW9uIiwicmlnaHREaXJlY3Rpb24iLCJ1cERpcmVjdGlvbiIsImRvd25EaXJlY3Rpb24iLCJldmVudCIsImN1cnJlbnRFdmVudCIsImlzVG91Y2hFdmVudCIsIlRvdWNoRXZlbnQiLCJfc3RhcnRUb3VjaFBvaW50IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiX3N0YXJ0UG9zaXRpb24iLCJfdG91Y2hJZCIsInN0b3BQcm9wYWdhdGlvbiIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJmb2N1cyIsInByZXZlbnREZWZhdWx0IiwiaXNEcmFnZ2luZyIsInRvdWNoIiwidG91Y2hQb2ludCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXNldCIsImVuYWJsZSIsImRlZmF1bHRTY29wZSIsImFkZERyYWdnYWJsZSIsImNvbnRleHQiLCJmdW5jcyIsInJldFZhbHVlIiwiYXJncyIsInNsaWNlIiwiYXJndW1lbnRzIiwiZnMiLCJyZXZlcnNlIiwiYXBwbHkiLCJmIiwidW5zaGlmdCIsInJlbW92ZSIsIl9mIiwiYXJyYXkiLCJzY29wZXMiLCJTY29wZSIsImZvckVhY2giLCJzY29wZSIsInJlbW92ZUl0ZW0iLCJ0aW1lRW5kIiwib25DaGFuZ2UiLCJzaG90VGFyZ2V0cyIsImNhdGNoRHJhZ2dhYmxlIiwic29ydCIsImEiLCJiIiwiZ2V0UmVjdGFuZ2xlIiwiZ2V0U3F1YXJlIiwibWFwIiwiaW5uZXJEcmFnZ2FibGVzIiwicG9zaXRpb25zIiwidGFyZ2V0SW5kZXhlcyIsImZuIiwiY3VycmVudFNjb3BlIiwiYWRkRHJhZ2dhYmxlVG9TY29wZSIsImFkZFRhcmdldFRvU2NvcGUiLCJhZGRUYXJnZXQiLCJUYXJnZXQiLCJzY29wZUZhY3RvcnkiLCJwYXJlbnRFbGVtZW50IiwiZHJhZ2dhYmxlRWxlbWVudHMiLCJ0YXJnZXRFbGVtZW50cyIsImRyYWdnYWJsZU9wdGlvbnMiLCJ0YXJnZXRPcHRpb25zIiwic2NvcGVPcHRpb25zIiwiQXJyYXkiLCJ0aW1lRXhjYW5nZSIsInBvc2l0aW9uaW5nU3RyYXRlZ3kiLCJzdHJhdGVneSIsIkZsb2F0TGVmdFN0cmF0ZWd5IiwicmVtb3ZhYmxlIiwib25BZGQiLCJiZWZvcmVBZGQiLCJvblJlbW92ZSIsImluZGV4ZXNPZk5ldyIsInBvc2l0aW9uaW5nIiwib2xkRHJhZ2dhYmxlcyIsIm5ld0RyYWdnYWJsZXMiLCJpbmRleE9mTmV3cyIsInNvcnRpbmciLCJyZWN0YW5nbGVzIiwicmFuZ2UiLCJ0YXJnZXRSZWN0YW5nbGUiLCJuZXdEcmFnZ2FibGVzSW5kZXgiLCJhZGRSZW1vdmVPbk1vdmUiLCJwdXNoSW5uZXJEcmFnZ2FibGUiLCJyZW1vdmVIYW5kbGVyIiwicmV0RnVuYyIsImNhbGNQb2ludCIsInJlY3RQMiIsImNvc0JldGEiLCJzaW5CZXRhIiwicG9pbnQyIiwibmV3RW5kIiwicG9pbnRDcm9zc2luZyIsImJvdW5kVG9BcmMiLCJzdGFydEFnbGUiLCJlbmRBbmdsZSIsIl9zaXplIiwiYm91bmRTdGFydEFuZ2xlIiwiYm91bmRFbmR0QW5nbGUiLCJwcmVmaXhlcyIsInNwbGl0IiwiZG9jRWxlbVN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwicHJvcE5hbWUiLCJwcmVmaXhlZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibGVuIiwic3RvcCIsInN0ZXAiLCJCYXNpY1N0cmF0ZWd5IiwiTm90Q3Jvc3NpbmdTdHJhdGVneSIsInJlY3RhbmdsZUxpc3QiLCJpbmRleGVzT2ZOZXdzIiwic3RhdGljUmVjdGFuZ2xlSW5kZXhlcyIsImluZGV4ZXMiLCJfcmVjdCIsImluZGV4T2ZTdGF0aWMiLCJzdGF0aWNSZWN0IiwibW92ZVRvQm91bmQiLCJib3VuZFJlY3QiLCJvZGxEcmFnZ2FibGVzTGlzdCIsImNvbmNhdCIsInBhZGRpbmdUb3BMZWZ0IiwicGFkZGluZ0JvdHRvbVJpZ2h0IiwieUdhcEJldHdlZW5EcmFnZ2FibGVzIiwiX2luZGV4ZXNPZk5ld3MiLCJnZXRQMiIsImJvdW5kYXJ5UG9pbnRzIiwiaXNWYWxpZCIsIm5ld0xpc3QiLCJsaXN0T2xkUG9zaXRpb24iLCJuZXdEcmFnZ2FibGUiLCJGbG9hdFJpZ2h0U3RyYXRlZ3kiLCJwYWRkaW5nVG9wUmlnaHQiLCJwYWRkaW5nQm90dG9tTGVmdCIsInBhZGRpbmdUb3BOZWdSaWdodCIsInBhZGRpbmdCb3R0b21OZWdMZWZ0IiwiZ2V0UmlnaHRUb3BQb2ludCIsIl9pbmRleCIsImdldExlZnRCb3R0b21Qb2ludCIsImdldFA0Iiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIkxpc3QiLCJpc0Rpc3BsYWNlbWVudCIsImlzU29ydGFibGUiLCJpbml0RHJhZ2dhYmxlIiwibW92ZUhhbmRsZXIiLCJsaXN0Iiwib25FbmREaXNwbGF5Y2VtZW50IiwiZml4UG9zaXRpb25zIiwiZ2V0Q3VycmVudEZpeFBvc2l0aW9uIiwiY3VycmVudEluZGV4IiwiZXhjYW5nZUluZGV4IiwibW92ZU9yU2F2ZSIsIm5leHREcmFnZ2FibGUiLCJwcmV2RHJhZ2dhYmxlIiwic29ydElmUG9zc2libGUiLCJzb3J0ZWREcmFnZ2FibGVzIiwiZ2V0U29ydGVkRHJhZ2dhYmxlcyIsInRhcmdldEluZGV4IiwiY29tcGFyZSIsImluaXRQb3NpdGlvbnMiLCJqIiwiZGVzdHJveSIsImxpc3RGYWN0b3J5IiwiZWxlbWVudHMiLCJsaXN0T3B0aW9ucyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxTQUFVLEdBQUlILEdBQ0ssaUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELElBRXBCRCxFQUFhLE9BQUlDLElBUm5CLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFDbENHLE9BQU9DLGVBQWVuQixFQUFTZSxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTdEIsR0FDWCxvQkFBWHVCLFFBQTBC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LFNBQUNySyxHQUMvQixPQUFPLElBQUkrRCxZQUFVL0QsRUFBU21MLE1BR2hDLE9BQU8sSUFBSW9GLEVBQUtoTixFQUFZd08iLCJmaWxlIjoibGlzdC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkRyYWdlZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJEcmFnZWVcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiRHJhZ2VlXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTEpO1xuIiwiY2xhc3MgUG9pbnQge1xuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgfVxuXG4gIGFkZChwKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyBwLngsIHRoaXMueSArIHAueSlcbiAgfVxuXG4gIHN1YihwKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBwLngsIHRoaXMueSAtIHAueSlcbiAgfVxuXG4gIG11bHQoaykge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICogaywgdGhpcy55ICogaylcbiAgfVxuXG4gIG5lZ2F0aXZlKCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQoLXRoaXMueCwgLXRoaXMueSlcbiAgfVxuXG4gIGNvbXBhcmUocCkge1xuICAgIHJldHVybiAodGhpcy54ID09PSBwLnggJiYgdGhpcy55ID09PSBwLnkpXG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGB7eD0ke3RoaXMueH0seT0ke3RoaXMueX1gXG4gIH1cbn1cblxuY2xhc3MgUmVjdGFuZ2xlIHtcbiAgY29uc3RydWN0b3IocG9zaXRpb24sIHNpemUpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb25cbiAgICB0aGlzLnNpemUgPSBzaXplXG4gIH1cblxuICBnZXRQMSgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblxuICB9XG5cbiAgZ2V0UDIoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgdGhpcy5wb3NpdGlvbi55KVxuICB9XG5cbiAgZ2V0UDMoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWRkKHRoaXMuc2l6ZSlcbiAgfVxuXG4gIGdldFA0KCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSlcbiAgfVxuXG4gIGdldENlbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGQodGhpcy5zaXplLm11bHQoMC41KSlcbiAgfVxuXG4gIG9yKHJlY3QpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb2ludChNYXRoLm1pbih0aGlzLnBvc2l0aW9uLngsIHJlY3QucG9zaXRpb24ueCksIE1hdGgubWluKHRoaXMucG9zaXRpb24ueSwgcmVjdC5wb3NpdGlvbi55KSlcbiAgICBjb25zdCBzaXplID0gKG5ldyBQb2ludChNYXRoLm1heCh0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgcmVjdC5wb3NpdGlvbi54ICsgcmVjdC5zaXplLngpLCBNYXRoLm1heCh0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSwgcmVjdC5wb3NpdGlvbi55ICsgcmVjdC5zaXplLnkpKSkuc3ViKHBvc2l0aW9uKVxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHBvc2l0aW9uLCBzaXplKVxuICB9XG5cbiAgYW5kKHJlY3QpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb2ludChNYXRoLm1heCh0aGlzLnBvc2l0aW9uLngsIHJlY3QucG9zaXRpb24ueCksIE1hdGgubWF4KHRoaXMucG9zaXRpb24ueSwgcmVjdC5wb3NpdGlvbi55KSlcbiAgICBjb25zdCBzaXplID0gKG5ldyBQb2ludChNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCwgcmVjdC5wb3NpdGlvbi54ICsgcmVjdC5zaXplLngpLCBNYXRoLm1pbih0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueSwgcmVjdC5wb3NpdGlvbi55ICsgcmVjdC5zaXplLnkpKSkuc3ViKHBvc2l0aW9uKVxuICAgIGlmIChzaXplLnggPD0gMCB8fCBzaXplLnkgPD0gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUocG9zaXRpb24sIHNpemUpXG4gIH1cblxuICBpbmNsdWRlUG9pbnQocCkge1xuICAgIHJldHVybiAhKHRoaXMucG9zaXRpb24ueCA+IHAueCB8fCB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUueCA8IHAueCB8fCB0aGlzLnBvc2l0aW9uLnkgPiBwLnkgfHwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnkgPCBwLnkpXG4gIH1cblxuICBpbmNsdWRlUmVjdGFuZ2xlKHJlY3RhbmdsZSkge1xuICAgIHJldHVybiB0aGlzLmluY2x1ZGVQb2ludChyZWN0YW5nbGUucG9zaXRpb24pICYmIHRoaXMuaW5jbHVkZVBvaW50KHJlY3RhbmdsZS5nZXRQMygpKVxuICB9XG5cbiAgbW92ZVRvQm91bmQocmVjdCwgYXhpcykge1xuICAgIGxldCBzZWxBeGlzLCBjcm9zc1JlY3RhbmdsZVxuICAgIGlmIChheGlzKSB7XG4gICAgICBzZWxBeGlzID0gYXhpc1xuICAgIH0gZWxzZSB7XG4gICAgICBjcm9zc1JlY3RhbmdsZSA9IHRoaXMuYW5kKHJlY3QpXG4gICAgICBpZiAoIWNyb3NzUmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiByZWN0XG4gICAgICB9XG4gICAgICBzZWxBeGlzID0gY3Jvc3NSZWN0YW5nbGUuc2l6ZS54ID4gY3Jvc3NSZWN0YW5nbGUuc2l6ZS55ID8gJ3knIDogJ3gnXG4gICAgfVxuICAgIGNvbnN0IHRoaXNDZW50ZXIgPSB0aGlzLmdldENlbnRlcigpXG4gICAgY29uc3QgcmVjdENlbnRlciA9IHJlY3QuZ2V0Q2VudGVyKClcbiAgICBjb25zdCBzaWduID0gdGhpc0NlbnRlcltzZWxBeGlzXSA+IHJlY3RDZW50ZXJbc2VsQXhpc10gPyAtMSA6IDFcbiAgICBjb25zdCBvZmZzZXQgPSBzaWduID4gMCA/IHRoaXMucG9zaXRpb25bc2VsQXhpc10gKyB0aGlzLnNpemVbc2VsQXhpc10gLSByZWN0LnBvc2l0aW9uW3NlbEF4aXNdIDogdGhpcy5wb3NpdGlvbltzZWxBeGlzXSAtIChyZWN0LnBvc2l0aW9uW3NlbEF4aXNdICsgcmVjdC5zaXplW3NlbEF4aXNdKVxuICAgIHJlY3QucG9zaXRpb25bc2VsQXhpc10gPSByZWN0LnBvc2l0aW9uW3NlbEF4aXNdICsgb2Zmc2V0XG4gICAgcmV0dXJuIHJlY3RcbiAgfVxuXG4gIGdldFNxdWFyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplLnggKiB0aGlzLnNpemUueVxuICB9XG5cbiAgc3R5bGVBcHBseShlbCkge1xuICAgIGVsID0gZWwgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5kJylcbiAgICBlbC5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi54ICsgJ3B4J1xuICAgIGVsLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24ueSArICdweCdcbiAgICBlbC5zdHlsZS53aWR0aCA9IHRoaXMuc2l6ZS54ICsgJ3B4J1xuICAgIGVsLnN0eWxlLmhlaWdodCA9IHRoaXMuc2l6ZS55ICsgJ3B4J1xuICB9XG5cbiAgZ3Jvd3RoKHNpemUpIHtcbiAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUuYWRkKHNpemUpXG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uYWRkKHNpemUubXVsdCgtMC41KSlcbiAgfVxuXG4gIGdldE1pblNpZGUoKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSlcbiAgfVxufVxuXG4vKioqKioqKioqKioqKioqKiovXG5jb25zdCBHZW9tZXRyeSA9IHtcbiAgZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gICAgY29uc3QgZHggPSBwMS54IC0gcDIueCwgZHkgPSBwMS55IC0gcDIueVxuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gIH0sXG4gIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBHZW9tZXRyeS5nZXREaXN0YW5jZShwMSwgcDIpXG4gIH0sXG4gIGdldFhEaWZmZXJlbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLmFicyhwMS54IC0gcDIueClcbiAgfSxcbiAgZ2V0WURpZmZlcmVuY2UocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHAxLnkgLSBwMi55KVxuICB9LFxuICB0cmFuc2Zvcm1lZFNwYWNlRGlzdGFuY2VGYWN0b3J5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKHAxLCBwMikgPT4ge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChcbiAgICAgICAgTWF0aC5wb3cob3B0aW9ucy54ICogTWF0aC5hYnMocDEueCAtIHAyLngpLCAyKSArXG4gICAgICAgIE1hdGgucG93KG9wdGlvbnMueSAqIE1hdGguYWJzKHAxLnkgLSBwMi55KSwgMilcbiAgICAgIClcbiAgICB9XG4gIH0sXG4gIGluZGV4T2ZOZWFyZXN0UG9pbnQoYXJyLCB2YWwsIHJhZGl1cywgZ2V0RGlzdGFuY2UpIHtcbiAgICBsZXQgc2l6ZSwgaW5kZXggPSAwLCBpLCB0ZW1wXG4gICAgZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZSB8fCBHZW9tZXRyeS5nZXREaXN0YW5jZVxuICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgc2l6ZSA9IGdldERpc3RhbmNlKGFyclswXSwgdmFsKVxuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRlbXAgPSBnZXREaXN0YW5jZShhcnJbaV0sIHZhbClcbiAgICAgIGlmICh0ZW1wIDwgc2l6ZSkge1xuICAgICAgICBzaXplID0gdGVtcFxuICAgICAgICBpbmRleCA9IGlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJhZGl1cyA+PSAwICYmIHNpemUgPiByYWRpdXMpIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXhcbiAgfSxcbiAgYm91bmQobWluLCBtYXgsIHZhbCkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsKSlcbiAgfSxcbiAgYm91bmRQb2ludChtaW4sIG1heCwgdmFsKSB7XG4gICAgY29uc3QgeCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdmFsLngpKVxuICAgIGNvbnN0IHkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHZhbC55KSlcbiAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gIH0sXG4gICAgLy9SZXR1cm4gY3Jvc3NpbmcgcG9pbnQgb2YgdHdvIGxpbmVzXG4gIGRpcmVjdENyb3NzaW5nKEwxUDEsIEwxUDIsIEwyUDEsIEwyUDIpIHtcbiAgICBsZXQgdGVtcCwgazEsIGsyLCBiMSwgYjIsIHgsIHlcbiAgICBpZiAoTDJQMS54ID09PSBMMlAyLngpIHtcbiAgICAgIHRlbXAgPSBMMlAxXG4gICAgICBMMlAxID0gTDFQMVxuICAgICAgTDFQMSA9IHRlbXBcbiAgICAgIHRlbXAgPSBMMlAyXG4gICAgICBMMlAyID0gTDFQMlxuICAgICAgTDFQMiA9IHRlbXBcbiAgICB9XG4gICAgaWYgKEwxUDEueCA9PT0gTDFQMi54KSB7XG4gICAgICBrMiA9IChMMlAyLnkgLSBMMlAxLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIGIyID0gKEwyUDIueCAqIEwyUDEueSAtIEwyUDEueCAqIEwyUDIueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgeCA9IEwxUDEueFxuICAgICAgeSA9IHggKiBrMiArIGIyXG4gICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGsxID0gKEwxUDIueSAtIEwxUDEueSkgLyAoTDFQMi54IC0gTDFQMS54KVxuICAgICAgYjEgPSAoTDFQMi54ICogTDFQMS55IC0gTDFQMS54ICogTDFQMi55KSAvIChMMVAyLnggLSBMMVAxLngpXG4gICAgICBrMiA9IChMMlAyLnkgLSBMMlAxLnkpIC8gKEwyUDIueCAtIEwyUDEueClcbiAgICAgIGIyID0gKEwyUDIueCAqIEwyUDEueSAtIEwyUDEueCAqIEwyUDIueSkgLyAoTDJQMi54IC0gTDJQMS54KVxuICAgICAgeCA9IChiMSAtIGIyKSAvIChrMiAtIGsxKVxuICAgICAgeSA9IHggKiBrMSArIGIxXG4gICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpXG4gICAgfVxuICB9LFxuICBib3VuZFRvU2VnbWVudChMUDEsIExQMiwgUCkge1xuICAgIGxldCB4LCB5XG4gICAgeCA9IEdlb21ldHJ5LmJvdW5kKE1hdGgubWluKExQMS54LCBMUDIueCksIE1hdGgubWF4KExQMS54LCBMUDIueCksIFAueClcbiAgICBpZiAoeCAhPT0gUC54KSB7XG4gICAgICB5ID0gKHggPT09IExQMS54KSA/IExQMS55IDogTFAyLnlcbiAgICAgIFAgPSBuZXcgUG9pbnQoeCwgeSlcbiAgICB9XG5cbiAgICB5ID0gR2VvbWV0cnkuYm91bmQoTWF0aC5taW4oTFAxLnksIExQMi55KSwgTWF0aC5tYXgoTFAxLnksIExQMi55KSwgUC55KVxuICAgIGlmICh5ICE9PSBQLnkpIHtcbiAgICAgIHggPSAoeSA9PT0gTFAxLnkpID8gTFAxLnggOiBMUDIueFxuICAgICAgUCA9IG5ldyBQb2ludCh4LCB5KVxuICAgIH1cblxuICAgIHJldHVybiBQXG4gIH0sXG4gIGJvdW5kVG9MaW5lKEEsIEIsIFApIHtcbiAgICBjb25zdCBBUCA9IG5ldyBQb2ludChQLnggLSBBLngsIFAueSAtIEEueSksXG4gICAgICBBQiA9IG5ldyBQb2ludChCLnggLSBBLngsIEIueSAtIEEueSksXG4gICAgICBhYjIgPSBBQi54ICogQUIueCArIEFCLnkgKiBBQi55LFxuICAgICAgYXBfYWIgPSBBUC54ICogQUIueCArIEFQLnkgKiBBQi55LFxuICAgICAgdCA9IGFwX2FiIC8gYWIyXG4gICAgcmV0dXJuIG5ldyBQb2ludChBLnggKyBBQi54ICogdCwgQS55ICsgQUIueSAqIHQpXG4gIH0sXG4gIGdldFBvaW50SW5MaW5lKExQMSwgTFAyLCBwZXJjZW50KSB7XG4gICAgY29uc3QgZHggPSBMUDIueCAtIExQMS54LCBkeSA9IExQMi55IC0gTFAxLnlcbiAgICByZXR1cm4gbmV3IFBvaW50KExQMS54ICsgcGVyY2VudCAqIGR4LCBMUDEueSArIHBlcmNlbnQgKiBkeSlcbiAgfSxcbiAgZ2V0UG9pbnRJbkxpbmVCeUxlbmdodChMUDEsIExQMiwgbGVuZ2h0KSB7XG4gICAgY29uc3QgZHggPSBMUDIueCAtIExQMS54LCBkeSA9IExQMi55IC0gTFAxLnksIHBlcmNlbnQgPSBsZW5naHQgLyBHZW9tZXRyeS5kaXN0YW5jZShMUDEsIExQMilcbiAgICByZXR1cm4gbmV3IFBvaW50KExQMS54ICsgcGVyY2VudCAqIGR4LCBMUDEueSArIHBlcmNlbnQgKiBkeSlcbiAgfSxcbiAgY3JlYXRlUmVjdGFuZ2xlRnJvbUVsZW1lbnQoZWwsIHBhcmVudCwgaXNDb250ZW50Qm94U2l6ZSwgaXNDb25zaWRlclRyYW5zbGF0ZSkge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemVPZkVsZW1lbnQoZWwsIGlzQ29udGVudEJveFNpemUpXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy5nZXRPZmZzZXQoZWwsIHBhcmVudCB8fCBlbC5wYXJlbnROb2RlLCBpc0NvbnNpZGVyVHJhbnNsYXRlKSwgc2l6ZSlcbiAgfSxcbiAgZ2V0U3VtVmFsdWVPZlN0eWxlUnVsZShlbGVtZW50LCBydWxlcykge1xuICAgIHJldHVybiBydWxlcy5yZWR1Y2UoKHN1bSwgcnVsZSkgPT4ge1xuICAgICAgcmV0dXJuIHN1bSArIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW3J1bGVdfHwwKVxuICAgIH0sIDApXG4gIH0sXG4gIGdldFNpemVPZkVsZW1lbnQoZWwsIGlzQ29udGVudEJveFNpemUpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbJ3dpZHRoJ10pLCBoZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbJ2hlaWdodCddKVxuICAgIGlmICghaXNDb250ZW50Qm94U2l6ZSkge1xuICAgICAgd2lkdGggKz0gdGhpcy5nZXRTdW1WYWx1ZU9mU3R5bGVSdWxlKGVsLCBbJ3BhZGRpbmctbGVmdCcsICdwYWRkaW5nLXJpZ2h0JywgJ2JvcmRlci1sZWZ0LXdpZHRoJywgJ2JvcmRlci1yaWdodC13aWR0aCddKVxuICAgICAgaGVpZ2h0ICs9IHRoaXMuZ2V0U3VtVmFsdWVPZlN0eWxlUnVsZShlbCwgWydwYWRkaW5nLXRvcCcsICdwYWRkaW5nLWJvdHRvbScsICdib3JkZXItdG9wLXdpZHRoJywgJ2JvcmRlci1ib3R0b20td2lkdGgnXSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQb2ludCh3aWR0aCwgaGVpZ2h0KVxuICB9LFxuICBnZXRPZmZzZXQoZWwsIHBhcmVudCkge1xuICAgIGNvbnN0IGVsUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBwYXJlbnRSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgcmV0dXJuIG5ldyBQb2ludChlbFJlY3QubGVmdCAtIHBhcmVudFJlY3QubGVmdCwgZWxSZWN0LnRvcCAtIHBhcmVudFJlY3QudG9wKVxuICB9LFxuICBnZXRQb2ludEZyb21SYWRpYWxTeXN0ZW0oYW5nbGUsIGxlbmd0aCwgY2VudGVyKSB7XG4gICAgY2VudGVyID0gY2VudGVyIHx8IG5ldyBQb2ludCgwLCAwKVxuICAgIHJldHVybiBjZW50ZXIuYWRkKG5ldyBQb2ludChsZW5ndGggKiBNYXRoLmNvcyhhbmdsZSksIGxlbmd0aCAqIE1hdGguc2luKGFuZ2xlKSkpXG4gIH0sXG4gIGFkZFBvaW50VG9Cb3VuZFBvaW50cyhib3VuZHBvaW50cywgcG9pbnQsIGlzUmlnaHQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBib3VuZHBvaW50cy5maWx0ZXIoZnVuY3Rpb24oYlBvaW50KSB7XG4gICAgICByZXR1cm4gIGJQb2ludC55ID4gcG9pbnQueSB8fCAoaXNSaWdodCA/IGJQb2ludC54IDwgcG9pbnQueCA6IGJQb2ludC54ID4gcG9pbnQueClcbiAgICB9KVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwb2ludC55IDwgcmVzdWx0W2ldLnkpIHtcbiAgICAgICAgcmVzdWx0LnNwbGljZShpLCAwLCBwb2ludClcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQucHVzaChwb2ludClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG4gIGdldEFuZ2xlKHAxLCBwMikge1xuICAgIGNvbnN0IGRpZmYgPSBwMi5zdWIocDEpXG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplQW5nbGUoTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCkpXG4gIH0sXG4gIHRvUmFkaWFuKGFuZ2xlKSB7XG4gICAgcmV0dXJuICgoYW5nbGUgJSAzNjApICogTWF0aC5QSSAvIDE4MClcbiAgfSxcbiAgdG9EZWdyZWUoYW5nbGUpIHtcbiAgICByZXR1cm4gKGFuZ2xlICogMTgwIC8gTWF0aC5QSSkgJSAzNjBcbiAgfSxcbiAgYm91bmRBbmdsZShtaW4sIG1heCwgdmFsKSB7XG4gICAgbGV0IGRtaW4sIGRtYXhcbiAgICBpZiAobWluIDwgbWF4ICYmIHZhbCA+IG1pbiAmJiB2YWwgPCBtYXgpIHtcbiAgICAgIHJldHVybiB2YWxcbiAgICB9IGVsc2UgaWYgKG1heCA8IG1pbiAmJiAodmFsIDwgbWF4IHx8IHZhbCA+IG1pbikpIHtcbiAgICAgIHJldHVybiB2YWxcbiAgICB9IGVsc2Uge1xuICAgICAgZG1pbiA9IHRoaXMuZ2V0QW5nbGVEaWZmKG1pbiwgdmFsKVxuICAgICAgZG1heCA9IHRoaXMuZ2V0QW5nbGVEaWZmKG1heCwgdmFsKVxuICAgICAgaWYgKGRtaW4gPCBkbWF4KSB7XG4gICAgICAgIHJldHVybiBtaW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtYXhcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdldE5lYXJlc3RBbmdsZShhcnIsIGFuZ2xlKSB7XG4gICAgbGV0IGksIHRlbXAsIGRpZmYgPSBNYXRoLlBJICogMiwgdmFsdWVcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDtpKyspIHtcbiAgICAgIHRlbXAgPSBHZW9tZXRyeS5nZXRBbmdsZURpZmYoYXJyW2ldLCBhbmdsZSlcbiAgICAgIGlmIChkaWZmIDwgdGVtcCkge1xuICAgICAgICBkaWZmID0gdGVtcFxuICAgICAgICB2YWx1ZSA9IGFycltpXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfSxcbiAgZ2V0QW5nbGVEaWZmKGFscGhhLCBiZXRhKSB7XG4gICAgY29uc3QgbWluQW5nbGUgPSBNYXRoLm1pbihhbHBoYSwgYmV0YSksXG4gICAgICBtYXhBbmdsZSA9ICBNYXRoLm1heChhbHBoYSwgYmV0YSlcbiAgICByZXR1cm4gTWF0aC5taW4obWF4QW5nbGUgLSBtaW5BbmdsZSwgbWluQW5nbGUgKyBNYXRoLlBJKjIgLSBtYXhBbmdsZSlcbiAgfSxcbiAgbm9ybWFsaXplQW5nbGUodmFsKSB7XG4gICAgd2hpbGUgKHZhbCA8IDApIHtcbiAgICAgIHZhbCArPSAyICogTWF0aC5QSVxuICAgIH1cbiAgICB3aGlsZSAodmFsID4gMiAqIE1hdGguUEkpIHtcbiAgICAgIHZhbCAtPSAyICogTWF0aC5QSVxuICAgIH1cbiAgICByZXR1cm4gdmFsXG4gIH1cbn1cblxuZXhwb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgR2VvbWV0cnkgfVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGMpIHtcbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgYyArICcoXFxcXHN8JCknLCAnZycpXG4gIHJldHVybiAocmUudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjKSB7XG4gIGlmICghaGFzQ2xhc3MoZWxlbWVudCwgYykpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IChlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGMpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC8oXiB8ICQpL2csICcnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjKSB7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGMgKyAnKFxcXFxzfCQpJywgJ2cnKVxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UocmUsICckMScpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKC8oXiB8ICQpL2csICcnKVxufVxuIiwiaW1wb3J0IHsgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi91dGlscy9jbGFzc2VzJ1xuaW1wb3J0IGdldERlZmF1bHRQYXJlbnQgZnJvbSAnLi91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQnXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCBnZXRTdHlsZVByb3BlcnR5IGZyb20gJ2Rlc2FuZHJvLWdldC1zdHlsZS1wcm9wZXJ0eSdcbmltcG9ydCB7IGJvdW5kVG9FbGVtZW50IH0gZnJvbSAnLi9ib3VuZCdcbmltcG9ydCB7IEdlb21ldHJ5LCBQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnLi9nZW9tZXRyeSdcbmltcG9ydCB7IGRlZmF1bHRTY29wZSB9IGZyb20gJy4vc2NvcGUnXG5cbmNvbnN0IERyYWdlZSA9IHsgRXZlbnQgfSAvL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jb25zdCBpc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93LCBtb3VzZUV2ZW50cyA9IHtcbiAgICBzdGFydDogJ21vdXNlZG93bicsXG4gICAgbW92ZTogJ21vdXNlbW92ZScsXG4gICAgZW5kOiAnbW91c2V1cCdcbiAgfSwgdG91Y2hFdmVudHMgPSB7XG4gICAgc3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgICBtb3ZlOiAndG91Y2htb3ZlJyxcbiAgICBlbmQ6ICd0b3VjaGVuZCdcbiAgfSxcbiAgZXZlbnRzID0gaXNUb3VjaCA/IHRvdWNoRXZlbnRzIDogbW91c2VFdmVudHMsXG4gIGRyYWdnYWJsZXMgPSBbXSxcbiAgdHJhbnNmb3JtUHJvcGVydHkgPSBnZXRTdHlsZVByb3BlcnR5KCd0cmFuc2Zvcm0nKSxcbiAgdHJhbnNpdGlvblByb3BlcnR5ID0gZ2V0U3R5bGVQcm9wZXJ0eSgndHJhbnNpdGlvbicpXG5cbmZ1bmN0aW9uIGdldFRvdWNoQnlJRChlbGVtZW50LCB0b3VjaElkKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlbGVtZW50LmNoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXIgPT09IHRvdWNoSWQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNoYW5nZWRUb3VjaGVzW2ldXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RG91YmxlSW5pdChkcmFnZ2FibGUpIHtcbiAgY29uc3QgbWVzc2FnZSA9IFwiZm9yIHRoaXMgZWxlbWVudCBEcmFnZWUuRHJhZ2dhYmxlIGlzIGFscmVhZHkgZXhpc3QsIGRvbid0IGNyZWF0ZSBpdCB0d2ljZSBcIlxuICBpZiAoZHJhZ2dhYmxlcy5zb21lKChleGlzdGluZykgPT4gZHJhZ2dhYmxlLmVsZW1lbnQgPT09IGV4aXN0aW5nLmVsZW1lbnQpKSB7XG4gICAgdGhyb3cgbWVzc2FnZVxuICB9XG4gIGRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG59XG5cbmZ1bmN0aW9uIGFkZFRvRGVmYXVsdFNjb3BlKGRyYWdnYWJsZSkge1xuICBkZWZhdWx0U2NvcGUuYWRkRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbn1cblxuY2xhc3MgRHJhZ2dhYmxlIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucz17fSkge1xuICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50IHx8IGdldERlZmF1bHRQYXJlbnQoZWxlbWVudClcbiAgICB0aGlzLnRhcmdldHMgPSBbXVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICBib3VuZDogYm91bmRUb0VsZW1lbnQocGFyZW50LCBwYXJlbnQpLFxuICAgICAgc3RhcnRGaWx0ZXI6IGZhbHNlLFxuICAgICAgaXNDb250ZW50Qm94U2l6ZTogZmFsc2UsXG4gICAgICBwb3NpdGlvbjogZmFsc2VcbiAgICB9LCBvcHRpb25zKVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmhhbmRsZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5oYW5kbGVyKSB8fCBlbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlciA9IG9wdGlvbnMuaGFuZGxlciB8fCBlbGVtZW50XG4gICAgfVxuXG4gICAgdGhpcy5vbkVuZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcywgeyBpc1JldmVyc2U6IHRydWUsIGlzU3RvcE9uVHJ1ZTogdHJ1ZSB9KVxuICAgIHRoaXMub25Nb3ZlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuICAgIHRoaXMub25TdGFydCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcblxuICAgIHRoaXMub25FbmQuYWRkKCgpID0+IHRoaXMubW92ZSh0aGlzLnBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKSlcblxuICAgIGlmIChvcHRpb25zLm9uRW5kKSB7XG4gICAgICB0aGlzLm9uRW5kLmFkZChvcHRpb25zLm9uRW5kKVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vbk1vdmUpIHtcbiAgICAgIHRoaXMub25Nb3ZlLmFkZChvcHRpb25zLm9uTW92ZSlcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25TdGFydCkge1xuICAgICAgdGhpcy5vblN0YXJ0LmFkZChvcHRpb25zLm9uU3RhcnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmJvdW5kID0gdGhpcy5vcHRpb25zLmJvdW5kXG4gICAgcHJldmVudERvdWJsZUluaXQodGhpcylcbiAgICBEcmFnZ2FibGUub25DcmVhdGUuZmlyZSh0aGlzKVxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX2VuYWJsZSA9IHRydWVcbiAgICB0aGlzLm9mZnNldCA9IEdlb21ldHJ5LmdldE9mZnNldCh0aGlzLmVsZW1lbnQsIHRoaXMub3B0aW9ucy5wYXJlbnQsIHRydWUpXG4gICAgdGhpcy5maXhQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb25cbiAgICAgIHRoaXMubW92ZSh0aGlzLmluaXRQb3NpdGlvbiwgMCwgdHJ1ZSwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSB0aGlzLm9mZnNldFxuICAgIH1cbiAgICB0aGlzLl9kcmFnU3RhcnQgPSB0aGlzLmRyYWdTdGFydC5iaW5kKHRoaXMpXG4gICAgdGhpcy5fZHJhZ01vdmUgPSB0aGlzLmRyYWdNb3ZlLmJpbmQodGhpcylcbiAgICB0aGlzLl9kcmFnRW5kID0gdGhpcy5kcmFnRW5kLmJpbmQodGhpcylcblxuICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG4gICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcblxuICAgIGlmICh0aGlzLmJvdW5kLnJlZnJlc2gpIHtcbiAgICAgIHRoaXMuYm91bmQucmVmcmVzaCgpXG4gICAgfVxuICB9XG5cbiAgcmVpbml0KCkge1xuICAgIHRoaXMub2Zmc2V0ID0gR2VvbWV0cnkuZ2V0T2Zmc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLnBhcmVudCwgdHJ1ZSlcbiAgICB0aGlzLmZpeFBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5vZmZzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICAgdGhpcy5tb3ZlKHRoaXMuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IHRoaXMub2Zmc2V0XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm91bmQucmVmcmVzaCkge1xuICAgICAgdGhpcy5ib3VuZC5yZWZyZXNoKClcbiAgICB9XG4gIH1cblxuICBnZXRTaXplKF9yZWNhbHVsYXRlKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5LmdldFNpemVPZkVsZW1lbnQodGhpcy5lbGVtZW50LCB0aGlzLm9wdGlvbnMuaXNDb250ZW50Qm94U2l6ZSlcbiAgfVxuXG4gIGdldFBvc2l0aW9uKCkge1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9mZnNldC5hZGQodGhpcy5fdHJhbnNmb3JtUG9zaXRpb24gfHwgbmV3IFBvaW50KDAsIDApKVxuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uXG4gIH1cblxuICBnZXRDZW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWRkKHRoaXMuZ2V0U2l6ZSgpLm11bHQoMC41KSlcbiAgfVxuXG4gIF9zZXRUcmFuc2xhdGUocG9pbnQpIHtcbiAgICB0aGlzLl90cmFuc2Zvcm1Qb3NpdGlvbiA9IHBvaW50XG5cbiAgICBsZXQgdHJhbnNmb3JtID0gdGhpcy5lbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XVxuICAgIGxldCB0cmFuc2xhdGVDc3MgPSAnIHRyYW5zbGF0ZTNkKCcgKyBwb2ludC54ICsgJ3B4LCcgKyBwb2ludC55ICsgJ3B4LCAwcHgpJ1xuXG4gICAgY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgIGNvbnN0IG1zaWUgPSB1YS5pbmRleE9mKCdNU0lFICcpXG5cbiAgICBpZiAobXNpZSkge1xuICAgICAgdHJhbnNsYXRlQ3NzID0gJyB0cmFuc2xhdGUoJyArIHBvaW50LnggKyAncHgsJyArIHBvaW50LnkgKyAncHgpJ1xuICAgICAgaWYgKCEvdHJhbnNsYXRlXFwoW14pXStcXCkvLnRlc3QodHJhbnNmb3JtKSkge1xuICAgICAgICB0cmFuc2Zvcm0gKz0gdHJhbnNsYXRlQ3NzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlXFwoW14pXStcXCkvLCB0cmFuc2xhdGVDc3MpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghL3RyYW5zbGF0ZTNkXFwoW14pXStcXCkvLnRlc3QodHJhbnNmb3JtKSkge1xuICAgICAgICB0cmFuc2Zvcm0gKz0gdHJhbnNsYXRlQ3NzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlM2RcXChbXildK1xcKS8sIHRyYW5zbGF0ZUNzcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcGVydHldID0gdHJhbnNmb3JtXG4gIH1cblxuICBtb3ZlKHBvaW50LCB0aW1lPTAsIGlzRml4PWZhbHNlLCBpc1NpbGVudD1mYWxzZSkge1xuICAgIHBvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIGlmIChpc0ZpeCkge1xuICAgICAgdGhpcy5maXhQb3NpdGlvbiA9IHBvaW50XG4gICAgfVxuXG4gICAgdGhpcy5kZXRlcm1pbmVEaXJlY3Rpb24ocG9pbnQpXG5cbiAgICB0aGlzLnBvc2l0aW9uID0gcG9pbnRcblxuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gdGltZSArICdtcydcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRUcmFuc2xhdGUocG9pbnQuc3ViKHRoaXMub2Zmc2V0KSlcbiAgICBpZiAoIWlzU2lsZW50KSB7XG4gICAgICB0aGlzLm9uTW92ZS5maXJlKClcbiAgICB9XG4gIH1cblxuICByZWZyZXNoUG9zaXRpb24gKCkge1xuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5nZXRQb3NpdGlvbigpKVxuICB9XG5cbiAgc2V0UG9zaXRpb24ocG9pbnQpIHtcbiAgICBwb2ludCA9IHBvaW50LmNsb25lKClcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9pbnRcblxuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gJzBtcydcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRUcmFuc2xhdGUocG9pbnQuc3ViKHRoaXMub2Zmc2V0KSlcbiAgfVxuXG4gIHNldFplcm9UcmFuc2l0aW9uKCkge1xuICAgIGlmICh0cmFuc2l0aW9uUHJvcGVydHkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0cmFuc2l0aW9uUHJvcGVydHldID0gJzBtcydcbiAgICB9XG4gIH1cblxuICBkZXRlcm1pbmVEaXJlY3Rpb24ocG9pbnQpIHtcbiAgICB0aGlzLmxlZnREaXJlY3Rpb24gPSAodGhpcy5wb3NpdGlvbi54IDwgcG9pbnQueClcbiAgICB0aGlzLnJpZ2h0RGlyZWN0aW9uID0gKHRoaXMucG9zaXRpb24ueCA+IHBvaW50LngpXG4gICAgdGhpcy51cERpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnkgPiBwb2ludC55KVxuICAgIHRoaXMuZG93bkRpcmVjdGlvbiA9ICh0aGlzLnBvc2l0aW9uLnkgPCBwb2ludC55KVxuICB9XG5cbiAgZHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy5jdXJyZW50RXZlbnQgPSBldmVudFxuICAgIGlmICghdGhpcy5fZW5hYmxlIHx8ICh0aGlzLm9wdGlvbnMuc3RhcnRGaWx0ZXIgJiYgIXRoaXMub3B0aW9ucy5zdGFydEZpbHRlcihldmVudCkpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG5cbiAgICB0aGlzLl9zdGFydFRvdWNoUG9pbnQgPSBuZXcgUG9pbnQoaXNUb3VjaEV2ZW50ID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggOiBldmVudC5jbGllbnRYLCBpc1RvdWNoRXZlbnQgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IGV2ZW50LmNsaWVudFkpXG5cbiAgICB0aGlzLl9zdGFydFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgaWYgKGlzVG91Y2hFdmVudCkge1xuICAgICAgdGhpcy5fdG91Y2hJZCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXJcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElucHV0RWxlbWVudCB8fFxuICAgICAgICAgIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC50YXJnZXQuZm9jdXMoKVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5tb3ZlLCB0aGlzLl9kcmFnTW92ZSlcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodG91Y2hFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuZW5kLCB0aGlzLl9kcmFnRW5kKVxuXG4gICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZVxuXG4gICAgdGhpcy5vblN0YXJ0LmZpcmUoZXZlbnQpXG4gICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAnYWN0aXZlJylcbiAgICB0aGlzLm9uTW92ZS5maXJlKGV2ZW50KVxuICB9XG5cbiAgZHJhZ01vdmUoZXZlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnRFdmVudCA9IGV2ZW50XG4gICAgbGV0IHRvdWNoXG5cbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG4gICAgaWYgKGlzVG91Y2hFdmVudCkge1xuICAgICAgdG91Y2ggPSBnZXRUb3VjaEJ5SUQoZXZlbnQsIHRoaXMuX3RvdWNoSWQpXG5cbiAgICAgIGlmICghdG91Y2gpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgdG91Y2hQb2ludCA9IG5ldyBQb2ludChpc1RvdWNoRXZlbnQgPyB0b3VjaC5wYWdlWCA6IGV2ZW50LmNsaWVudFgsIGlzVG91Y2hFdmVudCA/IHRvdWNoLnBhZ2VZIDogZXZlbnQuY2xpZW50WSlcbiAgICBsZXQgcG9pbnQgPSB0aGlzLl9zdGFydFBvc2l0aW9uLmFkZCh0b3VjaFBvaW50LnN1Yih0aGlzLl9zdGFydFRvdWNoUG9pbnQpKVxuICAgIHBvaW50ID0gdGhpcy5ib3VuZChwb2ludCwgdGhpcy5nZXRTaXplKCkpXG4gICAgdGhpcy50b3VjaFBvaW50ID0gdG91Y2hQb2ludFxuICAgIHRoaXMubW92ZShwb2ludCwgMClcbiAgfVxuXG4gIGRyYWdFbmQoZXZlbnQpIHtcbiAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSAoaXNUb3VjaCAmJiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuVG91Y2hFdmVudCkpXG5cbiAgICBpZiAoaXNUb3VjaEV2ZW50ICYmICFnZXRUb3VjaEJ5SUQoZXZlbnQsIHRoaXMuX3RvdWNoSWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLm9uRW5kLmZpcmUoZXZlbnQpXG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlRXZlbnRzLmVuZCwgdGhpcy5fZHJhZ0VuZClcblxuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlXG4gICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCAnYWN0aXZlJylcbiAgfVxuXG4gIGdldFJlY3RhbmdsZSgpIHtcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnBvc2l0aW9uLCB0aGlzLmdldFNpemUoKSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5nZXRTaXplKHRydWUpXG4gICAgaWYgKHRoaXMuYm91bmQucmVmcmVzaCkge1xuICAgICAgdGhpcy5ib3VuZC5yZWZyZXNoKClcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLnN0YXJ0LCB0aGlzLl9kcmFnU3RhcnQpXG4gICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMuc3RhcnQsIHRoaXMuX2RyYWdTdGFydClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRvdWNoRXZlbnRzLm1vdmUsIHRoaXMuX2RyYWdNb3ZlKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VFdmVudHMubW92ZSwgdGhpcy5fZHJhZ01vdmUpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaEV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZUV2ZW50cy5lbmQsIHRoaXMuX2RyYWdFbmQpXG5cbiAgICB0aGlzLm9uRW5kLnJlc2V0KClcbiAgICB0aGlzLm9uTW92ZS5yZXNldCgpXG4gIH1cblxuICBnZXQgZW5hYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVcbiAgfVxuXG4gIHNldCBlbmFibGUoZW5hYmxlKSB7XG4gICAgaWYgKGVuYWJsZSkge1xuICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LCAnZGlzYWJsZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgJ2Rpc2FibGUnKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbmFibGUgPSBlbmFibGVcbiAgfVxufVxuXG5EcmFnZ2FibGUub25DcmVhdGUgPSBuZXcgRHJhZ2VlLkV2ZW50KERyYWdnYWJsZSwgeyBpc1JldmVyc2U6IHRydWUsIGlzU3RvcE9uVHJ1ZTogdHJ1ZSB9KVxuRHJhZ2dhYmxlLm9uQ3JlYXRlLmFkZChhZGRUb0RlZmF1bHRTY29wZSlcblxuZXhwb3J0IHsgRHJhZ2dhYmxlLCBldmVudHMgfVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIEV2ZW50KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICB0aGlzLmZ1bmNzID0gW11cbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dFxuICB0aGlzLmlzUmV2ZXJzZSA9IG9wdGlvbnMuaXNSZXZlcnNlIHx8IGZhbHNlXG4gIHRoaXMuaXNTdG9wT25UcnVlID0gb3B0aW9ucy5pc1N0b3BPblRydWUgfHwgZmFsc2Vcbn1cblxuRXZlbnQucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICBjb25zdCBmcyA9IHRoaXMuaXNSZXZlcnNlID8gdGhpcy5mdW5jcy5zbGljZSgpLnJldmVyc2UoKSA6IHRoaXMuZnVuY3NcbiAgbGV0IHJldFZhbHVlXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcy5sZW5ndGg7IGkrKykge1xuICAgIHJldFZhbHVlID0gZnNbaV0uYXBwbHkodGhpcy5jb250ZXh0LCBhcmdzKVxuICAgIGlmICh0aGlzLmlzU3RvcE9uVHJ1ZSAmJiByZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuICF0aGlzLmlzU3RvcE9uVHJ1ZVxufVxuXG5FdmVudC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZikge1xuICB0aGlzLmZ1bmNzLnB1c2goZilcbn1cblxuRXZlbnQucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmKSB7XG4gIHRoaXMuZnVuY3MudW5zaGlmdChmKVxufVxuXG5FdmVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZikge1xuICBjb25zdCBpbmRleCA9IHRoaXMuZnVuY3MuaW5kZXhPZihmKVxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5mdW5jcy5zcGxpY2UoaW5kZXgsIDEpXG4gIH1cbn1cblxuRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oX2YpIHtcbiAgdGhpcy5mdW5jcyA9IFtdXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhcnJheSwgdmFsKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbCkge1xuICAgICAgYXJyYXkuc3BsaWNlKGksIDEpXG4gICAgICBpLS1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5XG59XG4iLCJpbXBvcnQgcmVtb3ZlSXRlbSBmcm9tICcuL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtJ1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgeyBEcmFnZ2FibGUgfSBmcm9tICcuL2RyYWdnYWJsZSdcbmltcG9ydCB7IFRhcmdldCB9IGZyb20gJy4vdGFyZ2V0J1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0gLy90b2RvIHJlbW92ZSBhZnRlciByZWZhY3RvcmVcblxuY29uc3Qgc2NvcGVzID0gW11cblxuY2xhc3MgU2NvcGUge1xuICBjb25zdHJ1Y3RvcihkcmFnZ2FibGVzLCB0YXJnZXRzLCBvcHRpb25zPXt9KSB7XG4gICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiB7XG4gICAgICBpZiAoZHJhZ2dhYmxlcykge1xuICAgICAgICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgICAgIHJlbW92ZUl0ZW0oc2NvcGUuZHJhZ2dhYmxlcywgZHJhZ2dhYmxlKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0cykge1xuICAgICAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgICAgIHJlbW92ZUl0ZW0oc2NvcGUudGFyZ2V0cywgdGFyZ2V0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBkcmFnZ2FibGVzIHx8IFtdXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cyB8fCBbXVxuICAgIHNjb3Blcy5wdXNoKHRoaXMpXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdGltZUVuZDogKG9wdGlvbnMudGltZUVuZCkgfHwgNDAwXG4gICAgfVxuXG4gICAgdGhpcy5vbkNoYW5nZSA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICBpZiAob3B0aW9ucy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZS5hZGQob3B0aW9ucy5vbkNoYW5nZSlcbiAgICB9XG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLm9uRW5kLmFkZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uRW5kKGRyYWdnYWJsZSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICB0aGlzLmRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG4gICAgZHJhZ2dhYmxlLm9uRW5kLnVuc2hpZnQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMub25FbmQoZHJhZ2dhYmxlKVxuICAgIH0pXG4gIH1cblxuICBhZGRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXRzLnB1c2godGFyZ2V0KVxuICB9XG5cbiAgb25FbmQoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3Qgc2hvdFRhcmdldHMgPSB0aGlzLnRhcmdldHMuZmlsdGVyKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xXG4gICAgfSkuZmlsdGVyKCh0YXJnZXQpID0+IHtcbiAgICAgIHJldHVybiB0YXJnZXQuY2F0Y2hEcmFnZ2FibGUoZHJhZ2dhYmxlKVxuICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLmdldFJlY3RhbmdsZSgpLmdldFNxdWFyZSgpIC0gYi5nZXRSZWN0YW5nbGUoKS5nZXRTcXVhcmUoKVxuICAgIH0pXG5cbiAgICBpZiAoc2hvdFRhcmdldHMubGVuZ3RoKSB7XG4gICAgICBzaG90VGFyZ2V0c1swXS5vbkVuZChkcmFnZ2FibGUpXG4gICAgfSBlbHNlIGlmIChkcmFnZ2FibGUudGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5pbml0UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlLCB0cnVlKVxuICAgIH1cbiAgICB0aGlzLm9uQ2hhbmdlLmZpcmUoKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQucmVzZXQoKSlcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLnJlZnJlc2goKSlcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQucmVmcmVzaCgpKVxuICB9XG5cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRzLm1hcCgodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0LmlubmVyRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gdGhpcy5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSlcbiAgICB9KVxuICB9XG5cbiAgc2V0IHBvc2l0aW9ucyhwb3NpdGlvbnMpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gJ3dyb25nIGFycmF5IGxlbmd0aCdcbiAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA9PT0gdGhpcy50YXJnZXRzLmxlbmd0aCkge1xuICAgICAgdGhpcy50YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnJlc2V0KCkpXG5cbiAgICAgIHBvc2l0aW9ucy5mb3JFYWNoKCh0YXJnZXRJbmRleGVzLCBpKSA9PiB7XG4gICAgICAgIHRhcmdldEluZGV4ZXMuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgICAgICB0aGlzLnRhcmdldHNbaV0uYWRkKHRoaXMuZHJhZ2dhYmxlc1tpbmRleF0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBtZXNzYWdlXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRTY29wZSA9IG5ldyBTY29wZSgpXG5cbmZ1bmN0aW9uIHNjb3BlKGZuKSB7XG4gIGNvbnN0IGN1cnJlbnRTY29wZSA9IG5ldyBTY29wZSgpXG4gIGNvbnN0IGFkZERyYWdnYWJsZVRvU2NvcGUgPSBmdW5jdGlvbihkcmFnZ2FibGUpIHtcbiAgICBjdXJyZW50U2NvcGUuYWRkRHJhZ2dhYmxlKGRyYWdnYWJsZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGNvbnN0IGFkZFRhcmdldFRvU2NvcGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBjdXJyZW50U2NvcGUuYWRkVGFyZ2V0KHRhcmdldClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgRHJhZ2dhYmxlLm9uQ3JlYXRlLmFkZChhZGREcmFnZ2FibGVUb1Njb3BlKVxuICBUYXJnZXQub25DcmVhdGUuYWRkKGFkZFRhcmdldFRvU2NvcGUpXG4gIGZuLmNhbGwoKVxuICBEcmFnZ2FibGUub25DcmVhdGUucmVtb3ZlKGFkZERyYWdnYWJsZVRvU2NvcGUpXG4gIFRhcmdldC5vbkNyZWF0ZS5yZW1vdmUoYWRkVGFyZ2V0VG9TY29wZSlcbiAgcmV0dXJuIGN1cnJlbnRTY29wZVxufVxuXG5mdW5jdGlvbiBzY29wZUZhY3RvcnkocGFyZW50RWxlbWVudCwgZHJhZ2dhYmxlRWxlbWVudHMsIHRhcmdldEVsZW1lbnRzLCBvcHRpb25zPXt9KSB7XG4gIGNvbnN0IGRyYWdnYWJsZU9wdGlvbnMgPSBvcHRpb25zLmRyYWdnYWJsZSB8fCB7fVxuICBjb25zdCB0YXJnZXRPcHRpb25zID0gb3B0aW9ucy50YXJnZXQgfHwge31cbiAgY29uc3Qgc2NvcGVPcHRpb25zID0gb3B0aW9ucy5zY29wZSB8fCB7fVxuICBkcmFnZ2FibGVPcHRpb25zLnBhcmVudCA9IGRyYWdnYWJsZU9wdGlvbnMucGFyZW50IHx8IHBhcmVudEVsZW1lbnRcbiAgdGFyZ2V0T3B0aW9ucy5wYXJlbnQgPSB0YXJnZXRPcHRpb25zLnBhcmVudCB8fCBwYXJlbnRFbGVtZW50XG4gIGRyYWdnYWJsZUVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZHJhZ2dhYmxlRWxlbWVudHMpXG4gIHRhcmdldEVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0RWxlbWVudHMpXG5cbiAgY29uc3QgZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZUVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlKGVsZW1lbnQsIGRyYWdnYWJsZU9wdGlvbnMpXG4gIH0pXG5cbiAgY29uc3QgdGFyZ2V0cyA9IHRhcmdldEVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgVGFyZ2V0KGVsZW1lbnQsIGRyYWdnYWJsZXMsIHRhcmdldE9wdGlvbnMpXG4gIH0pXG4gIHJldHVybiBuZXcgU2NvcGUoZHJhZ2dhYmxlcywgdGFyZ2V0cywgc2NvcGVPcHRpb25zKVxufVxuXG5leHBvcnQgeyBzY29wZXMsIGRlZmF1bHRTY29wZSwgU2NvcGUsIHNjb3BlRmFjdG9yeSwgc2NvcGUgfVxuIiwiaW1wb3J0IHJhbmdlIGZyb20gJy4vdXRpbHMvcmFuZ2UuanMnXG5pbXBvcnQgcmVtb3ZlSXRlbSBmcm9tICcuL3V0aWxzL3JlbW92ZS1hcnJheS1pdGVtJ1xuaW1wb3J0IGdldERlZmF1bHRQYXJlbnQgZnJvbSAnLi91dGlscy9nZXQtZGVmYXVsdC1wYXJlbnQnXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCdcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi9nZW9tZXRyeSdcbmltcG9ydCB7IHNjb3BlcywgZGVmYXVsdFNjb3BlIH0gZnJvbSAnLi9zY29wZSdcblxuaW1wb3J0IHsgRmxvYXRMZWZ0U3RyYXRlZ3kgfSBmcm9tICcuL3Bvc2l0aW9uaW5nJ1xuXG5jb25zdCBEcmFnZWUgPSB7IEV2ZW50IH0vL3RvZG8gcmVtb3ZlIGFmdGVyIHJlZmFjdG9yZVxuXG5jb25zdCBhZGRUb0RlZmF1bHRTY29wZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICBkZWZhdWx0U2NvcGUuYWRkVGFyZ2V0KHRhcmdldClcbn1cblxuY2xhc3MgVGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgZHJhZ2dhYmxlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1xuICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50IHx8IGdldERlZmF1bHRQYXJlbnQoZWxlbWVudClcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgdGltZUVuZDogMjAwLFxuICAgICAgdGltZUV4Y2FuZ2U6IDQwMCxcbiAgICAgIHBhcmVudDogcGFyZW50XG4gICAgfSwgb3B0aW9ucylcblxuICAgIHRoaXMucG9zaXRpb25pbmdTdHJhdGVneSA9IG9wdGlvbnMuc3RyYXRlZ3kgfHwgbmV3IEZsb2F0TGVmdFN0cmF0ZWd5KFxuICAgICAgdGhpcy5nZXRSZWN0YW5nbGUuYmluZCh0aGlzKSxcbiAgICAgIHtcbiAgICAgICAgcmFkaXVzOiA4MCxcbiAgICAgICAgZ2V0RGlzdGFuY2U6IEdlb21ldHJ5LnRyYW5zZm9ybWVkU3BhY2VEaXN0YW5jZUZhY3RvcnkoeyB4OiAxLCB5OiA0IH0pLFxuICAgICAgICByZW1vdmFibGU6IHRydWVcbiAgICAgIH1cbiAgICApXG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS50YXJnZXRzLnB1c2godGFyZ2V0KSlcbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBkcmFnZ2FibGVzXG4gICAgdGhpcy5vbkFkZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICB0aGlzLmJlZm9yZUFkZCA9IG5ldyBEcmFnZWUuRXZlbnQodGhpcylcbiAgICB0aGlzLm9uUmVtb3ZlID0gbmV3IERyYWdlZS5FdmVudCh0aGlzKVxuXG4gICAgaWYgKG9wdGlvbnMub25SZW1vdmUpIHtcbiAgICAgIHRoaXMub25SZW1vdmUuYWRkKG9wdGlvbnMub25SZW1vdmUpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMub25BZGQpIHtcbiAgICAgIHRoaXMub25BZGQuYWRkKG9wdGlvbnMub25BZGQpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlQWRkKSB7XG4gICAgICB0aGlzLmJlZm9yZUFkZC5hZGQob3B0aW9ucy5iZWZvcmVBZGQpXG4gICAgfVxuXG4gICAgVGFyZ2V0Lm9uQ3JlYXRlLmZpcmUodGhpcylcblxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBwb3NpdGlvbmluZyAoZHJhZ2dhYmxlcywgaW5kZXhlc09mTmV3KSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25pbmdTdHJhdGVneS5wb3NpdGlvbmluZyhkcmFnZ2FibGVzLCBpbmRleGVzT2ZOZXcpXG4gIH1cblxuICBzb3J0aW5nIChvbGREcmFnZ2FibGVzLCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cykge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uaW5nU3RyYXRlZ3kuc29ydGluZyhvbGREcmFnZ2FibGVzLCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cylcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbGV0IHJlY3RhbmdsZXMsIGluZGV4ZXNPZk5ld1xuXG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMgPSB0aGlzLmRyYWdnYWJsZXMuZmlsdGVyKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGxldCBlbGVtZW50ID0gZHJhZ2dhYmxlLmVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSlcblxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5sZW5ndGgpIHtcbiAgICAgIGluZGV4ZXNPZk5ldyA9IHJhbmdlKHRoaXMuaW5uZXJEcmFnZ2FibGVzLmxlbmd0aClcbiAgICAgIHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICAgIHJldHVybiBkcmFnZ2FibGUuZ2V0UmVjdGFuZ2xlKClcbiAgICAgIH0pLCBpbmRleGVzT2ZOZXcpXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKHJlY3RhbmdsZXMsIGluZGV4ZXNPZk5ldylcbiAgICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gdGhpcy5vbkFkZC5maXJlKGRyYWdnYWJsZSkpXG4gICAgfVxuICB9XG5cbiAgZ2V0UmVjdGFuZ2xlKCkge1xuICAgIHJldHVybiBHZW9tZXRyeS5jcmVhdGVSZWN0YW5nbGVGcm9tRWxlbWVudChcbiAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgIHRoaXMub3B0aW9ucy5wYXJlbnQsXG4gICAgICB0aGlzLm9wdGlvbnMuaXNDb250ZW50Qm94U2l6ZSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjYXRjaERyYWdnYWJsZShkcmFnZ2FibGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNhdGNoRHJhZ2dhYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNhdGNoRHJhZ2dhYmxlKHRoaXMsIGRyYWdnYWJsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0UmVjdGFuZ2xlID0gdGhpcy5nZXRSZWN0YW5nbGUoKVxuICAgICAgY29uc3QgZHJhZ2dhYmxlU3F1YXJlID0gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpLmdldFNxdWFyZSgpXG5cbiAgICAgIHJldHVybiBkcmFnZ2FibGVTcXVhcmUgPCB0YXJnZXRSZWN0YW5nbGUuZ2V0U3F1YXJlKClcbiAgICAgICAgICAgICAgJiYgdGFyZ2V0UmVjdGFuZ2xlLmluY2x1ZGVQb2ludChkcmFnZ2FibGUuZ2V0Q2VudGVyKCkpXG4gICAgfVxuICB9XG5cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdGFuZ2xlKCkucG9zaXRpb25cbiAgfVxuXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdGFuZ2xlKCkuc2l6ZVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBzY29wZXMuZm9yRWFjaCgoc2NvcGUpID0+IHJlbW92ZUl0ZW0oc2NvcGUudGFyZ2V0cywgdGhpcykpXG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIFtdKVxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgW10sIDApXG4gIH1cblxuICBvbkVuZChkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBuZXdEcmFnZ2FibGVzSW5kZXggPSBbXVxuICAgIGNvbnN0IGluY2x1ZGVQb2ludCA9IHRoaXMuZ2V0UmVjdGFuZ2xlKCkuaW5jbHVkZVBvaW50KGRyYWdnYWJsZS5nZXRQb3NpdGlvbigpKVxuXG4gICAgaWYgKCFpbmNsdWRlUG9pbnQpIHtcbiAgICAgIGlmICh0aGlzLmdldFJlY3RhbmdsZSgpLmluY2x1ZGVQb2ludChkcmFnZ2FibGUuZ2V0Q2VudGVyKCkpKSB7XG4gICAgICAgIGRyYWdnYWJsZS5wb3NpdGlvbiA9IGRyYWdnYWJsZS5nZXRDZW50ZXIoKS5jbG9uZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJlZm9yZUFkZC5maXJlKGRyYWdnYWJsZSlcblxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzID0gdGhpcy5zb3J0aW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLCBbZHJhZ2dhYmxlXSwgbmV3RHJhZ2dhYmxlc0luZGV4KVxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIG5ld0RyYWdnYWJsZXNJbmRleClcblxuICAgIHRoaXMuc2V0UG9zaXRpb24ocmVjdGFuZ2xlcywgbmV3RHJhZ2dhYmxlc0luZGV4KVxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xKSB7XG4gICAgICB0aGlzLmFkZFJlbW92ZU9uTW92ZShkcmFnZ2FibGUpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBpbmRleGVzT2ZOZXcsIHRpbWUpIHtcbiAgICB0aGlzLmlubmVyRHJhZ2dhYmxlcy5zbGljZSgwKS5mb3JFYWNoKChkcmFnZ2FibGUsIGkpID0+IHtcbiAgICAgIGNvbnN0IHJlY3QgPSByZWN0YW5nbGVzW2ldLFxuICAgICAgICB0aW1lRW5kID0gdGltZSB8fCB0aW1lID09PSAwID8gdGltZSA6IGluZGV4ZXNPZk5ldy5pbmRleE9mKGkpICE9PSAtMSA/IHRoaXMub3B0aW9ucy50aW1lRW5kIDogdGhpcy5vcHRpb25zLnRpbWVFeGNhbmdlXG5cbiAgICAgIGlmIChyZWN0LnJlbW92YWJsZSkge1xuICAgICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCB0aW1lRW5kLCB0cnVlLCB0cnVlKVxuICAgICAgICByZW1vdmVJdGVtKHRoaXMuaW5uZXJEcmFnZ2FibGVzLCBkcmFnZ2FibGUpXG5cbiAgICAgICAgdGhpcy5vblJlbW92ZS5maXJlKGRyYWdnYWJsZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdnYWJsZS5tb3ZlKHJlY3QucG9zaXRpb24sIHRpbWVFbmQsIHRydWUsIHRydWUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFkZChkcmFnZ2FibGUsIHRpbWUpIHtcbiAgICBjb25zdCBuZXdEcmFnZ2FibGVzSW5kZXggPSB0aGlzLmlubmVyRHJhZ2dhYmxlcy5sZW5ndGhcblxuICAgIHRoaXMuYmVmb3JlQWRkLmZpcmUoZHJhZ2dhYmxlKVxuXG4gICAgdGhpcy5wdXNoSW5uZXJEcmFnZ2FibGUoZHJhZ2dhYmxlKVxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIG5ld0RyYWdnYWJsZXNJbmRleCwgZHJhZ2dhYmxlKVxuXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBbbmV3RHJhZ2dhYmxlc0luZGV4XSwgdGltZSB8fCAwKVxuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xKSB7XG4gICAgICB0aGlzLmFkZFJlbW92ZU9uTW92ZShkcmFnZ2FibGUpXG4gICAgfVxuICB9XG5cbiAgcHVzaElubmVyRHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIGlmICh0aGlzLmlubmVyRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSk9PT0tMSkge1xuICAgICAgdGhpcy5pbm5lckRyYWdnYWJsZXMucHVzaChkcmFnZ2FibGUpXG4gICAgfVxuICB9XG5cbiAgYWRkUmVtb3ZlT25Nb3ZlKGRyYWdnYWJsZSkge1xuICAgIGRyYWdnYWJsZS5vbk1vdmUuYWRkKHRoaXMucmVtb3ZlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlKGRyYWdnYWJsZSlcbiAgICB9KVxuXG4gICAgdGhpcy5vbkFkZC5maXJlKGRyYWdnYWJsZSlcbiAgfVxuXG4gIHJlbW92ZShkcmFnZ2FibGUpIHtcbiAgICBkcmFnZ2FibGUub25Nb3ZlLnJlbW92ZSh0aGlzLnJlbW92ZUhhbmRsZXIpXG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5uZXJEcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzLnNwbGljZShpbmRleCwgMSlcblxuICAgIGNvbnN0IHJlY3RhbmdsZXMgPSB0aGlzLnBvc2l0aW9uaW5nKHRoaXMuaW5uZXJEcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLmdldFJlY3RhbmdsZSgpXG4gICAgfSksIFtdKVxuXG4gICAgdGhpcy5zZXRQb3NpdGlvbihyZWN0YW5nbGVzLCBbXSlcbiAgICB0aGlzLm9uUmVtb3ZlLmZpcmUoZHJhZ2dhYmxlKVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuaW5pdFBvc2l0aW9uLCAwLCB0cnVlLCB0cnVlKVxuICAgICAgdGhpcy5vblJlbW92ZS5maXJlKGRyYWdnYWJsZSlcbiAgICB9KVxuICAgIHRoaXMuaW5uZXJEcmFnZ2FibGVzID0gW11cbiAgfVxuXG4gIGdldFNvcnRlZERyYWdnYWJsZXMoKSB7XG4gICAgdGhpcy5pbm5lckRyYWdnYWJsZXMuc2xpY2UoKVxuICB9XG59XG5cblRhcmdldC5vbkNyZWF0ZSA9IG5ldyBEcmFnZWUuRXZlbnQoVGFyZ2V0LCB7IGlzUmV2ZXJzZTogdHJ1ZSwgaXNTdG9wT25UcnVlOiB0cnVlIH0pXG5UYXJnZXQub25DcmVhdGUuYWRkKGFkZFRvRGVmYXVsdFNjb3BlKVxuXG5leHBvcnQgeyBUYXJnZXQgfVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RGVmYXVsdFBhcmVudChlbGVtZW50KSB7XG4gIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGVcbiAgd2hpbGUgKHBhcmVudC5wYXJlbnROb2RlICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudClbJ3Bvc2l0aW9uJ10gPT09ICdzdGF0aWMnKSB7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcbiAgfVxuICByZXR1cm4gcGFyZW50XG59XG4iLCJpbXBvcnQgeyBHZW9tZXRyeSwgUG9pbnQgfSBmcm9tICcuL2dlb21ldHJ5J1xuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb1JlY3RhbmdsZShyZWN0YW5nbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBzaXplKSB7XG4gICAgY29uc3QgY2FsY1BvaW50ID0gcG9pbnQuY2xvbmUoKSxcbiAgICAgIHJlY3RQMiA9IHJlY3RhbmdsZS5nZXRQMygpXG5cbiAgICBpZiAocmVjdGFuZ2xlLnBvc2l0aW9uLnggPiBjYWxjUG9pbnQueCkge1xuICAgICAgKGNhbGNQb2ludC54ID0gcmVjdGFuZ2xlLnBvc2l0aW9uLngpXG4gICAgfVxuICAgIGlmIChyZWN0YW5nbGUucG9zaXRpb24ueSA+IGNhbGNQb2ludC55KSB7XG4gICAgICBjYWxjUG9pbnQueSA9IHJlY3RhbmdsZS5wb3NpdGlvbi55XG4gICAgfVxuICAgIGlmIChyZWN0UDIueCA8IGNhbGNQb2ludC54ICsgc2l6ZS54KSB7XG4gICAgICBjYWxjUG9pbnQueCA9IHJlY3RQMi54IC0gc2l6ZS54XG4gICAgfVxuICAgIGlmIChyZWN0UDIueSA8IGNhbGNQb2ludC55ICsgc2l6ZS55KSB7XG4gICAgICBjYWxjUG9pbnQueSA9IHJlY3RQMi55IC0gc2l6ZS55XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGNQb2ludFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZFRvRWxlbWVudChlbGVtZW50LCBwYXJlbnQpIHtcbiAgY29uc3QgcmV0RnVuYyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBib3VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIH1cbiAgbGV0IGJvdW5kXG5cbiAgcmV0RnVuYy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgYm91bmQgPSBib3VuZFRvUmVjdGFuZ2xlKEdlb21ldHJ5LmNyZWF0ZVJlY3RhbmdsZUZyb21FbGVtZW50KGVsZW1lbnQsIHBhcmVudCkpXG4gIH1cblxuICByZXRGdW5jLnJlZnJlc2goKVxuICByZXR1cm4gcmV0RnVuY1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0xpbmVYKHgsIHN0YXJ0WSwgZW5kWSkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIHNpemUpIHtcbiAgICBjb25zdCBjYWxjUG9pbnQgPSBwb2ludC5jbG9uZSgpXG4gICAgY2FsY1BvaW50LnggPSB4XG4gICAgaWYgKHN0YXJ0WSA+IGNhbGNQb2ludC55KSB7XG4gICAgICBjYWxjUG9pbnQueSA9IHN0YXJ0WVxuICAgIH1cbiAgICBpZiAoZW5kWSA8IGNhbGNQb2ludC55ICsgc2l6ZS55KSB7XG4gICAgICBjYWxjUG9pbnQueSA9IGVuZFkgLSBzaXplLnlcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsY1BvaW50XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9MaW5lWSh5LCBzdGFydFgsIGVuZFgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBzaXplKSB7XG4gICAgY29uc3QgY2FsY1BvaW50ID0gcG9pbnQuY2xvbmUoKVxuICAgIGNhbGNQb2ludC55ID0geVxuICAgIGlmIChzdGFydFggPiBjYWxjUG9pbnQueCkge1xuICAgICAgY2FsY1BvaW50LnggPSBzdGFydFhcbiAgICB9XG4gICAgaWYgKGVuZFggPCBjYWxjUG9pbnQueCArIHNpemUueCkge1xuICAgICAgY2FsY1BvaW50LnggPSBlbmRYIC0gc2l6ZS54XG4gICAgfVxuICAgIHJldHVybiBjYWxjUG9pbnRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0xpbmUoc3RhcnQsIGVuZCkge1xuICBjb25zdCBhbHBoYSA9IE1hdGguYXRhbjIoZW5kLnkgLSBzdGFydC55LCBlbmQueCAtIHN0YXJ0LngpLFxuICAgIGJldGEgPSBhbHBoYSArIE1hdGguUEkgLyAyLFxuICAgIHNvbWVLID0gMTAsXG4gICAgY29zQmV0YSA9IE1hdGguY29zKGJldGEpLFxuICAgIHNpbkJldGEgPSBNYXRoLnNpbihiZXRhKVxuXG4gIHJldHVybiBmdW5jdGlvbihwb2ludCwgc2l6ZSkge1xuICAgIGNvbnN0IHBvaW50MiA9IG5ldyBQb2ludChwb2ludC54ICsgc29tZUsgKiBjb3NCZXRhLCBwb2ludC55ICsgc29tZUsgKiBzaW5CZXRhKSxcbiAgICAgIG5ld0VuZCA9IEdlb21ldHJ5LmdldFBvaW50SW5MaW5lQnlMZW5naHQoZW5kLCBzdGFydCwgc2l6ZS54KVxuICAgIGxldCBwb2ludENyb3NzaW5nID0gR2VvbWV0cnkuZGlyZWN0Q3Jvc3Npbmcoc3RhcnQsIGVuZCwgcG9pbnQsIHBvaW50MilcblxuICAgIHBvaW50Q3Jvc3NpbmcgPSBHZW9tZXRyeS5ib3VuZFRvTGluZShzdGFydCwgbmV3RW5kLCBwb2ludENyb3NzaW5nKVxuICAgIHJldHVybiBwb2ludENyb3NzaW5nXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kVG9DaXJjbGUoY2VudGVyLCByYWRpdXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHBvaW50LCBfc2l6ZSkge1xuICAgIGNvbnN0IGJvdW5kZWRQb2ludCA9IEdlb21ldHJ5LmdldFBvaW50SW5MaW5lQnlMZW5naHQoY2VudGVyLCBwb2ludCwgcmFkaXVzKVxuICAgIHJldHVybiBib3VuZGVkUG9pbnRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmRUb0FyYyhjZW50ZXIsIHJhZGl1cywgc3RhcnRBZ2xlLCBlbmRBbmdsZSkge1xuICByZXR1cm4gZnVuY3Rpb24ocG9pbnQsIF9zaXplKSB7XG4gICAgY29uc3QgYm91bmRTdGFydEFuZ2xlID0gdHlwZW9mIHN0YXJ0QWdsZSA9PT0gJ2Z1bmN0aW9uJyA/IHN0YXJ0QWdsZSgpIDogc3RhcnRBZ2xlXG4gICAgY29uc3QgYm91bmRFbmR0QW5nbGUgPSB0eXBlb2Ygc3RhcnRBZ2xlID09PSAnZnVuY3Rpb24nID8gZW5kQW5nbGUoKSA6IGVuZEFuZ2xlXG5cbiAgICBsZXQgYW5nbGUgPSBHZW9tZXRyeS5nZXRBbmdsZShjZW50ZXIsIHBvaW50KVxuICAgIGFuZ2xlID0gR2VvbWV0cnkubm9ybWFsaXplQW5nbGUoYW5nbGUpXG4gICAgYW5nbGUgPSBHZW9tZXRyeS5ib3VuZEFuZ2xlKGJvdW5kU3RhcnRBbmdsZSwgYm91bmRFbmR0QW5nbGUsIGFuZ2xlKVxuICAgIHJldHVybiBHZW9tZXRyeS5nZXRQb2ludEZyb21SYWRpYWxTeXN0ZW0oYW5nbGUsIHJhZGl1cywgY2VudGVyKVxuICB9XG59XG4iLCIvKiFcbiAqIGdldFN0eWxlUHJvcGVydHkgdjEuMC40XG4gKiBvcmlnaW5hbCBieSBrYW5nYXhcbiAqIGh0dHA6Ly9wZXJmZWN0aW9ua2lsbHMuY29tL2ZlYXR1cmUtdGVzdGluZy1jc3MtcHJvcGVydGllcy9cbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCB1bmRlZjogdHJ1ZSAqL1xuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgZXhwb3J0czogZmFsc2UsIG1vZHVsZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93ICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmVmaXhlcyA9ICdXZWJraXQgTW96IG1zIE1zIE8nLnNwbGl0KCcgJyk7XG52YXIgZG9jRWxlbVN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuXG5mdW5jdGlvbiBnZXRTdHlsZVByb3BlcnR5KCBwcm9wTmFtZSApIHtcbiAgaWYgKCAhcHJvcE5hbWUgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gdGVzdCBzdGFuZGFyZCBwcm9wZXJ0eSBmaXJzdFxuICBpZiAoIHR5cGVvZiBkb2NFbGVtU3R5bGVbIHByb3BOYW1lIF0gPT09ICdzdHJpbmcnICkge1xuICAgIHJldHVybiBwcm9wTmFtZTtcbiAgfVxuXG4gIC8vIGNhcGl0YWxpemVcbiAgcHJvcE5hbWUgPSBwcm9wTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BOYW1lLnNsaWNlKDEpO1xuXG4gIC8vIHRlc3QgdmVuZG9yIHNwZWNpZmljIHByb3BlcnRpZXNcbiAgdmFyIHByZWZpeGVkO1xuICBmb3IgKCB2YXIgaT0wLCBsZW4gPSBwcmVmaXhlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgcHJvcE5hbWU7XG4gICAgaWYgKCB0eXBlb2YgZG9jRWxlbVN0eWxlWyBwcmVmaXhlZCBdID09PSAnc3RyaW5nJyApIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZDtcbiAgICB9XG4gIH1cbn1cblxuLy8gdHJhbnNwb3J0XG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgLy8gQU1EXG4gIGRlZmluZSggZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldFN0eWxlUHJvcGVydHk7XG4gIH0pO1xufSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuICAvLyBDb21tb25KUyBmb3IgQ29tcG9uZW50XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0U3R5bGVQcm9wZXJ0eTtcbn0gZWxzZSB7XG4gIC8vIGJyb3dzZXIgZ2xvYmFsXG4gIHdpbmRvdy5nZXRTdHlsZVByb3BlcnR5ID0gZ2V0U3R5bGVQcm9wZXJ0eTtcbn1cblxufSkoIHdpbmRvdyApO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgY29uc3QgcmVzdWx0ID0gW11cbiAgaWYgKHR5cGVvZiBzdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0b3AgPSBzdGFydFxuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmICh0eXBlb2Ygc3RlcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGVwID0gMVxuICB9XG4gIGlmICgoc3RlcCA+IDAgJiYgc3RhcnQgPj0gc3RvcCkgfHwgKHN0ZXAgPCAwICYmIHN0YXJ0IDw9IHN0b3ApKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBzdGVwID4gMCA/IGkgPCBzdG9wIDogaSA+IHN0b3A7IGkgKz0gc3RlcCkge1xuICAgIHJlc3VsdC5wdXNoKGkpXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnksIFBvaW50IH0gZnJvbSAnLi9nZW9tZXRyeSdcblxuY2xhc3MgQmFzaWNTdHJhdGVneSB7XG4gIGNvbnN0cnVjdG9yKHJlY3RhbmdsZSwgb3B0aW9ucz17fSkge1xuICAgIHRoaXMucmVjdGFuZ2xlID0gcmVjdGFuZ2xlXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB9XG5cbiAgZ2V0IGJvdW5kUmVjdCAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlY3RhbmdsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucmVjdGFuZ2xlKCkgOiB0aGlzLnJlY3RhbmdsZVxuICB9XG59XG5cbmNsYXNzIE5vdENyb3NzaW5nU3RyYXRlZ3kgZXh0ZW5kcyBCYXNpY1N0cmF0ZWd5IHtcbiAgcG9zaXRpb25pbmcgKHJlY3RhbmdsZUxpc3QsIGluZGV4ZXNPZk5ld3MpIHtcbiAgICBjb25zdCBzdGF0aWNSZWN0YW5nbGVJbmRleGVzID0gcmVjdGFuZ2xlTGlzdC5yZWR1Y2UoKGluZGV4ZXMsIF9yZWN0LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ZXNPZk5ld3MuaW5kZXhPZihpbmRleCkgPT09IC0xKSB7XG4gICAgICAgIGluZGV4ZXMucHVzaChpbmRleClcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleGVzXG4gICAgfSwgW10pXG5cbiAgICBpbmRleGVzT2ZOZXdzLmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICBsZXQgcmVjdCA9IHJlY3RhbmdsZUxpc3RbaW5kZXhdXG4gICAgICBsZXQgcmVtb3ZhYmxlID0gZmFsc2VcblxuICAgICAgc3RhdGljUmVjdGFuZ2xlSW5kZXhlcy5mb3JFYWNoKChpbmRleE9mU3RhdGljKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRpY1JlY3QgPSByZWN0YW5nbGVMaXN0W2luZGV4T2ZTdGF0aWNdXG4gICAgICAgIHJlY3QgPSBzdGF0aWNSZWN0Lm1vdmVUb0JvdW5kKHJlY3QpXG4gICAgICB9KVxuXG4gICAgICByZW1vdmFibGUgPSBzdGF0aWNSZWN0YW5nbGVJbmRleGVzLnNvbWUoKGluZGV4T2ZTdGF0aWMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGljUmVjdCA9IHJlY3RhbmdsZUxpc3RbaW5kZXhPZlN0YXRpY11cbiAgICAgICAgcmV0dXJuICAhIXN0YXRpY1JlY3QuYW5kKHJlY3QpXG4gICAgICB9KSB8fCByZWN0LmFuZCh0aGlzLmJvdW5kUmVjdCkuZ2V0U3F1YXJlKCkgIT09IHJlY3QuZ2V0U3F1YXJlKClcblxuICAgICAgaWYgKHJlbW92YWJsZSkge1xuICAgICAgICByZWN0LnJlbW92YWJsZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRpY1JlY3RhbmdsZUluZGV4ZXMucHVzaChpbmRleClcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiByZWN0YW5nbGVMaXN0XG4gIH1cblxuICBzb3J0aW5nKG9kbERyYWdnYWJsZXNMaXN0LCBuZXdEcmFnZ2FibGVzLCBpbmRleE9mTmV3cykge1xuICAgIGNvbnN0IGRyYWdnYWJsZXMgPSBvZGxEcmFnZ2FibGVzTGlzdC5jb25jYXQobmV3RHJhZ2dhYmxlcylcbiAgICBuZXdEcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgaW5kZXhPZk5ld3MucHVzaChkcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKSlcbiAgICB9KVxuICAgIHJldHVybiBkcmFnZ2FibGVzXG4gIH1cbn1cblxuY2xhc3MgRmxvYXRMZWZ0U3RyYXRlZ3kgZXh0ZW5kcyBCYXNpY1N0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBvcHRpb25zPXt9KSB7XG4gICAgc3VwZXIocmVjdGFuZ2xlLCBvcHRpb25zKVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcmVtb3ZhYmxlOiB0cnVlXG4gICAgfSwgb3B0aW9ucylcblxuICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgODBcblxuICAgIHRoaXMucGFkZGluZ1RvcExlZnQgPSBvcHRpb25zLnBhZGRpbmdUb3BMZWZ0IHx8IG5ldyBQb2ludCgwLCAwKVxuICAgIHRoaXMucGFkZGluZ0JvdHRvbVJpZ2h0ID0gb3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgbmV3IFBvaW50KDAsIDApXG4gICAgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMgPSBvcHRpb25zLnlHYXBCZXR3ZWVuRHJhZ2dhYmxlcyB8fCAwXG5cbiAgICB0aGlzLmdldERpc3RhbmNlID0gb3B0aW9ucy5nZXREaXN0YW5jZSB8fCBHZW9tZXRyeS5nZXREaXN0YW5jZVxuICAgIHRoaXMuZ2V0UG9zaXRpb24gPSBvcHRpb25zLmdldFBvc2l0aW9uIHx8ICgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlLnBvc2l0aW9uXG4gICAgfSlcbiAgfVxuXG4gIHBvc2l0aW9uaW5nKHJlY3RhbmdsZUxpc3QsIF9pbmRleGVzT2ZOZXdzKSB7XG4gICAgY29uc3QgYm91bmRSZWN0ID0gdGhpcy5ib3VuZFJlY3RcbiAgICBjb25zdCByZWN0UDIgPSBib3VuZFJlY3QuZ2V0UDIoKVxuICAgIGxldCBib3VuZGFyeVBvaW50cyA9IFtib3VuZFJlY3QucG9zaXRpb25dXG5cbiAgICByZWN0YW5nbGVMaXN0LmZvckVhY2goKHJlY3QpID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbiwgaXNWYWxpZCA9IGZhbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kYXJ5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvc2l0aW9uID0gKG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tpXS54LFxuICAgICAgICAgIGkgPiAwID8gKGJvdW5kYXJ5UG9pbnRzW2kgLSAxXS55ICsgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMpIDogYm91bmRSZWN0LnBvc2l0aW9uLnkpXG4gICAgICAgICkuYWRkKHRoaXMucGFkZGluZ1RvcExlZnQpXG5cbiAgICAgICAgaXNWYWxpZCA9IChwb3NpdGlvbi54ICsgcmVjdC5zaXplLnggPCByZWN0UDIueClcblxuICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIHBvc2l0aW9uID0gKG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZFJlY3QucG9zaXRpb24ueCxcbiAgICAgICAgICBib3VuZGFyeVBvaW50c1tib3VuZGFyeVBvaW50cy5sZW5ndGggLSAxXS55ICsgdGhpcy55R2FwQmV0d2VlbkRyYWdnYWJsZXMpXG4gICAgICAgICkuYWRkKHRoaXMucGFkZGluZ1RvcExlZnQpXG4gICAgICB9XG5cbiAgICAgIHJlY3QucG9zaXRpb24gPSBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmFibGUgJiYgcmVjdC5nZXRQMygpLnkgPiBib3VuZFJlY3QuZ2V0UDMoKS55KSB7XG4gICAgICAgIHJlY3QucmVtb3ZhYmxlID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBib3VuZGFyeVBvaW50cyA9IEdlb21ldHJ5LmFkZFBvaW50VG9Cb3VuZFBvaW50cyhib3VuZGFyeVBvaW50cywgcmVjdC5nZXRQMygpLmFkZCh0aGlzLnBhZGRpbmdCb3R0b21SaWdodCkpXG4gICAgfSlcbiAgICByZXR1cm4gcmVjdGFuZ2xlTGlzdFxuICB9XG5cbiAgc29ydGluZyhvZGxEcmFnZ2FibGVzTGlzdCwgbmV3RHJhZ2dhYmxlcywgaW5kZXhPZk5ld3MpIHtcbiAgICBjb25zdCBuZXdMaXN0ID0gb2RsRHJhZ2dhYmxlc0xpc3QuY29uY2F0KClcbiAgICBjb25zdCBsaXN0T2xkUG9zaXRpb24gPSBvZGxEcmFnZ2FibGVzTGlzdC5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmdldFBvc2l0aW9uKCkpXG4gICAgbmV3RHJhZ2dhYmxlcy5mb3JFYWNoKChuZXdEcmFnZ2FibGUpID0+IHtcbiAgICAgIGxldCBpbmRleCA9IEdlb21ldHJ5LmluZGV4T2ZOZWFyZXN0UG9pbnQobGlzdE9sZFBvc2l0aW9uLCB0aGlzLmdldFBvc2l0aW9uKG5ld0RyYWdnYWJsZSksIHRoaXMucmFkaXVzLCB0aGlzLmdldERpc3RhbmNlKVxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IG5ld0xpc3QubGVuZ3RoXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IG5ld0xpc3QuaW5kZXhPZihvZGxEcmFnZ2FibGVzTGlzdFtpbmRleF0pXG4gICAgICB9XG4gICAgICBuZXdMaXN0LnNwbGljZShpbmRleCwgMCwgbmV3RHJhZ2dhYmxlKVxuICAgIH0pXG4gICAgbmV3RHJhZ2dhYmxlcy5mb3JFYWNoKChuZXdEcmFnZ2FibGUpID0+IHtcbiAgICAgIGluZGV4T2ZOZXdzLnB1c2gobmV3TGlzdC5pbmRleE9mKG5ld0RyYWdnYWJsZSkpXG4gICAgfSlcbiAgICByZXR1cm4gbmV3TGlzdFxuICB9XG59XG5cbmNsYXNzIEZsb2F0UmlnaHRTdHJhdGVneSBleHRlbmRzIEZsb2F0TGVmdFN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBvcHRpb25zPXt9KSB7XG4gICAgc3VwZXIocmVjdGFuZ2xlLCBvcHRpb25zKVxuXG4gICAgdGhpcy5wYWRkaW5nVG9wUmlnaHQgPSBvcHRpb25zLnBhZGRpbmdUb3BSaWdodCB8fCBuZXcgUG9pbnQoNSwgNSlcbiAgICB0aGlzLnBhZGRpbmdCb3R0b21MZWZ0ID0gb3B0aW9ucy5wYWRkaW5nQm90dG9tTGVmdCB8fCBuZXcgUG9pbnQoMCwgMClcblxuICAgIHRoaXMucGFkZGluZ1RvcE5lZ1JpZ2h0ID0gbmV3IFBvaW50KC10aGlzLnBhZGRpbmdUb3BSaWdodC54LCB0aGlzLnBhZGRpbmdUb3BSaWdodC55KVxuICAgIHRoaXMucGFkZGluZ0JvdHRvbU5lZ0xlZnQgPSBuZXcgUG9pbnQoLXRoaXMucGFkZGluZ0JvdHRvbUxlZnQueCwgdGhpcy5wYWRkaW5nQm90dG9tTGVmdC55KVxuICB9XG5cbiAgcG9zaXRpb25pbmcocmVjdGFuZ2xlTGlzdCwgX2luZGV4ZXNPZk5ld3MpIHtcbiAgICBjb25zdCBib3VuZFJlY3QgPSB0aGlzLmJvdW5kUmVjdFxuICAgIGxldCBib3VuZGFyeVBvaW50cyA9IFtib3VuZFJlY3QuZ2V0UmlnaHRUb3BQb2ludCgpXVxuICAgIHJlY3RhbmdsZUxpc3QuZm9yRWFjaCgocmVjdCwgX2luZGV4KSA9PiB7XG4gICAgICBsZXQgcG9zaXRpb24sIGlzVmFsaWQgPSBmYWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZGFyeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwb3NpdGlvbiA9IChuZXcgUG9pbnQoXG4gICAgICAgICAgYm91bmRhcnlQb2ludHNbaV0ueCAtIHJlY3Quc2l6ZS54LFxuICAgICAgICAgIGkgPiAwID8gYm91bmRhcnlQb2ludHNbaSAtIDFdLnkgOiBib3VuZFJlY3QucG9zaXRpb24ueSlcbiAgICAgICAgKS5hZGQodGhpcy5wYWRkaW5nVG9wTmVnUmlnaHQpXG5cbiAgICAgICAgaXNWYWxpZCA9IChwb3NpdGlvbi54ID4gcmVjdC5wb3NpdGlvbi54KVxuICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICBwb3NpdGlvbiA9IG5ldyBQb2ludChcbiAgICAgICAgICBib3VuZFJlY3QuZ2V0UDIoKS54LFxuICAgICAgICAgIGJvdW5kYXJ5UG9pbnRzW2JvdW5kYXJ5UG9pbnRzLmxlbmd0aCAtIDFdLnlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmVjdC5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92YWJsZSAmJiByZWN0LmdldExlZnRCb3R0b21Qb2ludCgpLnkgPiBib3VuZFJlY3QuZ2V0UDQoKS55KSB7XG4gICAgICAgIHJlY3QucmVtb3ZhYmxlID0gdHJ1ZVxuICAgICAgfVxuICAgICAgYm91bmRhcnlQb2ludHMgPSBHZW9tZXRyeS5hZGRQb2ludFRvQm91bmRQb2ludHMoYm91bmRhcnlQb2ludHMsIHJlY3QuZ2V0UDQoKS5hZGQodGhpcy5wYWRkaW5nQm90dG9tTmVnTGVmdCksIHRydWUpXG4gICAgfSlcbiAgICByZXR1cm4gcmVjdGFuZ2xlTGlzdFxuICB9XG59XG5cbmV4cG9ydCB7IE5vdENyb3NzaW5nU3RyYXRlZ3ksIEZsb2F0TGVmdFN0cmF0ZWd5LCBGbG9hdFJpZ2h0U3RyYXRlZ3kgfVxuIiwiLyoqXG4gKiBSZW1vdmUgYSByYW5nZSBvZiBpdGVtcyBmcm9tIGFuIGFycmF5XG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIHRhcmdldCBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SWR4IFRoZSBpbmRleCB0byBiZWdpbiByZW1vdmluZyBmcm9tIChpbmNsdXNpdmUpXG4gKiBAcGFyYW0ge251bWJlcn0gcmVtb3ZlQ291bnQgSG93IG1hbnkgaXRlbXMgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUl0ZW1zIChhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudCkge1xuICB2YXIgaSwgbGVuZ3RoID0gYXJyLmxlbmd0aDtcblxuICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudCk7XG5cbiAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuXG4gIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgfVxuXG4gIGFyci5sZW5ndGggPSBsZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlbW92ZUl0ZW1zO1xuIiwiaW1wb3J0IHJlbW92ZUl0ZW0gZnJvbSAncmVtb3ZlLWFycmF5LWl0ZW1zJ1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnknXG5pbXBvcnQgeyBEcmFnZ2FibGUgfSBmcm9tICcuL2RyYWdnYWJsZSdcblxuY29uc3QgRHJhZ2VlID0geyBFdmVudCB9IC8vdG9kbyByZW1vdmUgYWZ0ZXIgcmVmYWN0b3JlXG5cbmNsYXNzIExpc3Qge1xuICBjb25zdHJ1Y3RvcihkcmFnZ2FibGVzLCBvcHRpb25zPXt9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0aW1lRW5kOiAyMDAsXG4gICAgICB0aW1lRXhjYW5nZTogNDAwLFxuICAgICAgcmFkaXVzOiAzMCxcbiAgICAgIGdldERpc3RhbmNlOiBHZW9tZXRyeS5nZXREaXN0YW5jZSxcbiAgICAgIGlzRGlzcGxhY2VtZW50OiBmYWxzZSxcbiAgICAgIGlzU29ydGFibGU6IHRydWVcbiAgICB9LCBvcHRpb25zKVxuXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gZHJhZ2dhYmxlc1xuICAgIHRoaXMub25DaGFuZ2UgPSBuZXcgRHJhZ2VlLkV2ZW50KHRoaXMpXG4gICAgaWYgKG9wdGlvbnMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMub25DaGFuZ2UuYWRkKG9wdGlvbnMub25DaGFuZ2UpXG4gICAgfVxuICAgIHRoaXMuaW5pdCgpXG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX2VuYWJsZSA9IHRydWVcbiAgICB0aGlzLmRyYWdnYWJsZXMuZm9yRWFjaCh0aGlzLmluaXREcmFnZ2FibGUsIHRoaXMpXG4gIH1cblxuICBpbml0RHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgIGxldCBtb3ZlSGFuZGxlclxuICAgIGNvbnN0IGxpc3QgPSB0aGlzXG5cbiAgICBkcmFnZ2FibGUuZW5hYmxlID0gdGhpcy5fZW5hYmxlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc0Rpc3BsYWNlbWVudCkge1xuICAgICAgbW92ZUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRyYWdnYWJsZS5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgbGlzdC5vblN0YXJ0KGRyYWdnYWJsZSlcbiAgICAgICAgICBkcmFnZ2FibGUub25Nb3ZlLnJlbW92ZShtb3ZlSGFuZGxlcilcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRyYWdnYWJsZS5vbkVuZC5hZGQoKCkgPT4ge1xuICAgICAgICB0aGlzLm9uRW5kRGlzcGxheWNlbWVudChkcmFnZ2FibGUpXG4gICAgICAgIGRyYWdnYWJsZS5vbk1vdmUuYWRkKG1vdmVIYW5kbGVyKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSlcblxuICAgICAgZHJhZ2dhYmxlLm9uTW92ZS5hZGQobW92ZUhhbmRsZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdnYWJsZS5vbkVuZC5hZGQoKCkgPT4ge1xuICAgICAgICB0aGlzLm9uRW5kKGRyYWdnYWJsZSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgbW92ZU9yU2F2ZShkcmFnZ2FibGUsIHBvc2l0aW9uLCB0aW1lKSB7XG4gICAgaWYgKGRyYWdnYWJsZS5pc0RyYWdnaW5nKSB7XG4gICAgICBkcmFnZ2FibGUuZml4UG9zaXRpb24gPSBwb3NpdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBkcmFnZ2FibGUubW92ZShwb3NpdGlvbiwgdGltZSwgdHJ1ZSlcbiAgICB9XG4gIH1cblxuICBvbkVuZChkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBmaXhQb3NpdGlvbnMgPSB0aGlzLmdldEN1cnJlbnRGaXhQb3NpdGlvbigpXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5kcmFnZ2FibGVzLmluZGV4T2YoZHJhZ2dhYmxlKVxuICAgIGNvbnN0IGV4Y2FuZ2VJbmRleCA9IEdlb21ldHJ5LmluZGV4T2ZOZWFyZXN0UG9pbnQoZml4UG9zaXRpb25zLCBkcmFnZ2FibGUucG9zaXRpb24sIHRoaXMub3B0aW9ucy5yYWRpdXMsIHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZSlcblxuICAgIGlmIChleGNhbmdlSW5kZXggPT09IC0xIHx8IGV4Y2FuZ2VJbmRleCA9PT0gY3VycmVudEluZGV4KSB7XG4gICAgICBkcmFnZ2FibGUubW92ZShkcmFnZ2FibGUuZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRW5kLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vdmVPclNhdmUodGhpcy5kcmFnZ2FibGVzW2V4Y2FuZ2VJbmRleF0sIGZpeFBvc2l0aW9uc1tjdXJyZW50SW5kZXhdLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpXG4gICAgICB0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XS5tb3ZlKGZpeFBvc2l0aW9uc1tleGNhbmdlSW5kZXhdLCB0aGlzLm9wdGlvbnMudGltZUVuZCwgdHJ1ZSlcbiAgICAgIHRoaXMub25DaGFuZ2UuZmlyZSgpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzb3J0SWZQb3NzaWJsZShkcmFnZ2FibGUpIHtcbiAgICBjb25zdCBmaXhQb3NpdGlvbiA9IGRyYWdnYWJsZS5maXhQb3NpdGlvblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBjb25zdCBuZXh0RHJhZ2dhYmxlID0gdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdXG4gICAgY29uc3QgcHJldkRyYWdnYWJsZSA9IHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXggLSAxXVxuXG4gICAgaWYgKGRyYWdnYWJsZS5kb3duRGlyZWN0aW9uICYmIG5leHREcmFnZ2FibGUpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5vcHRpb25zLmdldERpc3RhbmNlKGRyYWdnYWJsZS5wb3NpdGlvbiwgbmV4dERyYWdnYWJsZS5wb3NpdGlvbilcbiAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMub3B0aW9ucy5yYWRpdXMpIHtcbiAgICAgICAgZHJhZ2dhYmxlLmZpeFBvc2l0aW9uID0gbmV4dERyYWdnYWJsZS5maXhQb3NpdGlvblxuICAgICAgICB0aGlzLm1vdmVPclNhdmUobmV4dERyYWdnYWJsZSwgZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSk7XG4gICAgICAgIFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCArIDFdXSA9IFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4ICsgMV0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdXVxuICAgICAgICB0aGlzLnNvcnRJZlBvc3NpYmxlKGRyYWdnYWJsZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZHJhZ2dhYmxlLnVwRGlyZWN0aW9uICYmIHByZXZEcmFnZ2FibGUpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5vcHRpb25zLmdldERpc3RhbmNlKGRyYWdnYWJsZS5wb3NpdGlvbiwgcHJldkRyYWdnYWJsZS5wb3NpdGlvbilcbiAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMub3B0aW9ucy5yYWRpdXMpIHtcbiAgICAgICAgZHJhZ2dhYmxlLmZpeFBvc2l0aW9uID0gcHJldkRyYWdnYWJsZS5maXhQb3NpdGlvblxuICAgICAgICB0aGlzLm1vdmVPclNhdmUocHJldkRyYWdnYWJsZSwgZml4UG9zaXRpb24sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSk7XG4gICAgICAgIFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4XSwgdGhpcy5kcmFnZ2FibGVzW2N1cnJlbnRJbmRleCAtIDFdXSA9IFt0aGlzLmRyYWdnYWJsZXNbY3VycmVudEluZGV4IC0gMV0sIHRoaXMuZHJhZ2dhYmxlc1tjdXJyZW50SW5kZXhdXVxuICAgICAgICB0aGlzLnNvcnRJZlBvc3NpYmxlKGRyYWdnYWJsZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkVuZERpc3BsYXljZW1lbnQoZHJhZ2dhYmxlKSB7XG4gICAgY29uc3Qgc29ydGVkRHJhZ2dhYmxlcyA9IHRoaXMuZ2V0U29ydGVkRHJhZ2dhYmxlcygpXG4gICAgY29uc3QgZml4UG9zaXRpb25zID0gc29ydGVkRHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmZpeFBvc2l0aW9uKVxuXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gc29ydGVkRHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSlcbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IEdlb21ldHJ5LmluZGV4T2ZOZWFyZXN0UG9pbnQoZml4UG9zaXRpb25zLCBkcmFnZ2FibGUucG9zaXRpb24sIHRoaXMub3B0aW9ucy5yYWRpdXMsIHRoaXMub3B0aW9ucy5nZXREaXN0YW5jZSlcblxuICAgIGlmICh0YXJnZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmICh0YXJnZXRJbmRleCA8IGN1cnJlbnRJbmRleCkge1xuICAgICAgICBmb3IgKGxldCBpPXRhcmdldEluZGV4OyBpPGN1cnJlbnRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlT3JTYXZlKHNvcnRlZERyYWdnYWJsZXNbaV0sIGZpeFBvc2l0aW9uc1tpKzFdLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGk9Y3VycmVudEluZGV4OyBpPHRhcmdldEluZGV4OyBpKyspIHtcbiAgICAgICAgICB0aGlzLm1vdmVPclNhdmUoc29ydGVkRHJhZ2dhYmxlc1tpKzFdLCBmaXhQb3NpdGlvbnNbaV0sIHRoaXMub3B0aW9ucy50aW1lRXhjYW5nZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZHJhZ2dhYmxlLm1vdmUoZml4UG9zaXRpb25zW3RhcmdldEluZGV4XSwgdGhpcy5vcHRpb25zLnRpbWVFbmQsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5maXhQb3NpdGlvbiwgdGhpcy5vcHRpb25zLnRpbWVFbmQsIHRydWUpXG4gICAgfVxuICB9XG5cbiAgb25TdGFydChkcmFnZ2FibGUpIHtcbiAgICBsZXQgaVxuICAgIGNvbnN0IHNvcnRlZERyYWdnYWJsZXMgPSB0aGlzLmdldFNvcnRlZERyYWdnYWJsZXMoKVxuICAgIGNvbnN0IGZpeFBvc2l0aW9ucyA9IHNvcnRlZERyYWdnYWJsZXMubWFwKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5maXhQb3NpdGlvbilcblxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHNvcnRlZERyYWdnYWJsZXMuaW5kZXhPZihkcmFnZ2FibGUpXG4gICAgZm9yIChpID0gY3VycmVudEluZGV4ICsgMTsgaSA8IHNvcnRlZERyYWdnYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMubW92ZU9yU2F2ZShzb3J0ZWREcmFnZ2FibGVzW2ldLCBmaXhQb3NpdGlvbnNbaSAtIDFdLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UpXG4gICAgfVxuICAgIHNvcnRlZERyYWdnYWJsZXNbY3VycmVudEluZGV4XS5maXhQb3NpdGlvbiA9IGZpeFBvc2l0aW9uc1tpIC0gMV1cbiAgfVxuXG4gIGdldEN1cnJlbnRGaXhQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuZml4UG9zaXRpb24uY2xvbmUoKSlcbiAgfVxuXG4gIGdldFNvcnRlZERyYWdnYWJsZXMoKSB7XG4gICAgY29uc3QgaW5pdFBvc2l0aW9ucyA9IHRoaXMuZHJhZ2dhYmxlcy5tYXAoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmluaXRQb3NpdGlvbilcblxuICAgIGNvbnN0IHNvcnRlZERyYWdnYWJsZXMgPSBpbml0UG9zaXRpb25zLm1hcCgocG9zaXRpb24pID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZXMuZmlsdGVyKChkcmFnZ2FibGUpID0+IGRyYWdnYWJsZS5maXhQb3NpdGlvbi5jb21wYXJlKHBvc2l0aW9uKSlbMF1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHNvcnRlZERyYWdnYWJsZXNcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5tb3ZlKGRyYWdnYWJsZS5pbml0UG9zaXRpb24sIDAsIHRydWUsIGZhbHNlKVxuICAgIH0pXG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5yZWZyZXNoKClcbiAgICB9KVxuICB9XG5cbiAgYWRkKGRyYWdnYWJsZXMpIHtcbiAgICBpZiAoIShkcmFnZ2FibGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICBkcmFnZ2FibGVzID0gW2RyYWdnYWJsZXNdXG4gICAgfVxuICAgIGRyYWdnYWJsZXMuZm9yRWFjaCh0aGlzLmluaXREcmFnZ2FibGUsIHRoaXMpXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gdGhpcy5kcmFnZ2FibGVzLmNvbmNhdChkcmFnZ2FibGVzKVxuICB9XG5cbiAgcmVtb3ZlKGRyYWdnYWJsZXMpIHtcbiAgICBjb25zdCBpbml0UG9zaXRpb25zID0gdGhpcy5kcmFnZ2FibGVzLm1hcCgoZHJhZ2dhYmxlKSA9PiBkcmFnZ2FibGUuaW5pdFBvc2l0aW9uKVxuICAgIGNvbnN0IGxpc3QgPSBbXVxuICAgIGNvbnN0IHNvcnRlZERyYWdnYWJsZXMgPSB0aGlzLmdldFNvcnRlZERyYWdnYWJsZXMoKVxuXG4gICAgaWYgKCEoZHJhZ2dhYmxlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgZHJhZ2dhYmxlcyA9IFtkcmFnZ2FibGVzXVxuICAgIH1cblxuICAgIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgICBkcmFnZ2FibGUub25FbmQucmVzZXQoKVxuICAgICAgZHJhZ2dhYmxlLm9uTW92ZS5yZXNldCgpIC8vdG9kbyByZW1vdmUgcmVzZXQgaW4gZnV0dXJlXG4gICAgICByZW1vdmVJdGVtKHRoaXMuZHJhZ2dhYmxlcywgZHJhZ2dhYmxlKVxuICAgIH0pXG5cbiAgICBsZXQgaiA9IDBcbiAgICBzb3J0ZWREcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKGRyYWdnYWJsZSkgIT09IC0xKSB7XG4gICAgICAgIGlmIChkcmFnZ2FibGUuZml4UG9zaXRpb24gIT09IGluaXRQb3NpdGlvbnNbal0pIHtcbiAgICAgICAgICBkcmFnZ2FibGUubW92ZShpbml0UG9zaXRpb25zW2pdLCB0aGlzLm9wdGlvbnMudGltZUV4Y2FuZ2UsIHRydWUpXG4gICAgICAgIH1cbiAgICAgICAgZHJhZ2dhYmxlLmluaXRQb3NpdGlvbiA9IGluaXRQb3NpdGlvbnNbal1cbiAgICAgICAgaisrXG4gICAgICAgIGxpc3QucHVzaChkcmFnZ2FibGUpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmRyYWdnYWJsZXMgPSBsaXN0XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLnJlbW92ZSh0aGlzLmRyYWdnYWJsZXMuc2xpY2UoKSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmRlc3Ryb3koKSlcbiAgfVxuXG4gIGdldCBwb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudEZpeFBvc2l0aW9uKClcbiAgfVxuXG4gIHNldCBwb3NpdGlvbnMocG9zaXRpb25zKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9ICd3cm9uZyBhcnJheSBsZW5ndGgnXG4gICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT09IHRoaXMuZHJhZ2dhYmxlcy5sZW5ndGgpIHtcbiAgICAgIHBvc2l0aW9ucy5mb3JFYWNoKChwb2ludCwgaSkgPT4ge1xuICAgICAgICB0aGlzLmRyYWdnYWJsZXNbaV0ubW92ZShwb2ludCwgMCwgdHJ1ZSwgdHJ1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG1lc3NhZ2VcbiAgICB9XG4gIH1cblxuICBnZXQgZW5hYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVcbiAgfVxuXG4gIHNldCBlbmFibGUoZW5hYmxlKSB7XG4gICAgdGhpcy5fZW5hYmxlID0gZW5hYmxlXG4gICAgdGhpcy5kcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgICAgZHJhZ2dhYmxlLmVuYWJsZSA9IGVuYWJsZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gbGlzdEZhY3RvcnkocGFyZW50RWxlbWVudCwgZWxlbWVudHMsIG9wdGlvbnM9e30pIHtcbiAgY29uc3QgZHJhZ2dhYmxlT3B0aW9ucyA9IG9wdGlvbnMuZHJhZ2dhYmxlIHx8IHt9XG4gIGNvbnN0IGxpc3RPcHRpb25zID0gb3B0aW9ucy5saXN0IHx8IHt9XG4gIGRyYWdnYWJsZU9wdGlvbnMucGFyZW50ID0gZHJhZ2dhYmxlT3B0aW9ucy5wYXJlbnQgfHwgcGFyZW50RWxlbWVudFxuICBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsZW1lbnRzKVxuXG4gIGNvbnN0IGRyYWdnYWJsZXMgPSBlbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IERyYWdnYWJsZShlbGVtZW50LCBkcmFnZ2FibGVPcHRpb25zKVxuICB9KVxuXG4gIHJldHVybiBuZXcgTGlzdChkcmFnZ2FibGVzLCBsaXN0T3B0aW9ucylcbn1cblxuZXhwb3J0IHsgTGlzdCwgbGlzdEZhY3RvcnkgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
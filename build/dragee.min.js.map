{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dragee.min.js","webpack:///webpack/bootstrap 4996672257d71daac926","webpack:///./src/index.js","webpack:///./src/expandnative.js","webpack:///./src/geometry.js","webpack:///./src/util.js","webpack:///./src/draggable.js","webpack:///./src/event.js","webpack:///./~/desandro-get-style-property/get-style-property.js","webpack:///./src/bound.js","webpack:///./src/scope.js","webpack:///./src/target.js","webpack:///./src/positioning.js","webpack:///./src/list.js","webpack:///./src/spider.js","webpack:///./src/arcslider.js","webpack:///./src/chart.js","webpack:///./src/listswitcher.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","global","Object","defineProperty","value","ListSwitcher","listSwitcherFactory","Chart","charts","ArcSlider","arcSliders","Spider","spiders","bound","positionFactory","sortingFactory","positionType","scope","scopeFactory","Scope","defaultScope","scopes","Target","targets","listFactory","List","Geometry","Rectangle","Point","Draggable","undefined","_geometry","_draggable","_list","_target","_scope","_positioning","_bound","_spider","_arcslider","_chart","_listswitcher","Array","prototype","forEach","fun","TypeError","t","len","length","thisp","arguments","i","filter","res","val","push","every","map","some","removeItem","splice","Element","hasClass","re","RegExp","test","className","addClass","replace","removeClass","HTMLElement","appbeginChild","node","firstChild","insertBefore","appendChild","exchange","refNode","tempParentNode","parentNode","tempBeforeNode","nextElementSibling","augment","receivingClass","givingClass","methodName","NodeList","Math","getNearIndex","arr","delta","abs","index","temp","getNearIndexWithCaptureRadius","radius","min","max","boundPoint","x","y","toRadian","angle","PI","String","substrend","substr","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","__defineGetter__","get","enumerable","configurable","name","func","set","defPropException","_interopRequireDefault","obj","__esModule","default","position","size","_util","_util2","Dragee","util","toString","add","sub","mult","k","negative","compare","clone","getP1","getP2","getP3","getP4","getCenter","or","rect","and","includePoint","includeRectangle","rectangle","moveToBound","axis","selAxis","crossRectangle","thisCenter","rectCenter","sign","offset","getSquare","styleApply","el","document","querySelector","style","left","top","width","height","growth","getMinSide","getDistance","p1","p2","dx","dy","sqrt","distance","getXDifference","getYDifference","transformedSpaceDistanceFactory","options","pow","indexOfNearPoint","directCrossing","L1P1","L1P2","L2P1","L2P2","k1","k2","b1","b2","boundToSegment","LP1","LP2","P","boundToLine","A","B","AP","AB","ab2","ap_ab","getPointInLine","percent","getPointInLineByLenght","lenght","createRectangleFromElement","parent","isContentBoxSize","isConsiderTranslate","getSizeOfElement","getOffset","parseInt","getComputedStyle","getSumValueOfStyleRule","elRect","getBoundingClientRect","parentRect","getPointFromRadialSystem","center","cos","sin","addPointToBoundPoints","boundpoints","point","isRight","result","bPoint","getAngle","diff","normalizeAngle","atan2","toDegree","boundAngle","dmin","dmax","getAngleDiff","getNearestAngle","alpha","beta","minAngle","maxAngle","getDefaultParent","bind","context","apply","getTouchByID","touchId","changedTouches","identifier","rules","reduce","sum","rule","appendFirstChild","range","start","stop","step","setStyle","key","cssText","hasOwnProperty","randomColor","rnd","round","random","toHexString","digit","str","red","green","blue","createCanvas","area","rectagle","canvas","createElement","setAttribute","that","toElement","startFilter","onEnd","Event","isReverse","isStopOnTrue","onMove","onStart","move","preventDoubleInit","onCreate","fire","init","events","draggables","_event","_event2","_desandroGetStyleProperty","_desandroGetStyleProperty2","isTouch","mouseEvents","end","touchEvents","draggable","message","existing","addToDefaultScope","addDraggable","transformProperty","transitionProperty","_enable","fixPosition","initPosition","_dragStart","dragStart","_dragMove","dragMove","_dragEnd","dragEnd","addEventListener","refresh","reinit","getSize","recalulate","getPosition","_transformPosition","_setTranslate","transform","translateCss","ua","navigator","userAgent","msie","indexOf","time","isFix","isSilent","determineDirection","refreshPosition","setPosition","setZeroTransition","leftDirection","rightDirection","upDirection","downDirection","event","currentEvent","isTouchEvent","TouchEvent","_startTouchPoint","pageX","clientX","pageY","clientY","_startPosition","_touchId","stopPropagation","target","HTMLInputElement","focus","preventDefault","isDragee","touch","touchPoint","removeEventListener","getRectangle","destroy","reset","__defineSetter__","enable","funcs","retValue","args","slice","fs","reverse","f","unshift","remove","__WEBPACK_AMD_DEFINE_RESULT__","getStyleProperty","propName","docElemStyle","charAt","toUpperCase","prefixed","prefixes","split","documentElement","boundToRectangle","calcPoint","rectP2","boundToElement","retFunc","boundToLineX","startY","endY","boundToLineY","startX","endX","someK","cosBeta","sinBeta","point2","pointCrossing","newEnd","boundToCircle","boundedPoint","boundToArc","startAgle","endAngle","boundStartAngle","boundEndtAngle","toRectangle","toLineX","toLineY","toLine","toCircle","toArc","timeEnd","onChange","fn","currentScope","addDraggableToScope","addTargetToScope","addTarget","parentElement","draggableElements","targetElements","draggableOptions","targetOptions","scopeOptions","shotTargets","catchDraggable","sort","a","b","innerDraggables","positions","alert","targetIndexes","timeExcange","sorting","floatLeft","positioning","removable","onAdd","beforeAdd","onRemove","targetRectangle","draggableSquare","rectangles","indexesOfNew","newDraggablesIndex","addRemoveOnMove","pushInnerDraggable","removeHandler","getSortedDraggables","type","notCrossing","opts","rectangleList","indexesOfNews","boundRect","staticRectangleIndexes","indexes","indexOfStatic","staticRect","paddingTopLeft","paddingBottomRight","yGapBetweenDraggables","boundaryPoints","isValid","floatRight","paddingTopNegRight","paddingBottomNegLeft","paddingTopRight","paddingBottomLeft","getRightTopPoint","getLeftBottomPoint","oldObjsList","newObjs","indexOfNews","objsList","concat","listOldPosition","newList","newObj","isDisplacement","lists","elements","listOptions","list","initDraggable","moveHandler","onEndDisplaycement","moveOrSave","currentIndex","excangeIndex","fixPositions","getCurrentFixPosition","targetIndex","sortedDraggables","initPositions","j","clear","areaRectangle","dAngle","startRadius","endRadius","lineWidth","strokeStyle","fillStyle","getContext","halfSize","draw","isInit","clearRect","beginPath","moveTo","lineTo","closePath","stroke","fill","startAngle","angles","shiftedCenter","change","updateAngle","setAngle","getArrayWithBoundIndexes","retIndexes","touchRadius","fillStyles","initAngles","onDraw","limitImg","limitImgOffset","isSelectable","getBoundAngle","initSelect","setActiveArc","e","canvasOffset","getArcOnPoint","activeArcIndex","updateAngles","isClossing","drawArc","enableIndexes","drawLimitImg","createClone","cloneObj","getFillStyle","color","arc","img","translate","rotate","drawImage","setTransform","getAnglesDiff","baseAngle","diffAngle","getPercent","getArcBisectrixs","setAngles","stepOn","extend","Child","Parent","F","constructor","superclass","isOn","getCurrentFixPositionWithOff","moveDraggable","fixToOff","moveDraggableToOff","fixOffPosition"],"mappings":"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","file":"dragee.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Dragee\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dragee\"] = factory();\n\telse\n\t\troot[\"Dragee\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Dragee\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dragee\"] = factory();\n\telse\n\t\troot[\"Dragee\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ListSwitcher = exports.listSwitcherFactory = exports.Chart = exports.charts = exports.ArcSlider = exports.arcSliders = exports.Spider = exports.spiders = exports.bound = exports.positionFactory = exports.sortingFactory = exports.positionType = exports.scope = exports.scopeFactory = exports.Scope = exports.defaultScope = exports.scopes = exports.Target = exports.targets = exports.listFactory = exports.List = exports.Geometry = exports.Rectangle = exports.Point = exports.Draggable = undefined;\n\t\n\t__webpack_require__(1);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tvar _list = __webpack_require__(11);\n\t\n\tvar _target = __webpack_require__(9);\n\t\n\tvar _scope = __webpack_require__(8);\n\t\n\tvar _positioning = __webpack_require__(10);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tvar _spider = __webpack_require__(12);\n\t\n\tvar _arcslider = __webpack_require__(13);\n\t\n\tvar _chart = __webpack_require__(14);\n\t\n\tvar _listswitcher = __webpack_require__(15);\n\t\n\tglobal.Point = _geometry.Point;\n\t\n\texports.Draggable = _draggable.Draggable;\n\texports.Point = _geometry.Point;\n\texports.Rectangle = _geometry.Rectangle;\n\texports.Geometry = _geometry.Geometry;\n\texports.List = _list.List;\n\texports.listFactory = _list.listFactory;\n\texports.targets = _target.targets;\n\texports.Target = _target.Target;\n\texports.scopes = _scope.scopes;\n\texports.defaultScope = _scope.defaultScope;\n\texports.Scope = _scope.Scope;\n\texports.scopeFactory = _scope.scopeFactory;\n\texports.scope = _scope.scope;\n\texports.positionType = _positioning.positionType;\n\texports.sortingFactory = _positioning.sortingFactory;\n\texports.positionFactory = _positioning.positionFactory;\n\texports.bound = _bound.bound;\n\texports.spiders = _spider.spiders;\n\texports.Spider = _spider.Spider;\n\texports.arcSliders = _arcslider.arcSliders;\n\texports.ArcSlider = _arcslider.ArcSlider;\n\texports.charts = _chart.charts;\n\texports.Chart = _chart.Chart;\n\texports.listSwitcherFactory = _listswitcher.listSwitcherFactory;\n\texports.ListSwitcher = _listswitcher.ListSwitcher;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar clone = function clone(o) {\n\t    function c(o) {\n\t        for (var i in o) {\n\t            this[i] = o[i];\n\t        }\n\t    }\n\t    return new c(o);\n\t};\n\t\n\t/************ Array **************/\n\t\n\tif (!Array.prototype.forEach) {\n\t    Array.prototype.forEach = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) fun.call(thisp, t[i], i, t);\n\t        }\n\t    };\n\t}\n\t\n\tif (!Array.prototype.filter) {\n\t    Array.prototype.filter = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var res = [];\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) {\n\t                var val = t[i]; // in case fun mutates this\n\t                if (fun.call(thisp, val, i, t)) res.push(val);\n\t            }\n\t        }\n\t        return res;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.every) {\n\t    Array.prototype.every = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t && !fun.call(thisp, t[i], i, t)) return false;\n\t        }\n\t        return true;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.map) {\n\t    Array.prototype.map = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var res = new Array(len);\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) res[i] = fun.call(thisp, t[i], i, t);\n\t        }\n\t        return res;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.some) {\n\t    Array.prototype.some = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t && fun.call(thisp, t[i], i, t)) return true;\n\t        }\n\t        return false;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.removeItem) {\n\t    Array.prototype.removeItem = function (val) {\n\t        for (var i = 0; i < this.length; i++) {\n\t            if (this[i] === val) {\n\t                this.splice(i, 1);\n\t                i--;\n\t            }\n\t        }\n\t        return this;\n\t    };\n\t}\n\t\n\t/*********** HTMLElement ***************/\n\tElement.prototype.hasClass = function (c) {\n\t    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n\t    return re.test(this.className);\n\t};\n\t\n\tElement.prototype.addClass = function (c) {\n\t    if (this.hasClass(c)) return this;\n\t    this.className = (this.className + \" \" + c).replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n\t    return this;\n\t};\n\t\n\tElement.prototype.removeClass = function (c) {\n\t    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n\t    this.className = this.className.replace(re, \"$1\").replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n\t    return this;\n\t};\n\t\n\tHTMLElement.prototype.appbeginChild = function (node) {\n\t    this.firstChild ? this.insertBefore(node, this.firstChild) : this.appendChild(node);\n\t};\n\t\n\tHTMLElement.prototype.exchange = function (refNode) {\n\t    var tempParentNode = refNode.parentNode;\n\t    var tempBeforeNode = refNode.nextElementSibling;\n\t    this.parentNode.insertBefore(refNode, this);\n\t    if (tempBeforeNode) tempParentNode.insertBefore(this, tempBeforeNode);else tempParentNode.appendChild(this);\n\t\n\t    return refNode;\n\t};\n\t\n\tvar fullOffset = function fullOffset(element, axis, parent_id) {\n\t    var tor = 0;\n\t    while (element && element.id != parent_id) {\n\t        //&& (element!=\"\")\n\t        if (axis == \"x\") {\n\t            if (element.offsetLeft) tor += element.offsetLeft;\n\t        }\n\t        if (axis == \"y\") {\n\t            if (element.offsetTop) tor += element.offsetTop;\n\t        }\n\t        element = element.parentNode;\n\t    }\n\t    return tor;\n\t};\n\t\n\t/*********************** 00P *************************/\n\tvar extend = function extend(Child, Parent) {\n\t    var F = function F() {};\n\t    F.prototype = Parent.prototype;\n\t    Child.prototype = new F();\n\t    Child.prototype.constructor = Child;\n\t    Child.superclass = Parent.prototype;\n\t};\n\t\n\tvar augment = function augment(receivingClass, givingClass) {\n\t    /* only provide certain methods */\n\t    if (arguments[2]) {\n\t        for (var i = 2, len = arguments.length; i < len; i++) {\n\t            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];\n\t        }\n\t    }\n\t    /* provide all methods*/\n\t    else {\n\t            for (methodName in givingClass.prototype) {\n\t                /* check to make sure the receiving class doesn't\n\t                   have a method of the same name as the one currently\n\t                   being processed */\n\t                if (!receivingClass.prototype[methodName]) {\n\t                    receivingClass.prototype[methodName] = givingClass.prototype[methodName];\n\t                }\n\t            }\n\t        }\n\t};\n\t/**************************************************/\n\taugment(NodeList, Array, 'forEach');\n\t\n\t/**************************************************/\n\tMath.getNearIndex = function (arr, val) {\n\t    var delta = Math.abs(arr[0] - val);\n\t    var index = 0;\n\t    for (var i = 0; i < arr.length; i++) {\n\t        var temp = Math.abs(arr[i] - val);\n\t        if (temp < delta) {\n\t            delta = temp;\n\t            index = i;\n\t        }\n\t    }\n\t    return index;\n\t};\n\t\n\tMath.getNearIndexWithCaptureRadius = function (arr, radius, val) {\n\t    var delta = Math.abs(arr[0] - val);\n\t    var index = 0;\n\t    for (var i = 0; i < arr.length; i++) {\n\t        var temp = Math.abs(arr[i] - val);\n\t        if (temp < delta) {\n\t            delta = temp;\n\t            index = i;\n\t        }\n\t    }\n\t    if (delta > radius) {\n\t        return -1;\n\t    }\n\t    return index;\n\t};\n\t\n\tMath.bound = function (min, max, val) {\n\t    //console.log(min,max,val)\n\t    return Math.max(min, Math.min(max, val));\n\t};\n\tMath.boundPoint = function (min, max, val) {\n\t    var x = Math.max(min.x, Math.min(max.x, val.x));\n\t    var y = Math.max(min.y, Math.min(max.y, val.y));\n\t    return new Point(x, y);\n\t};\n\t\n\tMath.toRadian = function (angle) {\n\t    return angle % 361 * Math.PI / 180;\n\t};\n\t/********************************************/\n\t\n\tString.prototype.substrend = function (length) {\n\t    return this.substr(0, this.length - length);\n\t};\n\t/********************************************/\n\t\n\tfunction XmlHttpRequest() {\n\t    if (window.XMLHttpRequest) {\n\t        xmlhttp = new XMLHttpRequest();\n\t    } else if (window.ActiveXObject) {\n\t        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t    }\n\t    if (xmlhttp == null) {\n\t        alert(\"Your browser does not support XMLHTTP.\");\n\t    }\n\t    return xmlhttp;\n\t}\n\t\n\twindow.requestAnimationFrame = function () {\n\t    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function ( /* function */callback, /* DOMElement */element) {\n\t        window.setTimeout(callback, 1000 / 60);\n\t    };\n\t}();\n\t\n\ttry {\n\t    if (!Object.prototype.__defineGetter__ && Object.defineProperty({}, \"x\", { get: function get() {\n\t            return true;\n\t        } }).x) {\n\t        Object.defineProperty(Object.prototype, \"__defineGetter__\", { enumerable: false, configurable: true,\n\t            value: function value(name, func) {\n\t                Object.defineProperty(this, name, { get: func, enumerable: true, configurable: true });\n\t            }\n\t        });\n\t        Object.defineProperty(Object.prototype, \"__defineSetter__\", { enumerable: false, configurable: true,\n\t            value: function value(name, func) {\n\t                Object.defineProperty(this, name, { set: func, enumerable: true, configurable: true });\n\t            }\n\t        });\n\t    }\n\t} catch (defPropException) {/*Do nothing if an exception occurs*/};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Geometry = exports.Rectangle = exports.Point = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Geometry;\n\tvar Dragee = { util: _util2.default }; //todo remove after refactore\n\t\n\t/*********************/\n\tfunction Point(x, y) {\n\t    this.x = x;\n\t    this.y = y;\n\t}\n\t\n\tPoint.prototype.toString = function () {\n\t    return '{x=' + this.x + ',y=' + this.y + '}';\n\t};\n\tPoint.prototype.add = function (p) {\n\t    return new Point(this.x + p.x, this.y + p.y);\n\t};\n\tPoint.prototype.sub = function (p) {\n\t    return new Point(this.x - p.x, this.y - p.y);\n\t};\n\tPoint.prototype.mult = function (k) {\n\t    return new Point(this.x * k, this.y * k);\n\t};\n\tPoint.prototype.negative = function () {\n\t    return new Point(-this.x, -this.y);\n\t};\n\tPoint.prototype.compare = function (p) {\n\t    return this.x === p.x && this.y === p.y;\n\t};\n\tPoint.prototype.clone = function () {\n\t    return new Point(this.x, this.y);\n\t};\n\t\n\t/****************/\n\tfunction Rectangle(position, size) {\n\t    this.position = position;\n\t    this.size = size;\n\t}\n\t\n\tRectangle.prototype.getP1 = function () {\n\t    return this.position;\n\t};\n\tRectangle.prototype.getP2 = function () {\n\t    return new Point(this.position.x + this.size.x, this.position.y);\n\t};\n\tRectangle.prototype.getP3 = function () {\n\t    return this.position.add(this.size);\n\t};\n\tRectangle.prototype.getP4 = function () {\n\t    return new Point(this.position.x, this.position.y + this.size.y);\n\t};\n\tRectangle.prototype.getCenter = function () {\n\t    return this.position.add(this.size.mult(0.5));\n\t};\n\tRectangle.prototype.or = function (rect) {\n\t    var position = new Point(Math.min(this.position.x, rect.position.x), Math.min(this.position.y, rect.position.y)),\n\t        size = new Point(Math.max(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.max(this.position.y + this.size.y, rect.position.y + rect.size.y)).sub(position);\n\t    return new Rectangle(position, size);\n\t};\n\tRectangle.prototype.and = function (rect) {\n\t    var position = new Point(Math.max(this.position.x, rect.position.x), Math.max(this.position.y, rect.position.y)),\n\t        size = new Point(Math.min(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.min(this.position.y + this.size.y, rect.position.y + rect.size.y)).sub(position);\n\t    if (size.x <= 0 || size.y <= 0) {\n\t        return null;\n\t    }\n\t    return new Rectangle(position, size);\n\t};\n\tRectangle.prototype.includePoint = function (p) {\n\t    return !(this.position.x > p.x || this.position.x + this.size.x < p.x || this.position.y > p.y || this.position.y + this.size.y < p.y);\n\t};\n\tRectangle.prototype.includeRectangle = function (rectangle) {\n\t    return this.includePoint(rectangle.position) && this.includePoint(rectangle.getP3());\n\t};\n\tRectangle.prototype.moveToBound = function (rect, axis) {\n\t    var selAxis, crossRectangle, thisCenter, rectCenter, sign, offset;\n\t    if (axis) {\n\t        selAxis = axis;\n\t    } else {\n\t        crossRectangle = this.and(rect);\n\t        if (!crossRectangle) {\n\t            return rect;\n\t        }\n\t        selAxis = crossRectangle.size.x > crossRectangle.size.y ? \"y\" : \"x\";\n\t    }\n\t    thisCenter = this.getCenter();\n\t    rectCenter = rect.getCenter();\n\t    sign = thisCenter[selAxis] > rectCenter[selAxis] ? -1 : 1;\n\t    offset = sign > 0 ? this.position[selAxis] + this.size[selAxis] - rect.position[selAxis] : this.position[selAxis] - (rect.position[selAxis] + rect.size[selAxis]);\n\t    rect.position[selAxis] = rect.position[selAxis] + offset;\n\t    return rect;\n\t};\n\tRectangle.prototype.getSquare = function () {\n\t    return this.size.x * this.size.y;\n\t};\n\tRectangle.prototype.styleApply = function (el) {\n\t    el = el || document.querySelector(\"ind\");\n\t    el.style.left = this.position.x + \"px\";\n\t    el.style.top = this.position.y + \"px\";\n\t    el.style.width = this.size.x + \"px\";\n\t    el.style.height = this.size.y + \"px\";\n\t};\n\tRectangle.prototype.growth = function (size) {\n\t    this.size = this.size.add(size);\n\t    this.position = this.position.add(size.mult(-0.5));\n\t};\n\tRectangle.prototype.getMinSide = function () {\n\t    return Math.min(this.size.x, this.size.y);\n\t};\n\t\n\t/*****************/\n\texports.Geometry = Geometry = {\n\t    getDistance: function getDistance(p1, p2) {\n\t        var dx = p1.x - p2.x,\n\t            dy = p1.y - p2.y;\n\t        return Math.sqrt(dx * dx + dy * dy);\n\t    },\n\t    distance: function distance(p1, p2) {\n\t        return Geometry.getDistance(p1, p2);\n\t    },\n\t    getXDifference: function getXDifference(p1, p2) {\n\t        return Math.abs(p1.x - p2.x);\n\t    },\n\t    getYDifference: function getYDifference(p1, p2) {\n\t        return Math.abs(p1.y - p2.y);\n\t    },\n\t    transformedSpaceDistanceFactory: function transformedSpaceDistanceFactory(options) {\n\t        return function (p1, p2) {\n\t            return Math.sqrt(Math.pow(options.x * Math.abs(p1.x - p2.x), 2) + Math.pow(options.y * Math.abs(p1.y - p2.y), 2));\n\t        };\n\t    },\n\t    indexOfNearPoint: function indexOfNearPoint(arr, val, radius, getDistance) {\n\t        var size,\n\t            index = 0,\n\t            i,\n\t            temp;\n\t        getDistance = getDistance || Geometry.getDistance;\n\t        if (arr.length === 0) {\n\t            return -1;\n\t        }\n\t        size = getDistance(arr[0], val);\n\t        for (i = 0; i < arr.length; i++) {\n\t            temp = getDistance(arr[i], val);\n\t            if (temp < size) {\n\t                size = temp;\n\t                index = i;\n\t            }\n\t        }\n\t        if (radius >= 0 && size > radius) {\n\t            return -1;\n\t        }\n\t        return index;\n\t    },\n\t    bound: function bound(min, max, val) {\n\t        return Math.max(min, Math.min(max, val));\n\t    },\n\t    boundPoint: function boundPoint(min, max, val) {\n\t        var x = Math.max(min.x, Math.min(max.x, val.x)),\n\t            y = Math.max(min.y, Math.min(max.y, val.y));\n\t        return new Point(x, y);\n\t    },\n\t    //Return crossing point of two lines\n\t    directCrossing: function directCrossing(L1P1, L1P2, L2P1, L2P2) {\n\t        var temp, k1, k2, b1, b2, x, y;\n\t        if (L2P1.x === L2P2.x) {\n\t            temp = L2P1;\n\t            L2P1 = L1P1;\n\t            L1P1 = temp;\n\t            temp = L2P2;\n\t            L2P2 = L1P2;\n\t            L1P2 = temp;\n\t        }\n\t        if (L1P1.x === L1P2.x) {\n\t            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n\t            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n\t            x = L1P1.x;\n\t            y = x * k2 + b2;\n\t            return new Point(x, y);\n\t        } else {\n\t            k1 = (L1P2.y - L1P1.y) / (L1P2.x - L1P1.x);\n\t            b1 = (L1P2.x * L1P1.y - L1P1.x * L1P2.y) / (L1P2.x - L1P1.x);\n\t            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n\t            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n\t            x = (b1 - b2) / (k2 - k1);\n\t            y = x * k1 + b1;\n\t            return new Point(x, y);\n\t        }\n\t    },\n\t    //Get point and check that point belong to segment of the line\n\t    // if not - return the nearest point of segment\n\t    boundToSegment: function boundToSegment(LP1, LP2, P) {\n\t        var x, y;\n\t        x = Geometry.bound(Math.min(LP1.x, LP2.x), Math.max(LP1.x, LP2.x), P.x);\n\t        if (x != P.x) {\n\t            y = x === LP1.x ? LP1.y : LP2.y;\n\t            P = new Point(x, y);\n\t        }\n\t        y = Geometry.bound(Math.min(LP1.y, LP2.y), Math.max(LP1.y, LP2.y), P.y);\n\t        if (y != P.y) {\n\t            x = y === LP1.y ? LP1.x : LP2.x;\n\t            P = new Point(x, y);\n\t        }\n\t        return P;\n\t    },\n\t    boundToLine: function boundToLine(A, B, P) {\n\t        var AP = new Point(P.x - A.x, P.y - A.y),\n\t            AB = new Point(B.x - A.x, B.y - A.y),\n\t            ab2 = AB.x * AB.x + AB.y * AB.y,\n\t            ap_ab = AP.x * AB.x + AP.y * AB.y,\n\t            t = ap_ab / ab2;\n\t        return new Point(A.x + AB.x * t, A.y + AB.y * t);\n\t    },\n\t    getPointInLine: function getPointInLine(LP1, LP2, percent) {\n\t        var dx = LP2.x - LP1.x,\n\t            dy = LP2.y - LP1.y;\n\t        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n\t    },\n\t    getPointInLineByLenght: function getPointInLineByLenght(LP1, LP2, lenght) {\n\t        var dx = LP2.x - LP1.x,\n\t            dy = LP2.y - LP1.y,\n\t            percent = lenght / Geometry.distance(LP1, LP2);\n\t        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n\t    },\n\t    createRectangleFromElement: function createRectangleFromElement(el, parent, isContentBoxSize, isConsiderTranslate) {\n\t        var size = this.getSizeOfElement(el, isContentBoxSize);\n\t        return new Rectangle(this.getOffset(el, parent || el.parentNode, isConsiderTranslate), size);\n\t    },\n\t    getSizeOfElement: function getSizeOfElement(el, isContentBoxSize) {\n\t        var width = parseInt(window.getComputedStyle(el)['width']),\n\t            height = parseInt(window.getComputedStyle(el)['height']);\n\t        if (!isContentBoxSize) {\n\t            width += Dragee.util.getSumValueOfStyleRule(el, [\"padding-left\", \"padding-right\", \"border-left-width\", \"border-right-width\"]);\n\t            height += Dragee.util.getSumValueOfStyleRule(el, [\"padding-top\", \"padding-bottom\", \"border-top-width\", \"border-bottom-width\"]);\n\t        }\n\t        return new Point(width, height);\n\t    },\n\t    getOffset: function getOffset(el, parent, isConsiderTranslate) {\n\t        var elRect = el.getBoundingClientRect(),\n\t            parentRect = parent.getBoundingClientRect();\n\t        return new Point(elRect.left - parentRect.left, elRect.top - parentRect.top);\n\t    },\n\t    getPointFromRadialSystem: function getPointFromRadialSystem(angle, length, center) {\n\t        center = center || new Point(0, 0);\n\t        return center.add(new Point(length * Math.cos(angle), length * Math.sin(angle)));\n\t    },\n\t    addPointToBoundPoints: function addPointToBoundPoints(boundpoints, point, isRight) {\n\t        var i,\n\t            result = boundpoints.filter(function (bPoint) {\n\t            return bPoint.y > point.y || (isRight ? bPoint.x < point.x : bPoint.x > point.x);\n\t        });\n\t        for (i = 0; i < result.length; i++) {\n\t            if (point.y < result[i].y) {\n\t                result.splice(i, 0, point);\n\t                return result;\n\t            }\n\t        }\n\t        result.push(point);\n\t        return result;\n\t    },\n\t    getAngle: function getAngle(p1, p2) {\n\t        var diff = p2.sub(p1);\n\t        return this.normalizeAngle(Math.atan2(diff.y, diff.x));\n\t    },\n\t    toRadian: function toRadian(angle) {\n\t        return angle % 360 * Math.PI / 180;\n\t    },\n\t    toDegree: function toDegree(angle) {\n\t        return angle * 180 / Math.PI % 360;\n\t    },\n\t    boundAngle: function boundAngle(min, max, val) {\n\t        var dmin, dmax;\n\t        if (min < max && val > min && val < max) {\n\t            return val;\n\t        } else if (max < min && (val < max || val > min)) {\n\t            return val;\n\t        } else {\n\t            dmin = this.getAngleDiff(min, val);\n\t            dmax = this.getAngleDiff(max, val);\n\t            if (dmin < dmax) {\n\t                return min;\n\t            } else {\n\t                return max;\n\t            }\n\t        }\n\t    },\n\t    getNearestAngle: function getNearestAngle(arr, angle) {\n\t        var i,\n\t            temp,\n\t            diff = Math.PI * 2,\n\t            value;\n\t        for (i = 0; i < arr.length; i++) {\n\t            temp = Geometry.getAngleDiff(arr[i], angle);\n\t            if (diff < temp) {\n\t                diff = temp;\n\t                value = arr[i];\n\t            }\n\t        }\n\t        return value;\n\t    },\n\t    getAngleDiff: function getAngleDiff(alpha, beta) {\n\t        var minAngle = Math.min(alpha, beta),\n\t            maxAngle = Math.max(alpha, beta);\n\t        return Math.min(maxAngle - minAngle, minAngle + Math.PI * 2 - maxAngle);\n\t    },\n\t    normalizeAngle: function normalizeAngle(val) {\n\t        while (val < 0) {\n\t            val += 2 * Math.PI;\n\t        }\n\t        while (val > 2 * Math.PI) {\n\t            val -= 2 * Math.PI;\n\t        }\n\t        return val;\n\t    }\n\t};\n\t\n\texports.Point = Point;\n\texports.Rectangle = Rectangle;\n\texports.Geometry = Geometry;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar util = {\n\t    getDefaultParent: function getDefaultParent(element) {\n\t        var parent = element.parentNode;\n\t        while (parent.parentNode && window.getComputedStyle(parent)[\"position\"] === \"static\") {\n\t            parent = parent.parentNode;\n\t        }\n\t        return parent;\n\t    },\n\t    bind: function bind(func, context) {\n\t        return function () {\n\t            return func.apply(context, [].splice.call(arguments, 0));\n\t        };\n\t    },\n\t    getTouchByID: function getTouchByID(element, touchId) {\n\t        var i;\n\t        for (i = 0; i < element.changedTouches.length; i++) {\n\t            if (element.changedTouches[i].identifier === touchId) {\n\t                return element.changedTouches[i];\n\t            }\n\t        }\n\t        return false;\n\t    },\n\t    getSumValueOfStyleRule: function getSumValueOfStyleRule(element, rules) {\n\t        return rules.reduce(function (sum, rule) {\n\t            return sum + parseInt(window.getComputedStyle(element)[rule] || 0);\n\t        }, 0);\n\t    },\n\t    appendFirstChild: function appendFirstChild(element, node) {\n\t        element.firstChild ? element.insertBefore(node, element.firstChild) : element.appendChild(node);\n\t    },\n\t    range: function range(start, stop, step) {\n\t        var result = [];\n\t        if (typeof stop === 'undefined') {\n\t            stop = start;\n\t            start = 0;\n\t        }\n\t        if (typeof step === 'undefined') {\n\t            step = 1;\n\t        }\n\t        if (step > 0 && start >= stop || step < 0 && start <= stop) {\n\t            return [];\n\t        }\n\t        for (var i = start; step > 0 ? i < stop : i > stop; i += step) {\n\t            result.push(i);\n\t        }\n\t        return result;\n\t    },\n\t    setStyle: function setStyle(element, style) {\n\t        style = style || {};\n\t        var cssText = \"\",\n\t            key;\n\t        for (key in style) {\n\t            if (style.hasOwnProperty(key)) {\n\t                cssText += key + \": \" + style[key] + \"; \";\n\t            }\n\t        }\n\t\n\t        element.style.cssText = cssText;\n\t    },\n\t    randomColor: function randomColor() {\n\t        var rnd = function rnd() {\n\t            return Math.round(Math.random() * 255);\n\t        },\n\t            toHexString = function toHexString(digit) {\n\t            var str = digit.toString(16);\n\t            while (str.length < 2) {\n\t                str = \"0\" + str;\n\t            }\n\t            return str;\n\t        },\n\t            red = rnd(),\n\t            green = rnd(),\n\t            blue = rnd();\n\t\n\t        return \"#\" + toHexString(red) + toHexString(green) + toHexString(blue);\n\t    },\n\t    createCanvas: function createCanvas(area, rectagle) {\n\t        var canvas;\n\t        if (window.getComputedStyle(area).position === \"static\") {\n\t            area.style.position = \"relative\";\n\t        }\n\t        canvas = document.createElement(\"canvas\");\n\t        canvas.setAttribute(\"width\", rectagle.size.x + \"px\");\n\t        canvas.setAttribute(\"height\", rectagle.size.y + \"px\");\n\t        util.setStyle(canvas, {\n\t            position: \"absolute\",\n\t            left: rectagle.position.y + \"px\",\n\t            top: rectagle.position.y + \"px\",\n\t            width: rectagle.size.x + \"px\",\n\t            height: rectagle.size.y + \"px\"\n\t        });\n\t        util.appendFirstChild(area, canvas);\n\t        return canvas;\n\t    }\n\t};\n\t\n\texports.default = util;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.events = exports.draggables = exports.Draggable = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\tvar _event2 = _interopRequireDefault(_event);\n\t\n\tvar _desandroGetStyleProperty = __webpack_require__(6);\n\t\n\tvar _desandroGetStyleProperty2 = _interopRequireDefault(_desandroGetStyleProperty);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _scope = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, bound: _bound.bound, Event: _event2.default }; //todo remove after refactore\n\t\n\tvar isTouch = 'ontouchstart' in window,\n\t    mouseEvents = {\n\t    start: 'mousedown',\n\t    move: 'mousemove',\n\t    end: 'mouseup'\n\t},\n\t    touchEvents = {\n\t    start: 'touchstart',\n\t    move: 'touchmove',\n\t    end: 'touchend'\n\t},\n\t    events = isTouch ? touchEvents : mouseEvents,\n\t    draggables = [],\n\t    preventDoubleInit = function preventDoubleInit(draggable) {\n\t    var message = \"for this element Dragee.Draggable is already exist, don't create it twice \";\n\t    if (draggables.some(function (existing) {\n\t        return draggable.element === existing.element;\n\t    })) {\n\t        throw message;\n\t    }\n\t    draggables.push(draggable);\n\t},\n\t    addToDefaultScope = function addToDefaultScope(draggable) {\n\t    _scope.defaultScope.addDraggable(draggable);\n\t},\n\t    transformProperty = (0, _desandroGetStyleProperty2.default)('transform'),\n\t    transitionProperty = (0, _desandroGetStyleProperty2.default)('transition');\n\t\n\tfunction Draggable(element, options) {\n\t    options = options || {};\n\t    var i,\n\t        that = this,\n\t        parent = options.parent || Dragee.util.getDefaultParent(element);\n\t    this.targets = [];\n\t    this.options = {\n\t        parent: parent,\n\t        bound: Dragee.bound.toElement(parent, parent),\n\t        startFilter: false,\n\t        isContentBoxSize: false,\n\t        position: false\n\t    };\n\t    for (i in options) {\n\t        if (options.hasOwnProperty(i)) {\n\t            this.options[i] = options[i];\n\t        }\n\t    }\n\t    this.onEnd = new Dragee.Event(this, { isReverse: true, isStopOnTrue: true });\n\t    this.onMove = new Dragee.Event(this);\n\t    this.onStart = new Dragee.Event(this);\n\t\n\t    this.onEnd.add(function () {\n\t        this.move(this.position, 0, true, true);\n\t    });\n\t\n\t    if (options.onEnd) {\n\t        this.onEnd.add(options.onEnd);\n\t    }\n\t    if (options.onMove) {\n\t        this.onMove.add(options.onMove);\n\t    }\n\t    if (options.onStart) {\n\t        this.onStart.add(options.onStart);\n\t    }\n\t    this.element = element;\n\t    this.bound = this.options.bound;\n\t    preventDoubleInit(this);\n\t    Draggable.onCreate.fire(this);\n\t    that.init();\n\t}\n\t\n\tDraggable.onCreate = new Dragee.Event(Draggable, { isReverse: true, isStopOnTrue: true });\n\tDraggable.onCreate.add(addToDefaultScope);\n\t\n\tDraggable.prototype.init = function () {\n\t    this._enable = true;\n\t    this.offset = _geometry.Geometry.getOffset(this.element, this.options.parent, true);\n\t    this.fixPosition = this.offset;\n\t    this.position = this.offset;\n\t    if (this.options.position) {\n\t        this.initPosition = this.options.position;\n\t        this.move(this.initPosition, 0, true, true);\n\t    } else {\n\t        this.initPosition = this.offset;\n\t    }\n\t    this._dragStart = Dragee.util.bind(this.dragStart, this);\n\t    this._dragMove = Dragee.util.bind(this.dragMove, this);\n\t    this._dragEnd = Dragee.util.bind(this.dragEnd, this);\n\t\n\t    this.element.addEventListener(touchEvents.start, this._dragStart);\n\t    this.element.addEventListener(mouseEvents.start, this._dragStart);\n\t\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.reinit = function () {\n\t    this.offset = _geometry.Geometry.getOffset(this.element, this.options.parent, true);\n\t    this.fixPosition = this.offset;\n\t    this.position = this.offset;\n\t    if (this.options.position) {\n\t        this.initPosition = this.options.position;\n\t        this.move(this.initPosition, 0, true, true);\n\t    } else {\n\t        this.initPosition = this.offset;\n\t    }\n\t\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.getSize = function (recalulate) {\n\t    return _geometry.Geometry.getSizeOfElement(this.element, this.options.isContentBoxSize);\n\t};\n\t\n\tDraggable.prototype.getPosition = function () {\n\t    this.position = this.offset.add(this._transformPosition || new _geometry.Point(0, 0));\n\t    return this.position;\n\t};\n\t\n\tDraggable.prototype.getCenter = function () {\n\t    return this.position.add(this.getSize().mult(0.5));\n\t};\n\t\n\tDraggable.prototype._setTranslate = function (point) {\n\t    this._transformPosition = point;\n\t\n\t    var transform = this.element.style[transformProperty],\n\t        translateCss = ' translate3d(' + point.x + 'px,' + point.y + 'px, 0px)';\n\t\n\t    var ua = window.navigator.userAgent;\n\t    var msie = ua.indexOf(\"MSIE \");\n\t\n\t    if (msie) {\n\t        translateCss = ' translate(' + point.x + 'px,' + point.y + 'px)';\n\t        if (!/translate\\([^)]+\\)/.test(transform)) {\n\t            transform += translateCss;\n\t        } else {\n\t            transform = transform.replace(/translate\\([^)]+\\)/, translateCss);\n\t        }\n\t    } else {\n\t        if (!/translate3d\\([^)]+\\)/.test(transform)) {\n\t            transform += translateCss;\n\t        } else {\n\t            transform = transform.replace(/translate3d\\([^)]+\\)/, translateCss);\n\t        }\n\t    }\n\t\n\t    this.element.style[transformProperty] = transform;\n\t};\n\t\n\tDraggable.prototype.move = function (point, time, isFix, isSilent) {\n\t    var that = this;\n\t    time = time || 0;\n\t    point = point.clone();\n\t    if (isFix) {\n\t        this.fixPosition = point;\n\t    }\n\t\n\t    this.determineDirection(point);\n\t\n\t    this.position = point;\n\t\n\t    transitionProperty && (that.element.style[transitionProperty] = time + \"ms\");\n\t    that._setTranslate(point.sub(that.offset));\n\t    isSilent || that.onMove.fire();\n\t};\n\t\n\tDraggable.prototype.refreshPosition = function () {\n\t    this.setPosition(this.getPosition());\n\t};\n\t\n\tDraggable.prototype.setPosition = function (point) {\n\t    point = point.clone();\n\t    this.position = point;\n\t\n\t    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n\t    this._setTranslate(point.sub(this.offset));\n\t};\n\t\n\tDraggable.prototype.setZeroTransition = function () {\n\t    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n\t};\n\t\n\tDraggable.prototype.determineDirection = function (point) {\n\t    this.leftDirection = this.position.x < point.x;\n\t    this.rightDirection = this.position.x > point.x;\n\t    this.upDirection = this.position.y > point.y;\n\t    this.downDirection = this.position.y < point.y;\n\t};\n\t\n\tDraggable.prototype.dragStart = function (event) {\n\t    this.currentEvent = event;\n\t    if (!this._enable || this.options.startFilter && !this.options.startFilter(event)) {\n\t        return;\n\t    }\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    this._startTouchPoint = new _geometry.Point(isTouchEvent ? event.changedTouches[0].pageX : event.clientX, isTouchEvent ? event.changedTouches[0].pageY : event.clientY);\n\t\n\t    this._startPosition = this.getPosition();\n\t    if (isTouchEvent) {\n\t        this._touchId = event.changedTouches[0].identifier;\n\t    }\n\t    event.stopPropagation();\n\t    if (!(event.target instanceof HTMLInputElement || event.target instanceof HTMLInputElement)) {\n\t        event.preventDefault();\n\t    } else {\n\t        event.target.focus();\n\t    }\n\t\n\t    document.addEventListener(touchEvents.move, this._dragMove);\n\t    document.addEventListener(mouseEvents.move, this._dragMove);\n\t\n\t    document.addEventListener(touchEvents.end, this._dragEnd);\n\t    document.addEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.isDragee = true;\n\t\n\t    this.onStart.fire(event);\n\t    this.element.addClass(\"active\");\n\t    this.onMove.fire(event);\n\t};\n\t\n\tDraggable.prototype.dragMove = function (event) {\n\t    this.currentEvent = event;\n\t\n\t    var touch, touchPoint, point;\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    if (isTouchEvent) {\n\t        if (!(touch = Dragee.util.getTouchByID(event, this._touchId))) {\n\t            return;\n\t        }\n\t    }\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    touchPoint = new _geometry.Point(isTouchEvent ? touch.pageX : event.clientX, isTouchEvent ? touch.pageY : event.clientY);\n\t    point = this._startPosition.add(touchPoint.sub(this._startTouchPoint));\n\t    point = this.bound(point, this.getSize());\n\t    this.touchPoint = touchPoint;\n\t    this.move(point, 0);\n\t};\n\t\n\tDraggable.prototype.dragEnd = function (event) {\n\t    var touch;\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    if (isTouchEvent) {\n\t        if (!(touch = Dragee.util.getTouchByID(event, this._touchId))) {\n\t            return;\n\t        }\n\t    }\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    this.onEnd.fire(event);\n\t\n\t    document.removeEventListener(touchEvents.move, this._dragMove);\n\t    document.removeEventListener(mouseEvents.move, this._dragMove);\n\t\n\t    document.removeEventListener(touchEvents.end, this._dragEnd);\n\t    document.removeEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.isDragee = false;\n\t    this.element.removeClass(\"active\");\n\t};\n\t\n\tDraggable.prototype.getRectangle = function () {\n\t    return new _geometry.Rectangle(this.position, this.getSize());\n\t};\n\t\n\tDraggable.prototype.refresh = function () {\n\t    this.getSize(true);\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.destroy = function () {\n\t    this.element.removeEventListener(touchEvents.start, this._dragStart);\n\t    this.element.removeEventListener(mouseEvents.start, this._dragStart);\n\t    this.element.removeEventListener(touchEvents.move, this._dragMove);\n\t    this.element.removeEventListener(mouseEvents.move, this._dragMove);\n\t    this.element.removeEventListener(touchEvents.end, this._dragEnd);\n\t    this.element.removeEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.onEnd.reset();\n\t    this.onMove.reset();\n\t};\n\t\n\tDraggable.prototype.__defineGetter__(\"enable\", function () {\n\t    return this._enable;\n\t});\n\t\n\tDraggable.prototype.__defineSetter__(\"enable\", function (enable) {\n\t    if (enable) {\n\t        this.element.removeClass(\"disable\");\n\t    } else {\n\t        this.element.addClass(\"disable\");\n\t    }\n\t\n\t    return this._enable = enable;\n\t});\n\t\n\texports.Draggable = Draggable;\n\texports.draggables = draggables;\n\texports.events = events;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tfunction Event(context, options) {\n\t    options = options || {};\n\t    this.funcs = [];\n\t    this.context = context;\n\t    this.isReverse = options.isReverse || false;\n\t    this.isStopOnTrue = options.isStopOnTrue || false;\n\t}\n\t\n\tEvent.prototype.fire = function () {\n\t    var args = [].slice.call(arguments),\n\t        i,\n\t        retValue,\n\t        fs = this.isReverse ? this.funcs.slice().reverse() : this.funcs;\n\t\n\t    for (i = 0; i < fs.length; i++) {\n\t        retValue = fs[i].apply(this.context, args);\n\t        if (this.isStopOnTrue && retValue) {\n\t            return true;\n\t        }\n\t    }\n\t    return !this.isStopOnTrue;\n\t};\n\t\n\tEvent.prototype.add = function (f) {\n\t    this.funcs.push(f);\n\t};\n\t\n\tEvent.prototype.unshift = function (f) {\n\t    this.funcs.unshift(f);\n\t};\n\t\n\tEvent.prototype.remove = function (f) {\n\t    var index = this.funcs.indexOf(f);\n\t    if (index !== -1) {\n\t        this.funcs.splice(index, 1);\n\t    }\n\t};\n\t\n\tEvent.prototype.reset = function (f) {\n\t    this.funcs = [];\n\t};\n\t\n\texports.default = Event;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * getStyleProperty v1.0.4\n\t * original by kangax\n\t * http://perfectionkills.com/feature-testing-css-properties/\n\t * MIT license\n\t */\n\t\n\t/*jshint browser: true, strict: true, undef: true */\n\t/*global define: false, exports: false, module: false */\n\t\n\t( function( window ) {\n\t\n\t'use strict';\n\t\n\tvar prefixes = 'Webkit Moz ms Ms O'.split(' ');\n\tvar docElemStyle = document.documentElement.style;\n\t\n\tfunction getStyleProperty( propName ) {\n\t  if ( !propName ) {\n\t    return;\n\t  }\n\t\n\t  // test standard property first\n\t  if ( typeof docElemStyle[ propName ] === 'string' ) {\n\t    return propName;\n\t  }\n\t\n\t  // capitalize\n\t  propName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\t\n\t  // test vendor specific properties\n\t  var prefixed;\n\t  for ( var i=0, len = prefixes.length; i < len; i++ ) {\n\t    prefixed = prefixes[i] + propName;\n\t    if ( typeof docElemStyle[ prefixed ] === 'string' ) {\n\t      return prefixed;\n\t    }\n\t  }\n\t}\n\t\n\t// transport\n\tif ( true ) {\n\t  // AMD\n\t  !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t    return getStyleProperty;\n\t  }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if ( typeof exports === 'object' ) {\n\t  // CommonJS for Component\n\t  module.exports = getStyleProperty;\n\t} else {\n\t  // browser global\n\t  window.getStyleProperty = getStyleProperty;\n\t}\n\t\n\t})( window );\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.bound = undefined;\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tfunction boundToRectangle(rectangle) {\n\t    return function (point, size) {\n\t        var calcPoint = point.clone(),\n\t            rectP2 = rectangle.getP3();\n\t\n\t        if (rectangle.position.x > calcPoint.x) {\n\t            calcPoint.x = rectangle.position.x;\n\t        }\n\t        if (rectangle.position.y > calcPoint.y) {\n\t            calcPoint.y = rectangle.position.y;\n\t        }\n\t        if (rectP2.x < calcPoint.x + size.x) {\n\t            calcPoint.x = rectP2.x - size.x;\n\t        }\n\t        if (rectP2.y < calcPoint.y + size.y) {\n\t            calcPoint.y = rectP2.y - size.y;\n\t        }\n\t        return calcPoint;\n\t    };\n\t}\n\t\n\tfunction boundToElement(element, parent) {\n\t    var bound,\n\t        retFunc = function retFunc() {\n\t        return bound.apply(this, arguments);\n\t    };\n\t\n\t    retFunc.refresh = function () {\n\t        bound = boundToRectangle(_geometry.Geometry.createRectangleFromElement(element, parent));\n\t    };\n\t    retFunc.refresh();\n\t    return retFunc;\n\t}\n\t\n\tfunction boundToLineX(x, startY, endY) {\n\t    return function (point, size) {\n\t        var calcPoint = point.clone();\n\t        calcPoint.x = x;\n\t        if (startY > calcPoint.y) {\n\t            calcPoint.y = startY;\n\t        }\n\t        if (endY < calcPoint.y + size.y) {\n\t            calcPoint.y = endY - size.y;\n\t        }\n\t        return calcPoint;\n\t    };\n\t}\n\t\n\tfunction boundToLineY(y, startX, endX) {\n\t    return function (point, size) {\n\t        var calcPoint = point.clone();\n\t        calcPoint.y = y;\n\t        if (startX > calcPoint.x) {\n\t            calcPoint.x = startX;\n\t        }\n\t        if (endX < calcPoint.x + size.x) {\n\t            calcPoint.x = endX - size.x;\n\t        }\n\t        return calcPoint;\n\t    };\n\t}\n\t\n\tfunction boundToLine(start, end) {\n\t    var alpha = Math.atan2(end.y - start.y, end.x - start.x),\n\t        beta = alpha + Math.PI / 2,\n\t        someK = 10,\n\t        cosBeta = Math.cos(beta),\n\t        sinBeta = Math.sin(beta);\n\t\n\t    return function (point, size) {\n\t        var point2 = new Point(point.x + someK * cosBeta, point.y + someK * sinBeta),\n\t            pointCrossing = _geometry.Geometry.directCrossing(start, end, point, point2),\n\t            newEnd = _geometry.Geometry.getPointInLineByLenght(end, start, size.x);\n\t\n\t        pointCrossing = _geometry.Geometry.boundToLine(start, newEnd, pointCrossing);\n\t        return pointCrossing;\n\t    };\n\t}\n\t\n\tfunction boundToCircle(center, radius) {\n\t    return function (point, size) {\n\t        var boundedPoint = _geometry.Geometry.getPointInLineByLenght(center, point, radius);\n\t        return boundedPoint;\n\t    };\n\t};\n\t\n\tfunction boundToArc(center, radius, startAgle, endAngle) {\n\t    return function (point, size) {\n\t        var boundStartAngle = typeof startAgle === \"function\" ? startAgle() : startAgle,\n\t            boundEndtAngle = typeof startAgle === \"function\" ? endAngle() : endAngle,\n\t            angle = _geometry.Geometry.getAngle(center, point);\n\t\n\t        angle = _geometry.Geometry.normalizeAngle(angle);\n\t        angle = _geometry.Geometry.boundAngle(boundStartAngle, boundEndtAngle, angle);\n\t        return _geometry.Geometry.getPointFromRadialSystem(angle, radius, center);\n\t    };\n\t}\n\t\n\tvar bound = {\n\t    toRectangle: boundToRectangle,\n\t    toElement: boundToElement,\n\t    toLineX: boundToLineX,\n\t    toLineY: boundToLineY,\n\t    toLine: boundToLine,\n\t    toCircle: boundToCircle,\n\t    toArc: boundToArc\n\t};\n\t\n\texports.bound = bound;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.scope = exports.scopeFactory = exports.Scope = exports.defaultScope = exports.scopes = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\tvar _event2 = _interopRequireDefault(_event);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tvar _target = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, Draggable: _draggable.Draggable, Target: _target.Target, Event: _event2.default }; //todo remove after refactore\n\t\n\tvar scopes = [],\n\t    defaultScope;\n\t\n\tfunction Scope(draggables, targets, options) {\n\t    scopes.forEach(function (scope) {\n\t        draggables && draggables.forEach(function (draggable) {\n\t            scope.draggables.removeItem(draggable);\n\t        });\n\t        targets && targets.forEach(function (target) {\n\t            scope.targets.removeItem(target);\n\t        });\n\t    });\n\t\n\t    this.draggables = draggables || [];\n\t    this.targets = targets || [];\n\t    scopes.push(this);\n\t    this.options = {\n\t        timeEnd: options && options.timeEnd || 400\n\t    };\n\t\n\t    this.onChange = new Dragee.Event(this);\n\t    if (options && options.onChange) {\n\t        this.onChange.add(options.onChange);\n\t    }\n\t    this.init();\n\t}\n\t\n\tScope.prototype.init = function () {\n\t    var that = this;\n\t    this.draggables.forEach(function (draggable) {\n\t        draggable.onEnd.add(function () {\n\t            return that.onEnd(this);\n\t        });\n\t    });\n\t};\n\t\n\tScope.prototype.addDraggable = function (draggable) {\n\t    var that = this;\n\t\n\t    this.draggables.push(draggable);\n\t    draggable.onEnd.unshift(function () {\n\t        return that.onEnd(this);\n\t    });\n\t};\n\t\n\tScope.prototype.addTarget = function (target) {\n\t    this.targets.push(target);\n\t};\n\t\n\tScope.prototype.onEnd = function (draggable) {\n\t    var shotTargets = this.targets.filter(function (target) {\n\t        return target.draggables.indexOf(draggable) !== -1;\n\t    }).filter(function (target) {\n\t        return target.catchDraggable(draggable);\n\t    }).sort(function (a, b) {\n\t        return a.getRectangle().getSquare() - b.getRectangle().getSquare();\n\t    });\n\t\n\t    if (shotTargets.length) {\n\t        shotTargets[0].onEnd(draggable);\n\t    } else if (draggable.targets.length) {\n\t        draggable.move(draggable.initPosition, this.options.timeEnd, true, true);\n\t    }\n\t    this.onChange.fire();\n\t    return true;\n\t};\n\t\n\tScope.prototype.reset = function () {\n\t    this.targets.forEach(function (target) {\n\t        target.reset();\n\t    });\n\t};\n\t\n\tScope.prototype.refresh = function () {\n\t    this.draggables.forEach(function (draggable) {\n\t        draggable.refresh();\n\t    });\n\t    this.targets.forEach(function (target) {\n\t        target.refresh();\n\t    });\n\t};\n\t\n\tScope.prototype.__defineGetter__(\"positions\", function () {\n\t    return this.targets.map(function (target) {\n\t        return target.innerDraggables.map(function (draggable) {\n\t            return this.draggables.indexOf(draggable);\n\t        }, this);\n\t    }, this);\n\t});\n\t\n\tScope.prototype.__defineSetter__(\"positions\", function (positions) {\n\t    var message = \"wrong array length\";\n\t    if (positions.length === this.targets.length) {\n\t        this.targets.forEach(function (target) {\n\t            target.reset();\n\t        }, this);\n\t        positions.forEach(function (targetIndexes, i) {\n\t            targetIndexes.forEach(function (index) {\n\t                this.targets[i].add(this.draggables[index]);\n\t            }, this);\n\t        }, this);\n\t    } else {\n\t        alert(message);\n\t        throw message;\n\t    }\n\t});\n\t\n\texports.defaultScope = defaultScope = new Scope();\n\t\n\tfunction scope(fn) {\n\t    var currentScope = new Scope(),\n\t        addDraggableToScope = function addDraggableToScope(draggable) {\n\t        currentScope.addDraggable(draggable);\n\t        return true;\n\t    },\n\t        addTargetToScope = function addTargetToScope(target) {\n\t        currentScope.addTarget(target);\n\t        return true;\n\t    };\n\t\n\t    _draggable.Draggable.onCreate.add(addDraggableToScope);\n\t    _target.Target.onCreate.add(addTargetToScope);\n\t    fn.call();\n\t    _draggable.Draggable.onCreate.remove(addDraggableToScope);\n\t    _target.Target.onCreate.remove(addTargetToScope);\n\t    return currentScope;\n\t}\n\t\n\tfunction scopeFactory(parentElement, draggableElements, targetElements, options) {\n\t    var draggables, targets, draggableOptions, targetOptions, scopeOptions;\n\t    options = options || {};\n\t    draggableOptions = options.draggable || {};\n\t    targetOptions = options.target || {};\n\t    scopeOptions = options.scope || {};\n\t    draggableOptions.parent = draggableOptions.parent || parentElement;\n\t    targetOptions.parent = targetOptions.parent || parentElement;\n\t    draggableElements = Array.prototype.slice.call(draggableElements);\n\t    targetElements = Array.prototype.slice.call(targetElements);\n\t\n\t    draggables = draggableElements.map(function (element) {\n\t        return new Dragee.Draggable(element, draggableOptions);\n\t    });\n\t\n\t    targets = targetElements.map(function (el) {\n\t        return new Dragee.Target(element, draggables, targetOptions);\n\t    });\n\t    return new Scope(draggables, targets, scopeOptions);\n\t}\n\t\n\texports.scopes = scopes;\n\texports.defaultScope = defaultScope;\n\texports.Scope = Scope;\n\texports.scopeFactory = scopeFactory;\n\texports.scope = scope;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Target = exports.targets = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\tvar _event2 = _interopRequireDefault(_event);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _positioning = __webpack_require__(10);\n\t\n\tvar _scope = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, positionType: _positioning.positionType, positionFactory: _positioning.positionFactory, sortingFactory: _positioning.sortingFactory, scopes: _scope.scopes, Event: _event2.default }; //todo remove after refactore\n\t\n\tvar targets = [],\n\t    addToDefaultScope = function addToDefaultScope(target) {\n\t\t_scope.defaultScope.addTarget(target);\n\t};\n\t\n\tfunction Target(element, draggables, options) {\n\t\toptions = options || {};\n\t\tvar target = this,\n\t\t    i,\n\t\t    parent = options.parent || Dragee.util.getDefaultParent(element);\n\t\tthis.options = {\n\t\t\ttimeEnd: 200,\n\t\t\ttimeExcange: 400,\n\t\t\tparent: parent,\n\t\t\tsorting: Dragee.sortingFactory(Dragee.positionType.floatLeft)(80, _geometry.Geometry.transformedSpaceDistanceFactory({ x: 1, y: 4 })),\n\t\t\tpositioning: Dragee.positionFactory(Dragee.positionType.floatLeft)(this.getRectangle.bind(this), { removable: true })\n\t\t};\n\t\tfor (i in options) {\n\t\t\tthis.options[i] = options[i];\n\t\t}\n\t\ttargets.push(this);\n\t\tthis.element = element;\n\t\tdraggables.forEach(function (draggable) {\n\t\t\tdraggable.targets.push(target);\n\t\t});\n\t\tthis.draggables = draggables;\n\t\tthis.onAdd = new Dragee.Event(this);\n\t\tthis.beforeAdd = new Dragee.Event(this);\n\t\tthis.onRemove = new Dragee.Event(this);\n\t\n\t\toptions.onRemove && this.onRemove.add(options.onRemove);\n\t\toptions.onAdd && this.onAdd.add(options.onAdd);\n\t\toptions.beforeAdd && this.beforeAdd.add(options.beforeAdd);\n\t\tTarget.onCreate.fire(this);\n\t\n\t\tthis.init();\n\t};\n\t\n\tTarget.onCreate = new Dragee.Event(Target, { isReverse: true, isStopOnTrue: true });\n\tTarget.onCreate.add(addToDefaultScope);\n\t\n\tTarget.prototype.getRectangle = function () {\n\t\treturn _geometry.Geometry.createRectangleFromElement(this.element, this.options.parent, this.options.isContentBoxSize, true);\n\t};\n\t\n\tTarget.prototype.catchDraggable = function (draggable) {\n\t\tif (this.options.catchDraggable) {\n\t\t\treturn this.options.catchDraggable(this, draggable);\n\t\t} else {\n\t\t\tvar targetRectangle = this.getRectangle(),\n\t\t\t    draggableSquare = draggable.getRectangle().getSquare();\n\t\n\t\t\treturn draggableSquare < targetRectangle.getSquare() && targetRectangle.includePoint(draggable.getCenter());\n\t\t}\n\t};\n\t\n\tTarget.prototype.getPosition = function () {\n\t\treturn this.getRectangle().position;\n\t};\n\t\n\tTarget.prototype.getSize = function () {\n\t\treturn this.getRectangle().size;\n\t};\n\t\n\tTarget.prototype.init = function () {\n\t\tvar rectangles, indexesOfNew;\n\t\n\t\tthis.innerDraggables = this.draggables.filter(function (draggable) {\n\t\t\tvar element = draggable.element.parentNode;\n\t\t\twhile (element) {\n\t\t\t\tif (element === this.element) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this);\n\t\n\t\tif (this.innerDraggables.length) {\n\t\t\tindexesOfNew = Dragee.util.range(this.innerDraggables.length);\n\t\t\trectangles = this.options.positioning(this.innerDraggables.map(function (draggable) {\n\t\t\t\treturn draggable.getRectangle();\n\t\t\t}), indexesOfNew);\n\t\t\tthis.setPosition(rectangles, indexesOfNew);\n\t\t\tthis.innerDraggables.forEach(function (draggable) {\n\t\t\t\tthis.onAdd.fire(draggable);\n\t\t\t}, this);\n\t\t}\n\t};\n\t\n\tTarget.prototype.destroy = function () {\n\t\tDragee.scopes.forEach(function (scope) {\n\t\t\tscope.targets.removeItem(this);\n\t\t}, this);\n\t};\n\t\n\tTarget.prototype.refresh = function () {\n\t\tvar rectangles = this.options.positioning(this.innerDraggables.map(function (draggable) {\n\t\t\treturn draggable.getRectangle();\n\t\t}), []);\n\t\tthis.setPosition(rectangles, [], 0);\n\t};\n\t\n\tTarget.prototype.onEnd = function (draggable) {\n\t\tvar newDraggablesIndex = [],\n\t\t    rectangles,\n\t\t    includePoint = this.getRectangle().includePoint(draggable.getPosition());\n\t\n\t\tif (!includePoint) {\n\t\t\tif (this.getRectangle().includePoint(draggable.getCenter())) {\n\t\t\t\tdraggable.position = draggable.getCenter().clone();\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\tthis.beforeAdd.fire(draggable);\n\t\n\t\tthis.innerDraggables = this.options.sorting(this.innerDraggables, [draggable], newDraggablesIndex);\n\t\trectangles = this.options.positioning(this.innerDraggables.map(function (draggable) {\n\t\t\treturn draggable.getRectangle();\n\t\t}), newDraggablesIndex, draggable);\n\t\n\t\tthis.setPosition(rectangles, newDraggablesIndex);\n\t\tif (this.innerDraggables.indexOf(draggable) !== -1) {\n\t\t\tthis.addRemoveOnMove(draggable);\n\t\t}\n\t\treturn true;\n\t};\n\t\n\tTarget.prototype.setPosition = function (rectangles, indexesOfNew, time) {\n\t\tthis.innerDraggables.slice(0).forEach(function (draggable, i) {\n\t\t\tvar rect = rectangles[i],\n\t\t\t    timeEnd = time || time == 0 ? time : indexesOfNew.indexOf(i) !== -1 ? this.options.timeEnd : this.options.timeExcange;\n\t\n\t\t\tif (rect.removable) {\n\t\t\t\tdraggable.move(draggable.initPosition, timeEnd, true, true);\n\t\t\t\tthis.innerDraggables.removeItem(draggable);\n\t\n\t\t\t\tthis.onRemove.fire(draggable);\n\t\t\t} else {\n\t\t\t\tdraggable.move(rect.position, timeEnd, true, true);\n\t\t\t}\n\t\t}, this);\n\t};\n\t\n\tTarget.prototype.add = function (draggable, time) {\n\t\tvar rectangles,\n\t\t    newDraggablesIndex = this.innerDraggables.length;\n\t\n\t\tthis.beforeAdd.fire(draggable);\n\t\n\t\tthis.pushInnerDraggable(draggable);\n\t\trectangles = this.options.positioning(this.innerDraggables.map(function (draggable) {\n\t\t\treturn draggable.getRectangle();\n\t\t}), newDraggablesIndex, draggable);\n\t\tthis.setPosition(rectangles, [newDraggablesIndex], time || 0);\n\t\tif (this.innerDraggables.indexOf(draggable) !== -1) {\n\t\t\tthis.addRemoveOnMove(draggable);\n\t\t}\n\t};\n\t\n\tTarget.prototype.pushInnerDraggable = function (draggable) {\n\t\tif (this.innerDraggables.indexOf(draggable) === -1) {\n\t\t\tthis.innerDraggables.push(draggable);\n\t\t}\n\t};\n\t\n\tTarget.prototype.addRemoveOnMove = function (draggable) {\n\t\tvar that = this;\n\t\n\t\tdraggable.onMove.add(this.removeHandler = function () {\n\t\t\tthat.remove(draggable);\n\t\t});\n\t\n\t\tthis.onAdd.fire(draggable);\n\t};\n\t\n\tTarget.prototype.remove = function (draggable) {\n\t\tvar index, rectangles;\n\t\tdraggable.onMove.remove(this.removeHandler);\n\t\n\t\tindex = this.innerDraggables.indexOf(draggable);\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tthis.innerDraggables.splice(index, 1);\n\t\n\t\trectangles = this.options.positioning(this.innerDraggables.map(function (draggable) {\n\t\t\treturn draggable.getRectangle();\n\t\t}), []);\n\t\n\t\tthis.setPosition(rectangles, []);\n\t\tthis.onRemove.fire(draggable);\n\t};\n\t\n\tTarget.prototype.reset = function () {\n\t\tthis.innerDraggables.forEach(function (draggable) {\n\t\t\tdraggable.move(draggable.initPosition, 0, true, true);\n\t\t\tthis.onRemove.fire(draggable);\n\t\t}, this);\n\t\tthis.innerDraggables = [];\n\t};\n\t\n\tTarget.prototype.getSortedDraggables = function () {\n\t\tthis.innerDraggables.slice();\n\t};\n\t\n\texports.targets = targets;\n\texports.Target = Target;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.positionFactory = exports.sortingFactory = exports.positionType = undefined;\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar positionType = {\n\t\tnotCrossing: 0,\n\t\tfloatLeft: 1,\n\t\tfloatRight: 2\n\t};\n\t\n\tfunction positionFactory(type) {\n\t\tswitch (type) {\n\t\t\tcase positionType.notCrossing:\n\t\t\t\treturn function (rectangle, options) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t    opts = {\n\t\t\t\t\t\tremovable: true\n\t\t\t\t\t};\n\t\t\t\t\tfor (i in options) {\n\t\t\t\t\t\topts[i] = options[i];\n\t\t\t\t\t}\n\t\t\t\t\treturn function (rectangleList, indexesOfNews) {\n\t\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle,\n\t\t\t\t\t\t    staticRectangleIndexes = rectangleList.reduce(function (indexes, rect, index) {\n\t\t\t\t\t\t\tif (indexesOfNews.indexOf(index) === -1) {\n\t\t\t\t\t\t\t\tindexes.push(index);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn indexes;\n\t\t\t\t\t\t}, []);\n\t\t\t\t\t\tindexesOfNews.forEach(function (index) {\n\t\t\t\t\t\t\tvar rect = rectangleList[index],\n\t\t\t\t\t\t\t    removable = false;\n\t\t\t\t\t\t\tstaticRectangleIndexes.forEach(function (indexOfStatic) {\n\t\t\t\t\t\t\t\tvar staticRect = rectangleList[indexOfStatic];\n\t\t\t\t\t\t\t\trect = staticRect.moveToBound(rect);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tremovable = staticRectangleIndexes.some(function (indexOfStatic) {\n\t\t\t\t\t\t\t\tvar staticRect = rectangleList[indexOfStatic];\n\t\t\t\t\t\t\t\treturn !!staticRect.and(rect);\n\t\t\t\t\t\t\t}) || rect.and(boundRect).getSquare() !== rect.getSquare();\n\t\t\t\t\t\t\tif (removable) {\n\t\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstaticRectangleIndexes.push(index);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn rectangleList;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase positionType.floatLeft:\n\t\t\t\treturn function (rectangle, options) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t    opts = {\n\t\t\t\t\t\tpaddingTopLeft: new _geometry.Point(0, 0),\n\t\t\t\t\t\tpaddingBottomRight: new _geometry.Point(0, 0),\n\t\t\t\t\t\tyGapBetweenDraggables: 0,\n\t\t\t\t\t\tremovable: true\n\t\t\t\t\t};\n\t\t\t\t\tfor (i in options) {\n\t\t\t\t\t\topts[i] = options[i];\n\t\t\t\t\t}\n\t\t\t\t\treturn function (rectangleList, indexesOfNews) {\n\t\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle,\n\t\t\t\t\t\t    rectP2 = boundRect.getP2(),\n\t\t\t\t\t\t    i,\n\t\t\t\t\t\t    boundaryPoints = [boundRect.position];\n\t\t\t\t\t\trectangleList.forEach(function (rect, index) {\n\t\t\t\t\t\t\tvar position,\n\t\t\t\t\t\t\t    isValid = false;\n\t\t\t\t\t\t\tfor (i = 0; i < boundaryPoints.length; i++) {\n\t\t\t\t\t\t\t\tposition = new _geometry.Point(boundaryPoints[i].x, i > 0 ? boundaryPoints[i - 1].y + opts.yGapBetweenDraggables : boundRect.position.y).add(opts.paddingTopLeft);\n\t\t\t\t\t\t\t\tif (isValid = position.x + rect.size.x < rectP2.x) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!isValid) {\n\t\t\t\t\t\t\t\tposition = new _geometry.Point(boundRect.position.x, boundaryPoints[boundaryPoints.length - 1].y + opts.yGapBetweenDraggables).add(opts.paddingTopLeft);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trect.position = position;\n\t\t\t\t\t\t\tif (opts.removable && rect.getP3().y > boundRect.getP3().y) {\n\t\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tboundaryPoints = _geometry.Geometry.addPointToBoundPoints(boundaryPoints, rect.getP3().add(opts.paddingBottomRight));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn rectangleList;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase positionType.floatRight:\n\t\t\t\treturn function (rectangle, options) {\n\t\t\t\t\tvar paddingTopNegRight,\n\t\t\t\t\t    paddingBottomNegLeft,\n\t\t\t\t\t    i,\n\t\t\t\t\t    opts = {\n\t\t\t\t\t\tpaddingTopRight: new _geometry.Point(5, 5),\n\t\t\t\t\t\tpaddingBottomLeft: new _geometry.Point(0, 0),\n\t\t\t\t\t\tremovable: true\n\t\t\t\t\t};\n\t\t\t\t\tfor (i in options) {\n\t\t\t\t\t\topts[i] = options[i];\n\t\t\t\t\t}\n\t\t\t\t\tpaddingTopNegRight = new _geometry.Point(-opts.paddingTopRight.x, opts.paddingTopRight.y);\n\t\t\t\t\tpaddingBottomNegLeft = new _geometry.Point(-opts.paddingBottomLeft.x, opts.paddingBottomLeft.y);\n\t\t\t\t\treturn function (rectangleList, indexesOfNews) {\n\t\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle,\n\t\t\t\t\t\t    i,\n\t\t\t\t\t\t    boundaryPoints = [boundRect.getRightTopPoint()];\n\t\t\t\t\t\trectangleList.forEach(function (rect, index) {\n\t\t\t\t\t\t\tvar position,\n\t\t\t\t\t\t\t    isValid = false;\n\t\t\t\t\t\t\tfor (i = 0; i < boundaryPoints.length; i++) {\n\t\t\t\t\t\t\t\tposition = new _geometry.Point(boundaryPoints[i].x - rect.size.x, i > 0 ? boundaryPoints[i - 1].y : boundRect.position.y).add(paddingTopNegRight);\n\t\t\t\t\t\t\t\tif (isValid = position.x > rect.position.x) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!isValid) {\n\t\t\t\t\t\t\t\tposition = new _geometry.Point(boundRect.getP2().x, boundaryPoints[boundaryPoints.length - 1].y);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trect.position = position;\n\t\t\t\t\t\t\tif (opts.removable && rect.getLeftBottomPoint().y > boundRect.getP4().y) {\n\t\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tboundaryPoints = _geometry.Geometry.addPointToBoundPoints(boundaryPoints, rect.getP4().add(paddingBottomNegLeft), true);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn rectangleList;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t}\n\t};\n\t\n\tfunction sortingFactory(type) {\n\t\tswitch (type) {\n\t\t\tcase positionType.notCrossing:\n\t\t\t\treturn function () {\n\t\t\t\t\treturn function (oldObjsList, newObjs, indexOfNews) {\n\t\t\t\t\t\tvar objsList = oldObjsList.concat(newObjs);\n\t\t\t\t\t\tnewObjs.forEach(function (obj) {\n\t\t\t\t\t\t\tindexOfNews.push(objsList.indexOf(obj));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn objsList;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase positionType.floatLeft:\n\t\t\tcase positionType.floatRight:\n\t\t\t\treturn function (radius, getDistance, options) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t    opts = {\n\t\t\t\t\t\tgetPosition: function getPosition(obj) {\n\t\t\t\t\t\t\treturn obj.position;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tfor (i in options) {\n\t\t\t\t\t\topts[i] = options[i];\n\t\t\t\t\t}\n\t\t\t\t\treturn function (oldObjsList, newObjs, indexOfNews) {\n\t\t\t\t\t\tvar newList = oldObjsList.concat(),\n\t\t\t\t\t\t    listOldPosition;\n\t\t\t\t\t\tlistOldPosition = oldObjsList.map(opts.getPosition);\n\t\t\t\t\t\tnewObjs.forEach(function (newObj) {\n\t\t\t\t\t\t\tvar index = _geometry.Geometry.indexOfNearPoint(listOldPosition, opts.getPosition(newObj), radius, getDistance);\n\t\t\t\t\t\t\tif (index === -1) {\n\t\t\t\t\t\t\t\tindex = newList.length;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tindex = newList.indexOf(oldObjsList[index]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnewList.splice(index, 0, newObj);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewObjs.forEach(function (newObj) {\n\t\t\t\t\t\t\tindexOfNews.push(newList.indexOf(newObj));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn newList;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t}\n\t};\n\t\n\texports.positionType = positionType;\n\texports.sortingFactory = sortingFactory;\n\texports.positionFactory = positionFactory;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.listFactory = exports.List = exports.lists = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\tvar _event2 = _interopRequireDefault(_event);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar lists = [];\n\t\n\tvar Dragee = { util: _util2.default, bound: _bound.bound, Draggable: _draggable.Draggable, events: _draggable.events, Event: _event2.default }; //todo remove after refactore\n\t\n\t\n\tfunction List(draggables, options) {\n\t\tvar i;\n\t\tthis.options = {\n\t\t\ttimeEnd: 200,\n\t\t\ttimeExcange: 400,\n\t\t\tradius: 30,\n\t\t\tgetDistance: _geometry.Geometry.getDistance,\n\t\t\tisDisplacement: false\n\t\t};\n\t\tfor (i in options) {\n\t\t\tif (options.hasOwnProperty(i)) {\n\t\t\t\tthis.options[i] = options[i];\n\t\t\t}\n\t\t}\n\t\tthis.draggables = draggables;\n\t\tlists.push(this);\n\t\tthis.onChange = new Dragee.Event(this);\n\t\tif (options && options.onChange) {\n\t\t\tthis.onChange.add(options.onChange);\n\t\t}\n\t\tthis.init();\n\t}\n\t\n\tList.prototype.init = function () {\n\t\tthis._enable = true;\n\t\tthis.draggables.forEach(this.initDraggable, this);\n\t};\n\t\n\tList.prototype.initDraggable = function (draggable) {\n\t\tvar _moveHandler,\n\t\t    that = this;\n\t\tdraggable.enable = this._enable;\n\t\tif (this.options.isDisplacement) {\n\t\t\t_moveHandler = function moveHandler() {\n\t\t\t\tif (this.isDragee) {\n\t\t\t\t\tthat.onStart(this);\n\t\t\t\t\tdraggable.onMove.remove(_moveHandler);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\tdraggable.onEnd.add(function () {\n\t\t\t\tthat.onEndDisplaycement(this);\n\t\t\t\tdraggable.onMove.add(_moveHandler);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tdraggable.onMove.add(_moveHandler);\n\t\t} else {\n\t\t\tdraggable.onEnd.add(function () {\n\t\t\t\tthat.onEnd(this);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tList.prototype.moveOrSave = function (draggable, position, time) {\n\t\tif (draggable.isDragee) {\n\t\t\tdraggable.fixPosition = position;\n\t\t} else {\n\t\t\tdraggable.move(position, time, true);\n\t\t}\n\t};\n\t\n\tList.prototype.onEnd = function (draggable) {\n\t\tvar fixPositions = this.getCurrentFixPosition(),\n\t\t    currentIndex,\n\t\t    excangeIndex;\n\t\tcurrentIndex = this.draggables.indexOf(draggable);\n\t\texcangeIndex = _geometry.Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n\t\tif (excangeIndex === -1 || excangeIndex === currentIndex) {\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t} else {\n\t\t\tthis.moveOrSave(this.draggables[excangeIndex], fixPositions[currentIndex], this.options.timeExcange);\n\t\t\tthis.draggables[currentIndex].move(fixPositions[excangeIndex], this.options.timeEnd, true);\n\t\t\tthis.onChange.fire();\n\t\t}\n\t\treturn true;\n\t};\n\t\n\tList.prototype.onEndDisplaycement = function (draggable) {\n\t\tvar currentIndex,\n\t\t    i,\n\t\t    targetIndex,\n\t\t    sortedDraggables = this.getSortedDraggables(),\n\t\t    fixPositions = sortedDraggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\ttargetIndex = _geometry.Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n\t\tif (targetIndex !== -1) {\n\t\t\tif (targetIndex < currentIndex) {\n\t\t\t\tfor (i = targetIndex; i < currentIndex; i++) {\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i + 1], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = currentIndex; i < targetIndex; i++) {\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i + 1], fixPositions[i], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdraggable.move(fixPositions[targetIndex], this.options.timeEnd, true);\n\t\t} else {\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t}\n\t};\n\t\n\tList.prototype.onStart = function (draggable) {\n\t\tvar currentIndex,\n\t\t    i,\n\t\t    sortedDraggables = this.getSortedDraggables(),\n\t\t    fixPositions = sortedDraggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\t\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\tfor (i = currentIndex + 1; i < sortedDraggables.length; i++) {\n\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i - 1], this.options.timeExcange);\n\t\t}\n\t\tsortedDraggables[currentIndex].fixPosition = fixPositions[i - 1];\n\t};\n\t\n\tList.prototype.getCurrentFixPosition = function () {\n\t\treturn this.draggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition.clone();\n\t\t});\n\t};\n\t\n\tList.prototype.getSortedDraggables = function () {\n\t\tvar sortedDraggables,\n\t\t    initPositions = this.draggables.map(function (draggable) {\n\t\t\treturn draggable.initPosition;\n\t\t});\n\t\tsortedDraggables = initPositions.map(function (position) {\n\t\t\treturn this.draggables.filter(function (draggable) {\n\t\t\t\treturn draggable.fixPosition.compare(position);\n\t\t\t}, this)[0];\n\t\t}, this);\n\t\treturn sortedDraggables;\n\t};\n\t\n\tList.prototype.reset = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.move(draggable.initPosition, 0, true, false);\n\t\t});\n\t};\n\t\n\tList.prototype.refresh = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.refresh();\n\t\t});\n\t};\n\t\n\tList.prototype.add = function (draggables) {\n\t\tif (!(draggables instanceof Array)) {\n\t\t\tdraggables = [draggables];\n\t\t}\n\t\tdraggables.forEach(this.initDraggable, this);\n\t\tthis.draggables = this.draggables.concat(draggables);\n\t};\n\t\n\tList.prototype.remove = function (draggables) {\n\t\tvar j,\n\t\t    initPositions = this.draggables.map(function (draggable) {\n\t\t\treturn draggable.initPosition;\n\t\t}),\n\t\t    list = [],\n\t\t    sortedDraggables = this.getSortedDraggables();\n\t\tif (!(draggables instanceof Array)) {\n\t\t\tdraggables = [draggables];\n\t\t}\n\t\tdraggables.forEach(function (draggable) {\n\t\t\tdraggable.onEnd.reset();\n\t\t\tdraggable.onMove.reset(); //todo remove reset in future\n\t\t\tthis.draggables.removeItem(draggable);\n\t\t\tDragee.util.remove(this.draggables, draggable);\n\t\t}, this);\n\t\tj = 0;\n\t\tsortedDraggables.forEach(function (draggable, i) {\n\t\t\tif (this.draggables.indexOf(draggable) !== -1) {\n\t\t\t\tif (draggable.fixPosition !== initPositions[j]) {\n\t\t\t\t\tdraggable.move(initPositions[j], this.options.timeExcange, true);\n\t\t\t\t}\n\t\t\t\tdraggable.initPosition = initPositions[j];\n\t\t\t\tj++;\n\t\t\t\tlist.push(draggable);\n\t\t\t}\n\t\t}, this);\n\t\tthis.draggables = list;\n\t};\n\t\n\tList.prototype.clear = function () {\n\t\tthis.remove(this.draggables.slice());\n\t};\n\t\n\tList.prototype.destroy = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.destroy();\n\t\t});\n\t};\n\t\n\tList.prototype.__defineGetter__(\"positions\", function () {\n\t\treturn this.getCurrentFixPosition();\n\t});\n\t\n\tList.prototype.__defineSetter__(\"positions\", function (positions) {\n\t\tvar message = \"wrong array length\";\n\t\tif (positions.length === this.draggables.length) {\n\t\t\tpositions.forEach(function (point, i) {\n\t\t\t\tthis.draggables[i].move(point, 0, true, true);\n\t\t\t}, this);\n\t\t} else {\n\t\t\talert(message);\n\t\t\tthrow message;\n\t\t}\n\t});\n\t\n\tList.prototype.__defineGetter__(\"enable\", function () {\n\t\treturn this._enable;\n\t});\n\t\n\tList.prototype.__defineSetter__(\"enable\", function (value) {\n\t\tthis._enable = value;\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.enable = value;\n\t\t});\n\t});\n\t\n\tfunction listFactory(parentElement, elements, options) {\n\t\tvar draggables, draggableOptions, listOptions;\n\t\toptions = options || {};\n\t\tdraggableOptions = options.draggable || {};\n\t\tlistOptions = options.list || {};\n\t\tdraggableOptions.parent = draggableOptions.parent || parentElement;\n\t\telements = Array.prototype.slice.call(elements);\n\t\n\t\tdraggables = elements.map(function (element) {\n\t\t\treturn new Dragee.Draggable(element, draggableOptions);\n\t\t});\n\t\n\t\treturn new List(draggables, listOptions);\n\t}\n\t\n\texports.lists = lists;\n\texports.List = List;\n\texports.listFactory = listFactory;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Spider = exports.spiders = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, bound: _bound.bound, Draggable: _draggable.Draggable };\n\tvar spiders = [];\n\t\n\tfunction Spider(area, elements, options) {\n\t\tvar i,\n\t\t    areaRectangle = _geometry.Geometry.createRectangleFromElement(area, area);\n\t\tthis.options = {\n\t\t\tangle: 0,\n\t\t\tdAngle: 2 * Math.PI / elements.length,\n\t\t\tcenter: areaRectangle.getCenter(),\n\t\t\tstartRadius: 50,\n\t\t\tendRadius: areaRectangle.getMinSide() / 2,\n\t\t\tlineWidth: 2,\n\t\t\tstrokeStyle: \"#ff5577\",\n\t\t\tfillStyle: \"rgba(150,255,50,0.8)\"\n\t\t};\n\t\n\t\tfor (i in options) {\n\t\t\tif (options.hasOwnProperty(i)) {\n\t\t\t\tthis.options[i] = options[i];\n\t\t\t}\n\t\t}\n\t\tspiders.push(this);\n\t\tthis.area = area;\n\t\tthis.areaRectangle = areaRectangle;\n\t\tthis.init(elements);\n\t}\n\t\n\tSpider.prototype.init = function (elements) {\n\t\tvar that = this;\n\t\tthis.canvas = Dragee.util.createCanvas(this.area, this.areaRectangle);\n\t\tthis.context = this.canvas.getContext(\"2d\");\n\t\n\t\tthis.draggables = elements.map(function (element, i) {\n\t\t\tvar angle = this.options.angle + i * this.options.dAngle,\n\t\t\t    halfSize = _geometry.Geometry.getSizeOfElement(element).mult(0.5),\n\t\t\t    start = _geometry.Geometry.getPointFromRadialSystem(angle, this.options.startRadius, this.options.center).sub(halfSize),\n\t\t\t    end = _geometry.Geometry.getPointFromRadialSystem(angle, this.options.endRadius, this.options.center).sub(halfSize),\n\t\t\t    bound = Dragee.bound.toLine(start, end);\n\t\n\t\t\treturn new Dragee.Draggable(element, {\n\t\t\t\tparent: this.area,\n\t\t\t\tbound: bound,\n\t\t\t\tposition: start,\n\t\t\t\tonMove: function onMove() {\n\t\t\t\t\tthat.draw();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}, this);\n\t\n\t\tthis.isInit = true;\n\t\tthis.draw();\n\t};\n\t\n\tSpider.prototype.draw = function () {\n\t\tvar point, i;\n\t\tif (!this.isInit) {\n\t\t\treturn;\n\t\t}\n\t\tthis.context.clearRect(0, 0, this.areaRectangle.size.x, this.areaRectangle.size.y);\n\t\tthis.context.beginPath();\n\t\tpoint = this.draggables[0].getCenter();\n\t\tthis.context.moveTo(point.x, point.y);\n\t\tfor (i = 0; i < this.draggables.length; i++) {\n\t\t\tpoint = this.draggables[i].getCenter();\n\t\t\tthis.context.lineTo(point.x, point.y);\n\t\t}\n\t\tthis.context.closePath();\n\t\tthis.context.lineWidth = this.options.lineWidth;\n\t\tthis.context.strokeStyle = this.options.strokeStyle;\n\t\tthis.context.stroke();\n\t\tthis.context.fillStyle = this.options.fillStyle;\n\t\tthis.context.fill();\n\t};\n\t\n\texports.spiders = spiders;\n\texports.Spider = Spider;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ArcSlider = exports.arcSliders = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, Draggable: _draggable.Draggable, bound: _bound.bound }; //todo remove after refactore\n\t\n\tvar arcSliders = [];\n\t\n\tfunction ArcSlider(area, element, options) {\n\t\tvar i,\n\t\t    areaRectangle = _geometry.Geometry.createRectangleFromElement(area, area),\n\t\t    halfSize = _geometry.Geometry.getSizeOfElement(element).mult(0.5);\n\t\tthis.options = {\n\t\t\tcenter: areaRectangle.getCenter(),\n\t\t\tradius: areaRectangle.getMinSide() / 2,\n\t\t\tstartAngle: Math.PI,\n\t\t\tendAngle: 0,\n\t\t\tangles: [Math.PI, -Math.PI / 4, 0, Math.PI / 4, Math.PI / 2],\n\t\t\tonChange: function onChange() {},\n\t\t\ttime: 500\n\t\t};\n\t\tfor (i in options) {\n\t\t\tif (options.hasOwnProperty(i)) {\n\t\t\t\tthis.options[i] = options[i];\n\t\t\t}\n\t\t}\n\t\tthis.shiftedCenter = this.options.center.sub(halfSize);\n\t\tthis.onChange = this.options.onChange;\n\t\tarcSliders.push(this);\n\t\tthis.area = area;\n\t\tthis.init(element);\n\t}\n\t\n\tArcSlider.prototype.init = function (element) {\n\t\tvar that = this,\n\t\t    angle = this.options.startAngle,\n\t\t    position = _geometry.Geometry.getPointFromRadialSystem(angle, this.options.radius, this.shiftedCenter),\n\t\t    bound = Dragee.bound.toArc(that.shiftedCenter, that.options.radius, this.options.startAngle, this.options.endAngle);\n\t\n\t\tthis.angle = angle;\n\t\tthis.draggable = new Dragee.Draggable(element, {\n\t\t\tparent: this.area,\n\t\t\tbound: bound,\n\t\t\tposition: position,\n\t\t\tonMove: function onMove() {\n\t\t\t\tthat.change();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t};\n\t\n\tArcSlider.prototype.updateAngle = function () {\n\t\tthis.angle = _geometry.Geometry.getAngle(this.shiftedCenter, this.draggable.position);\n\t};\n\t\n\tArcSlider.prototype.change = function () {\n\t\tthis.updateAngle();\n\t\t//\t\tvar angle = Geometry.getNearestAngle(this.options.angles, this.angle);\n\t\t//\t\tthis.setAngle(angle,this.options.time);\n\t\tthis.onChange(this.angle);\n\t};\n\t\n\tArcSlider.prototype.setAngle = function (angle, time) {\n\t\tthis.angle = _geometry.Geometry.normalizeAngle(angle, position);\n\t\tvar position = _geometry.Geometry.getPointFromRadialSystem(this.angle, this.options.radius, this.shiftedCenter);\n\t\tthis.draggable.move(position, time || 0, true, true);\n\t\tthis.onChange(this.angle);\n\t};\n\t\n\texports.arcSliders = arcSliders;\n\texports.ArcSlider = ArcSlider;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Chart = exports.charts = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tvar _bound = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, bound: _bound.bound, Draggable: _draggable.Draggable }; //todo remove after refactore\n\t\n\tvar isTouch = 'ontouchstart' in window;\n\tvar charts = [];\n\t\n\tfunction getArrayWithBoundIndexes(index, length) {\n\t    var retIndexes = [];\n\t    if (index != -1) {\n\t        retIndexes.push(index);\n\t        retIndexes.push((index + 1) % length);\n\t    }\n\t    return retIndexes;\n\t}\n\t\n\tfunction Chart(area, elements, options) {\n\t    var i,\n\t        areaRectangle = _geometry.Geometry.createRectangleFromElement(area, area);\n\t    this.options = {\n\t        center: areaRectangle.getCenter(),\n\t        radius: areaRectangle.getMinSide() / 2,\n\t        touchRadius: areaRectangle.getMinSide() / 2,\n\t        boundAngle: Math.PI / 9,\n\t        fillStyles: Dragee.util.range(0, elements.length).map(function () {\n\t            return Dragee.util.randomColor();\n\t        }),\n\t        initAngles: Dragee.util.range(-90, 270, 360 / elements.length).map(function (angle) {\n\t            return _geometry.Geometry.toRadian(angle);\n\t        }),\n\t        onDraw: function onDraw() {},\n\t        limitImg: null,\n\t        limitImgOffset: new _geometry.Point(0, 0),\n\t        isSelectable: false\n\t    };\n\t    for (i in options) {\n\t        if (options.hasOwnProperty(i)) {\n\t            this.options[i] = options[i];\n\t        }\n\t    }\n\t\n\t    charts.push(this);\n\t    this.onDraw = this.options.onDraw;\n\t    this.area = area;\n\t    this.areaRectangle = areaRectangle;\n\t    this.init(elements);\n\t}\n\t\n\tChart.prototype.init = function (elements) {\n\t    var that = this;\n\t    this.canvas = Dragee.util.createCanvas(this.area, this.areaRectangle);\n\t    this.context = this.canvas.getContext(\"2d\");\n\t    this.draggables = elements.map(function (element, i) {\n\t        var angle = this.options.initAngles[i],\n\t            halfSize = _geometry.Geometry.getSizeOfElement(element).mult(0.5),\n\t            position = _geometry.Geometry.getPointFromRadialSystem(angle, this.options.touchRadius, this.options.center.sub(halfSize)),\n\t            bound = Dragee.bound.toArc(that.options.center.sub(halfSize), that.options.touchRadius, that.getBoundAngle(i, false), that.getBoundAngle(i, true));\n\t\n\t        return new Dragee.Draggable(element, {\n\t            parent: this.area,\n\t            bound: bound,\n\t            position: position,\n\t            onMove: function onMove() {\n\t                that.draw();\n\t                return true;\n\t            }\n\t        });\n\t    }, this);\n\t\n\t    this.isInit = true;\n\t    if (this.options.isSelectable) {\n\t        this.initSelect();\n\t    }\n\t    this.draw();\n\t};\n\t\n\tChart.prototype.initSelect = function () {\n\t    var that = this;\n\t    this.setActiveArc(-1);\n\t\n\t    this.canvas.addEventListener(_draggable.events.start, function (e) {\n\t        var point = new _geometry.Point(isTouch ? e.changedTouches[0].pageX : e.clientX, isTouch ? e.changedTouches[0].pageY : e.clientY),\n\t            index;\n\t\n\t        if (!that.canvasOffset) {\n\t            that.canvasOffset = _geometry.Geometry.getOffset(that.canvas);\n\t        }\n\t\n\t        point = point.sub(that.canvasOffset);\n\t        index = that.getArcOnPoint(point);\n\t        if (index != -1) {\n\t            that.setActiveArc(that.activeArcIndex !== index ? index : -1);\n\t        }\n\t    });\n\t};\n\t\n\tChart.prototype.updateAngles = function () {\n\t    this.angles = this.draggables.map(function (draggable) {\n\t        var halfSize = draggable.getSize().mult(0.5);\n\t        return _geometry.Geometry.getAngle(this.options.center.sub(halfSize), draggable.position);\n\t    }, this);\n\t};\n\t\n\tChart.prototype.getBoundAngle = function (index, isClossing) {\n\t    var that = this,\n\t        sign = isClossing ? 1 : -1;\n\t\n\t    return function () {\n\t        var i = (index + sign) % that.angles.length;\n\t        if (i < 0) {\n\t            i += that.angles.length;\n\t        }\n\t        return _geometry.Geometry.normalizeAngle(that.angles[i] - sign * that.options.boundAngle);\n\t    };\n\t};\n\t\n\tChart.prototype.draw = function () {\n\t    if (!this.isInit) {\n\t        return;\n\t    }\n\t\n\t    this.updateAngles();\n\t    this.context.clearRect(0, 0, this.areaRectangle.size.x, this.areaRectangle.size.y);\n\t    this.draggables.forEach(function (draggable, index) {\n\t        this.drawArc(this.context, this.options.center, this.options.radius, index);\n\t    }, this);\n\t\n\t    this.draggables.forEach(function (draggable, index) {\n\t        var enableIndexes;\n\t        if (this.options.isSelectable) {\n\t            enableIndexes = getArrayWithBoundIndexes(this.activeArcIndex, this.draggables.length);\n\t            if (enableIndexes.indexOf(index) !== -1) {\n\t                this.drawLimitImg(index);\n\t            }\n\t        } else {\n\t            this.drawLimitImg(index);\n\t        }\n\t    }, this);\n\t    this.onDraw();\n\t};\n\t\n\tChart.prototype.createClone = function (element, options) {\n\t    var i,\n\t        canvas,\n\t        context,\n\t        opts,\n\t        rectangle,\n\t        cloneObj,\n\t        that = this;\n\t    if (!this.isInit) {\n\t        return;\n\t    }\n\t    rectangle = _geometry.Geometry.createRectangleFromElement(element, element);\n\t    opts = {\n\t        center: rectangle.getCenter(),\n\t        radius: rectangle.getMinSide() / 2,\n\t        fillStyles: this.options.fillStyles\n\t    };\n\t    for (i in options) {\n\t        if (options.hasOwnProperty(i)) {\n\t            opts[i] = options[i];\n\t        }\n\t    }\n\t    canvas = Dragee.util.createCanvas(element, rectangle);\n\t    context = canvas.getContext(\"2d\");\n\t    cloneObj = {\n\t        draw: function draw() {\n\t            context.clearRect(0, 0, rectangle.size.x, rectangle.size.y);\n\t            that.draggables.forEach(function (draggable, index) {\n\t                that.drawArc(context, opts.center, opts.radius, index);\n\t            });\n\t        }\n\t    };\n\t    cloneObj.draw();\n\t    return cloneObj;\n\t};\n\t\n\tChart.prototype.getFillStyle = function (index) {\n\t    if (typeof this.options.fillStyles[index] === \"function\") {\n\t        this.options.fillStyles[index] = this.options.fillStyles[index].call(this);\n\t    }\n\t    return this.options.fillStyles[index];\n\t};\n\t\n\tChart.prototype.drawArc = function (context, center, radius, index) {\n\t    var startAngle = this.angles[index],\n\t        endAngle = this.angles[(index + 1) % this.angles.length],\n\t        color = this.getFillStyle(index);\n\t\n\t    context.beginPath();\n\t    context.moveTo(center.x, center.y);\n\t    context.arc(center.x, center.y, radius, startAngle, endAngle, false);\n\t    context.lineTo(center.x, center.y);\n\t    context.closePath();\n\t    context.fillStyle = color;\n\t    context.fill();\n\t};\n\t\n\tChart.prototype.drawLimitImg = function (index) {\n\t    var angle, point, img;\n\t    if (this.options.limitImg) {\n\t        img = this.options.limitImg instanceof Array ? this.options.limitImg[index] : this.options.limitImg;\n\t    }\n\t    if (!img) {\n\t        return;\n\t    }\n\t    angle = _geometry.Geometry.normalizeAngle(this.angles[index]);\n\t    point = new _geometry.Point(0, -img.height / 2);\n\t    point = point.add(this.options.limitImgOffset);\n\t    this.context.translate(this.areaRectangle.size.x / 2, this.areaRectangle.size.y / 2);\n\t    this.context.rotate(angle);\n\t    this.context.drawImage(img, point.x, point.y);\n\t    this.context.setTransform(1, 0, 0, 1, 0, 0);\n\t};\n\t\n\tChart.prototype.getAnglesDiff = function () {\n\t    var baseAngle = this.angles[0],\n\t        angles = this.angles.slice(1);\n\t\n\t    angles.push(baseAngle);\n\t    return angles.map(function (angle) {\n\t        var diffAngle = _geometry.Geometry.normalizeAngle(angle - baseAngle);\n\t        baseAngle = angle;\n\t        return diffAngle;\n\t    });\n\t};\n\t\n\tChart.prototype.getPercent = function () {\n\t    return this.getAnglesDiff().map(function (diffAngle) {\n\t        return diffAngle / (2 * Math.PI);\n\t    });\n\t};\n\t\n\tChart.prototype.getArcBisectrixs = function () {\n\t    return this.getAnglesDiff().map(function (diffAngle, i) {\n\t        return _geometry.Geometry.normalizeAngle(this.angles[i] + diffAngle / 2);\n\t    }, this);\n\t};\n\t\n\tChart.prototype.getArcOnPoint = function (point) {\n\t    var angle = _geometry.Geometry.getAngle(this.options.center, point),\n\t        i,\n\t        offset,\n\t        j,\n\t        radius = _geometry.Geometry.getDistance(this.options.center, point);\n\t    if (radius > this.options.radius) {\n\t        return -1;\n\t    }\n\t    offset = -1;\n\t    for (i = 0; i < this.angles.length; i++) {\n\t        if (offset === -1 || this.angles[offset] > this.angles[i]) {\n\t            offset = i;\n\t        }\n\t    }\n\t    for (i = 0, j = offset; i < this.angles.length; i++, j = (i + offset) % this.angles.length) {\n\t        if (angle < this.angles[j]) {\n\t            break;\n\t        }\n\t    }\n\t    if (--j < 0) {\n\t        j += this.angles.length;\n\t    }\n\t    return j;\n\t};\n\t\n\tChart.prototype.setAngles = function (angles) {\n\t    this.angles = angles;\n\t    this.draggables.forEach(function (draggable, i) {\n\t        var angle = this.angles[i],\n\t            halfSize = draggable.getSize().mult(0.5),\n\t            position = _geometry.Geometry.getPointFromRadialSystem(angle, this.options.touchRadius, this.options.center.sub(halfSize));\n\t\n\t        draggable.move(position, 0, true, true);\n\t    }, this);\n\t    this.draw();\n\t};\n\t\n\tChart.prototype.setActiveArc = function (index) {\n\t    var enableIndexes = getArrayWithBoundIndexes(index, this.draggables.length);\n\t    this.activeArcIndex = index;\n\t    this.draggables.forEach(function (draggable, i) {\n\t        draggable.enable = enableIndexes.indexOf(i) !== -1;\n\t    });\n\t    this.draw();\n\t};\n\t\n\texports.charts = charts;\n\texports.Chart = Chart;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ListSwitcher = exports.listSwitcherFactory = undefined;\n\t\n\tvar _geometry = __webpack_require__(2);\n\t\n\tvar _draggable = __webpack_require__(4);\n\t\n\tvar _list = __webpack_require__(11);\n\t\n\tvar Dragee = { List: _list.List, Draggable: _draggable.Draggable }; //todo remove after refactore\n\t\n\tvar extend = function extend(Child, Parent) {\n\t  var F = function F() {};\n\t  F.prototype = Parent.prototype;\n\t  Child.prototype = new F();\n\t  Child.prototype.constructor = Child;\n\t  Child.superclass = Parent.prototype;\n\t}; //todo remove after refacore\n\t\n\tfunction ListSwitcher(draggables, options) {\n\t  options = options || {};\n\t  options.stepOn = options.stepOn || new _geometry.Point(-50, 0);\n\t  Dragee.List.call(this, draggables, options);\n\t}\n\t\n\textend(ListSwitcher, Dragee.List);\n\t\n\tListSwitcher.prototype.init = function () {\n\t  var that = this;\n\t  this.draggables.forEach(function (draggable) {\n\t    draggable.isOn = false;\n\t    draggable.onEnd.add(function () {\n\t      that.onEnd(this);\n\t      return true;\n\t    });\n\t  });\n\t};\n\t\n\tListSwitcher.prototype.onEnd = function (draggable) {\n\t  var fixPositions = this.getCurrentFixPositionWithOff(),\n\t      currentIndex,\n\t      excangeIndex;\n\t  currentIndex = this.draggables.indexOf(draggable);\n\t  excangeIndex = _geometry.Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n\t  if (excangeIndex === -1 || excangeIndex === currentIndex) {\n\t    this.moveDraggable(currentIndex, draggable.position, fixPositions[currentIndex], this.options.timeEnd);\n\t  } else {\n\t    if (this.draggables[excangeIndex].isDragee) {\n\t      this.fixToOff(excangeIndex, fixPositions[currentIndex]);\n\t    } else {\n\t      this.moveDraggableToOff(excangeIndex, fixPositions[currentIndex], this.options.timeExcange);\n\t    }\n\t    this.moveDraggable(currentIndex, draggable.position, fixPositions[excangeIndex], this.options.timeEnd);\n\t    this.onChange.fire();\n\t  }\n\t  return true;\n\t};\n\t\n\tListSwitcher.prototype.moveDraggable = function (index, position, fixOffPosition, time) {\n\t  var positions = [fixOffPosition, fixOffPosition.add(this.options.stepOn)],\n\t      isOn = _geometry.Geometry.indexOfNearPoint(positions, position, -1, _geometry.Geometry.getXDifference);\n\t  if (this.draggables[index].isOn !== !!isOn) {\n\t    this.draggables[index].isOn = !!isOn;\n\t    this.onChange.fire();\n\t  }\n\t  this.draggables[index].move(positions[isOn], time, true);\n\t};\n\t\n\tListSwitcher.prototype.fixToOff = function (index, fixOffPosition) {\n\t  this.draggables[index].isOn = false;\n\t  this.draggables[index].fixPosition = fixOffPosition;\n\t};\n\t\n\tListSwitcher.prototype.moveDraggableToOff = function (index, fixOffPosition, time) {\n\t  this.draggables[index].isOn = false;\n\t  this.draggables[index].move(fixOffPosition, time, true);\n\t};\n\t\n\tListSwitcher.prototype.getCurrentFixPositionWithOff = function () {\n\t  return this.draggables.map(function (draggable) {\n\t    return draggable.isOn ? draggable.fixPosition.sub(this.options.stepOn) : draggable.fixPosition.clone();\n\t  }, this);\n\t};\n\t\n\tListSwitcher.prototype.getSortedDraggables = function () {\n\t  return this.draggables.map(function (draggable) {\n\t    return draggable.initPosition;\n\t  }).map(function (position) {\n\t    return this.draggables.filter(function (draggable) {\n\t      return draggable.fixPosition.compare(position) || draggable.fixPosition.compare(position.add(this.options.stepOn));\n\t    }, this)[0];\n\t  }, this);\n\t};\n\t\n\tListSwitcher.prototype.reset = function () {\n\t  this.draggables.forEach(function (draggable) {\n\t    draggable.move(draggable.initPosition, 0, true, false);\n\t    draggable.isOn = false;\n\t  });\n\t};\n\t\n\tListSwitcher.prototype.__defineGetter__(\"positions\", function () {\n\t  return this.draggables.map(function (draggable) {\n\t    var position = draggable.fixPosition.clone();\n\t    position.isOn = draggable.isOn;\n\t    return position;\n\t  });\n\t});\n\t\n\tListSwitcher.prototype.__defineSetter__(\"positions\", function (positions) {\n\t  var message = \"wrong array length\";\n\t  if (positions.length === this.draggables.length) {\n\t    positions.forEach(function (point, i) {\n\t      this.draggables[i].isOn = point.isOn;\n\t      this.draggables[i].move(point, 0, true, true);\n\t    }, this);\n\t  } else {\n\t    alert(message);\n\t    throw message;\n\t  }\n\t});\n\t\n\tfunction listSwitcherFactory(element, draggableElements, options) {\n\t  var draggables, draggableOptions, listOptions;\n\t  options = options || {};\n\t  draggableOptions = options.draggable || {};\n\t  listOptions = options.list || {};\n\t  draggableOptions.parent = draggableOptions.parent || element;\n\t  draggableElements = Array.prototype.slice.call(draggableElements);\n\t\n\t  draggables = draggableElements.map(function (element) {\n\t    return new Dragee.Draggable(element, draggableOptions);\n\t  });\n\t  return new ListSwitcher(draggables, listOptions);\n\t}\n\t\n\texports.listSwitcherFactory = listSwitcherFactory;\n\texports.ListSwitcher = ListSwitcher;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** dragee.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4996672257d71daac926\n **/","import './expandnative'\nimport {Point, Rectangle, Geometry} from './geometry'\nimport {Draggable} from './draggable'\nimport {List, listFactory} from './list'\nimport {targets, Target} from './target'\nimport {scopes, defaultScope, Scope, scopeFactory, scope} from './scope'\nimport {positionType, sortingFactory, positionFactory } from './positioning'\nimport {bound} from './bound'\nimport {spiders, Spider} from './spider'\nimport {arcSliders, ArcSlider} from './arcslider'\nimport {charts, Chart} from './chart'\nimport {listSwitcherFactory, ListSwitcher} from './listswitcher'\n\nglobal.Point = Point\n\nexport { Draggable,\n  Point, Rectangle, Geometry,\n  List, listFactory,\n  targets, Target,\n  scopes, defaultScope, Scope, scopeFactory, scope,\n  positionType, sortingFactory, positionFactory,\n  bound,\n  spiders, Spider,\n  arcSliders, ArcSlider,\n  charts, Chart,\n  listSwitcherFactory, ListSwitcher,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","var clone = function (o) {\n    function c(o) {\n        for (var i in o) {\n            this[i] = o[i];\n        }\n    }\n    return new c(o);\n}\n\n\n/************ Array **************/\n\nif (!Array.prototype.forEach){\n    Array.prototype.forEach = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t)\n                fun.call(thisp, t[i], i, t);\n        }\n    };\n}\n\nif (!Array.prototype.filter){\n    Array.prototype.filter = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var res = [];\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t){\n                var val = t[i]; // in case fun mutates this\n                if (fun.call(thisp, val, i, t))\n                    res.push(val);\n            }\n        }\n        return res;\n    };\n}\n\nif (!Array.prototype.every){\n        Array.prototype.every = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n        throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t && !fun.call(thisp, t[i], i, t))\n                return false;\n        }\n        return true;\n    };\n}\n\nif (!Array.prototype.map){\n    Array.prototype.map = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var res = new Array(len);\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t)\n                res[i] = fun.call(thisp, t[i], i, t);\n        }\n        return res;\n    };\n}\n\nif (!Array.prototype.some){\n    Array.prototype.some = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t && fun.call(thisp, t[i], i, t))\n                return true;\n        }\n        return false;\n    };\n}\n\nif (!Array.prototype.removeItem){\n    Array.prototype.removeItem = function(val) {\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === val) {\n                this.splice(i, 1);\n                i--;\n            }\n        }\n        return this;\n    }\n}\n\n/*********** HTMLElement ***************/\nElement.prototype.hasClass = function(c){\n    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n    return (re.test(this.className));\n}\n\nElement.prototype.addClass = function(c){\n    if (this.hasClass(c)) return this;\n    this.className = (this.className + \" \" + c).replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n    return this;\n}\n\nElement.prototype.removeClass = function(c){\n    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\")\n    this.className = this.className.replace(re, \"$1\").replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n    return this;\n}\n\nHTMLElement.prototype.appbeginChild = function(node) {\n    this.firstChild ? this.insertBefore(node, this.firstChild) : this.appendChild(node);\n}\n\nHTMLElement.prototype.exchange = function(refNode) {\n    var tempParentNode = refNode.parentNode;\n    var tempBeforeNode = refNode.nextElementSibling;\n    this.parentNode.insertBefore(refNode,this);\n    if(tempBeforeNode)\n        tempParentNode.insertBefore(this,tempBeforeNode);\n    else\n        tempParentNode.appendChild(this);\n\n    return refNode;\n}\n\nvar fullOffset = function(element, axis, parent_id){\n    var tor = 0;\n    while((element) && (element.id!=parent_id)){  //&& (element!=\"\")\n        if( axis == \"x\" )\n        {\n            if(element.offsetLeft)\n                tor += element.offsetLeft;\n        }\n        if( axis == \"y\" )\n        {\n            if(element.offsetTop)\n                tor += element.offsetTop;\n        }\n            element = element.parentNode;\n    }\n    return tor;\n}\n\n/*********************** 00P *************************/\nvar extend = function(Child, Parent) {\n    var F = function() { }\n    F.prototype = Parent.prototype;\n    Child.prototype = new F();\n    Child.prototype.constructor = Child;\n    Child.superclass = Parent.prototype;\n}\n\nvar augment = function(receivingClass, givingClass) {\n    /* only provide certain methods */\n    if (arguments[2]) {\n        for (var i=2, len=arguments.length; i<len; i++) {\n            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];\n        }\n    }\n    /* provide all methods*/\n    else {\n        for (methodName in givingClass.prototype) {\n            /* check to make sure the receiving class doesn't\n               have a method of the same name as the one currently\n               being processed */\n            if (!receivingClass.prototype[methodName]) {\n                receivingClass.prototype[methodName] = givingClass.prototype[methodName];\n            }\n        }\n    }\n}\n/**************************************************/\naugment(NodeList,Array,'forEach');\n\n/**************************************************/\nMath.getNearIndex = function(arr, val){\n    var delta = Math.abs(arr[0] - val);\n    var index = 0;\n    for(var i=0; i<arr.length; i++){\n        var temp = Math.abs(arr[i] - val);\n        if(temp<delta){\n            delta = temp;\n            index = i;\n        }\n    }\n    return index;\n}\n\nMath.getNearIndexWithCaptureRadius = function(arr, radius, val){\n    var delta=Math.abs(arr[0]-val);\n    var index=0;\n    for(var i=0;i<arr.length;i++){\n        var temp=Math.abs(arr[i]-val);\n        if(temp<delta){\n            delta=temp;\n            index=i;\n        }\n    }\n    if(delta>radius){\n        return -1;\n    }\n    return index;\n}\n\nMath.bound = function(min, max, val){\n    //console.log(min,max,val)\n    return Math.max(min,Math.min(max,val));\n}\nMath.boundPoint = function(min, max, val){\n    var x = Math.max(min.x, Math.min(max.x, val.x));\n    var y = Math.max(min.y, Math.min(max.y, val.y));\n    return new Point(x, y);\n}\n\nMath.toRadian = function(angle){\n    return ((angle % 361) * Math.PI / 180);\n}\n/********************************************/\n\nString.prototype.substrend = function(length) {\n    return this.substr(0, this.length - length);\n}\n/********************************************/\n\nfunction XmlHttpRequest() {\n    if (window.XMLHttpRequest) {\n        xmlhttp = new XMLHttpRequest();\n    } else if (window.ActiveXObject) {\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    if (xmlhttp == null) {\n        alert(\"Your browser does not support XMLHTTP.\");\n    }\n    return xmlhttp;\n}\n\nwindow.requestAnimationFrame = (function(){\n  return  window.requestAnimationFrame       ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame    ||\n          window.oRequestAnimationFrame      ||\n          window.msRequestAnimationFrame     ||\n          function(/* function */ callback, /* DOMElement */ element){\n            window.setTimeout(callback, 1000 / 60);\n          };\n})();\n\ntry {\n    if(!Object.prototype.__defineGetter__ &&\n    Object.defineProperty({}, \"x\", { get: function() { return true } }).x) {\n        Object.defineProperty(Object.prototype, \"__defineGetter__\",\n     { enumerable: false, configurable: true,\n        value: function(name, func) {\n            Object.defineProperty(this, name,\n             { get: func, enumerable: true, configurable: true });\n        }\n     });\n        Object.defineProperty(Object.prototype, \"__defineSetter__\",\n     { enumerable: false, configurable: true,\n        value: function(name, func) {\n            Object.defineProperty(this, name,\n             { set: func, enumerable: true, configurable: true });\n        }\n     });\n    }\n} catch(defPropException) { /*Do nothing if an exception occurs*/ };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expandnative.js\n **/","'use strict';\nimport util from './util'\nvar Geometry;\nvar Dragee = { util };//todo remove after refactore\n\n/*********************/\nfunction Point(x, y){\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype.toString = function(){\n    return '{x=' + this.x + ',y=' + this.y + '}';\n};\nPoint.prototype.add = function(p){\n    return new Point(this.x + p.x, this.y + p.y);\n};\nPoint.prototype.sub = function(p){\n    return new Point(this.x - p.x, this.y - p.y);\n};\nPoint.prototype.mult = function(k){\n    return new Point(this.x * k, this.y * k);\n};\nPoint.prototype.negative = function(){\n    return new Point(-this.x, -this.y);\n};\nPoint.prototype.compare = function(p){\n    return (this.x === p.x && this.y === p.y);\n};\nPoint.prototype.clone = function(){\n    return new Point(this.x, this.y);\n};\n\n/****************/\nfunction Rectangle(position, size){\n    this.position = position;\n    this.size = size;\n}\n\nRectangle.prototype.getP1 = function(){\n    return this.position;\n};\nRectangle.prototype.getP2 = function(){\n    return new Point(this.position.x + this.size.x, this.position.y);\n};\nRectangle.prototype.getP3 = function(){\n    return this.position.add(this.size);\n};\nRectangle.prototype.getP4 = function(){\n    return new Point(this.position.x, this.position.y + this.size.y);\n};\nRectangle.prototype.getCenter = function(){\n    return this.position.add(this.size.mult(0.5));\n};\nRectangle.prototype.or = function(rect){\n    var position = new Point(Math.min(this.position.x, rect.position.x), Math.min(this.position.y, rect.position.y)), size = (new Point(Math.max(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.max(this.position.y + this.size.y, rect.position.y + rect.size.y))).sub(position);\n    return new Rectangle(position, size);\n};\nRectangle.prototype.and = function(rect){\n    var position = new Point(Math.max(this.position.x, rect.position.x), Math.max(this.position.y, rect.position.y)), size = (new Point(Math.min(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.min(this.position.y + this.size.y, rect.position.y + rect.size.y))).sub(position);\n    if(size.x <= 0 || size.y <= 0){\n        return null;\n    }\n    return new Rectangle(position, size);\n};\nRectangle.prototype.includePoint = function(p){\n\treturn !(this.position.x > p.x || this.position.x + this.size.x < p.x || this.position.y > p.y || this.position.y + this.size.y < p.y);\n};\nRectangle.prototype.includeRectangle = function(rectangle){\n\treturn this.includePoint(rectangle.position) && this.includePoint(rectangle.getP3());\n};\nRectangle.prototype.moveToBound = function(rect, axis){\n    var selAxis, crossRectangle, thisCenter, rectCenter, sign, offset;\n    if(axis){\n        selAxis = axis;\n    }else{\n        crossRectangle = this.and(rect);\n        if(!crossRectangle){\n            return rect;\n        }\n        selAxis = crossRectangle.size.x > crossRectangle.size.y ? \"y\" : \"x\";\n    }\n    thisCenter = this.getCenter();\n    rectCenter = rect.getCenter();\n    sign = thisCenter[selAxis] > rectCenter[selAxis] ? -1 : 1;\n    offset = sign > 0 ? this.position[selAxis] + this.size[selAxis] - rect.position[selAxis] : this.position[selAxis] - (rect.position[selAxis] + rect.size[selAxis]);\n    rect.position[selAxis] = rect.position[selAxis] + offset;\n    return rect;\n};\nRectangle.prototype.getSquare = function(){\n    return this.size.x * this.size.y;\n};\nRectangle.prototype.styleApply = function(el){\n    el = el || document.querySelector(\"ind\");\n    el.style.left = this.position.x + \"px\";\n    el.style.top = this.position.y + \"px\";\n    el.style.width = this.size.x + \"px\";\n    el.style.height = this.size.y + \"px\";\n};\nRectangle.prototype.growth = function(size){\n    this.size = this.size.add(size);\n    this.position = this.position.add(size.mult(-0.5));\n};\nRectangle.prototype.getMinSide = function(){\n    return Math.min(this.size.x, this.size.y);\n};\n\n/*****************/\nGeometry = {\n    getDistance: function(p1, p2){\n        var dx = p1.x - p2.x, dy = p1.y - p2.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    },\n    distance: function(p1, p2){\n        return Geometry.getDistance(p1, p2)\n    },\n    getXDifference: function(p1, p2){\n        return Math.abs(p1.x - p2.x);\n    },\n    getYDifference: function(p1, p2) {\n        return Math.abs(p1.y - p2.y);\n    },\n    transformedSpaceDistanceFactory: function(options) {\n        return function(p1, p2){\n            return Math.sqrt(\n                Math.pow(options.x * Math.abs(p1.x - p2.x), 2) + Math.pow(options.y * Math.abs(p1.y - p2.y), 2)\n            );\n        };\n    },\n    indexOfNearPoint: function(arr, val, radius, getDistance){\n        var size, index = 0, i, temp;\n        getDistance = getDistance || Geometry.getDistance;\n        if(arr.length === 0){\n            return -1;\n        }\n        size = getDistance(arr[0], val);\n        for(i = 0; i < arr.length; i++){\n            temp = getDistance(arr[i], val);\n            if(temp < size){\n                size = temp;\n                index = i;\n            }\n        }\n        if(radius >= 0 && size > radius){\n            return -1;\n        }\n        return index;\n    },\n    bound: function(min, max, val){\n        return Math.max(min, Math.min(max, val));\n    },\n    boundPoint: function(min, max, val){\n        var x = Math.max(min.x, Math.min(max.x, val.x)), y = Math.max(min.y, Math.min(max.y, val.y));\n        return new Point(x, y);\n    },\n    //Return crossing point of two lines\n    directCrossing: function(L1P1, L1P2, L2P1, L2P2){\n        var temp, k1, k2, b1, b2, x, y;\n        if(L2P1.x === L2P2.x){\n            temp = L2P1;\n            L2P1 = L1P1;\n            L1P1 = temp;\n            temp = L2P2;\n            L2P2 = L1P2;\n            L1P2 = temp;\n        }\n        if(L1P1.x === L1P2.x){\n            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n            x = L1P1.x;\n            y = x * k2 + b2;\n            return new Point(x, y);\n        }else{\n            k1 = (L1P2.y - L1P1.y) / (L1P2.x - L1P1.x);\n            b1 = (L1P2.x * L1P1.y - L1P1.x * L1P2.y) / (L1P2.x - L1P1.x);\n            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n            x = (b1 - b2) / (k2 - k1);\n            y = x * k1 + b1;\n            return new Point(x, y);\n        }\n    },\n    //Get point and check that point belong to segment of the line\n    // if not - return the nearest point of segment\n    boundToSegment: function(LP1, LP2, P){\n        var x, y;\n        x = Geometry.bound(Math.min(LP1.x, LP2.x), Math.max(LP1.x, LP2.x), P.x);\n        if(x != P.x){\n            y = (x === LP1.x) ? LP1.y : LP2.y;\n            P = new Point(x, y);\n        }\n        y = Geometry.bound(Math.min(LP1.y, LP2.y), Math.max(LP1.y, LP2.y), P.y);\n        if(y != P.y){\n            x = (y === LP1.y) ? LP1.x : LP2.x;\n            P = new Point(x, y);\n        }\n        return P;\n    },\n    boundToLine: function(A, B, P){\n        var AP = new Point(P.x - A.x, P.y - A.y),\n            AB = new Point(B.x - A.x, B.y - A.y),\n            ab2 = AB.x * AB.x + AB.y * AB.y,\n            ap_ab = AP.x * AB.x + AP.y * AB.y,\n            t = ap_ab/ab2;\n        return new Point(A.x + AB.x * t, A.y + AB.y * t);\n    },\n    getPointInLine: function(LP1, LP2, percent){\n        var dx = LP2.x - LP1.x, dy = LP2.y - LP1.y;\n        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n    },\n    getPointInLineByLenght: function(LP1, LP2, lenght){\n        var dx = LP2.x - LP1.x, dy = LP2.y - LP1.y, percent = lenght / Geometry.distance(LP1, LP2);\n        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n    },\n    createRectangleFromElement: function(el, parent, isContentBoxSize, isConsiderTranslate){\n        var size = this.getSizeOfElement(el, isContentBoxSize)\n        return new Rectangle(this.getOffset(el, parent || el.parentNode, isConsiderTranslate), size);\n    },\n    getSizeOfElement: function(el, isContentBoxSize){\n        var width = parseInt(window.getComputedStyle(el)['width']), height = parseInt(window.getComputedStyle(el)['height']);\n        if(!isContentBoxSize){\n            width += Dragee.util.getSumValueOfStyleRule(el, [\"padding-left\", \"padding-right\", \"border-left-width\", \"border-right-width\"]);\n            height += Dragee.util.getSumValueOfStyleRule(el, [\"padding-top\", \"padding-bottom\", \"border-top-width\", \"border-bottom-width\"]);\n        }\n        return new Point(width, height);\n    },\n    getOffset: function(el, parent, isConsiderTranslate){\n        var elRect = el.getBoundingClientRect(), parentRect = parent.getBoundingClientRect();\n        return new Point(elRect.left - parentRect.left, elRect.top - parentRect.top);\n    },\n    getPointFromRadialSystem: function(angle, length, center){\n        center = center || new Point(0, 0);\n        return center.add(new Point(length * Math.cos(angle), length * Math.sin(angle)));\n    },\n    addPointToBoundPoints: function(boundpoints, point, isRight){\n        var i, result = boundpoints.filter(function(bPoint){\n            return  bPoint.y > point.y || (isRight ? bPoint.x < point.x : bPoint.x > point.x);\n        });\n        for(i = 0; i < result.length; i++){\n            if(point.y < result[i].y){\n                result.splice(i, 0, point);\n                return result;\n            }\n        }\n        result.push(point);\n        return result;\n    },\n    getAngle: function(p1, p2){\n        var diff = p2.sub(p1);\n        return this.normalizeAngle(Math.atan2(diff.y, diff.x));\n    },\n    toRadian: function(angle){\n        return ((angle % 360) * Math.PI / 180);\n    },\n    toDegree: function(angle){\n        return (angle * 180 / Math.PI ) % 360;\n    },\n    boundAngle: function(min, max, val){\n        var dmin,dmax;\n        if(min < max && val > min && val < max){\n            return val;\n        }else if(max < min && ( val < max || val > min )){\n            return val;\n        }else{\n            dmin = this.getAngleDiff(min,val);\n            dmax = this.getAngleDiff(max,val);\n            if(dmin < dmax){\n                return min;\n            }else{\n                return max;\n            }\n        }\n    },\n    getNearestAngle:function(arr,angle){\n        var i,temp,diff = Math.PI * 2 ,value;\n        for(i = 0; i < arr.length;i++){\n            temp = Geometry.getAngleDiff(arr[i],angle);\n            if(diff < temp){\n                diff = temp;\n                value = arr[i];\n            }\n        }\n        return value;\n    },\n    getAngleDiff:function(alpha,beta){\n        var minAngle = Math.min(alpha,beta),\n            maxAngle =  Math.max(alpha,beta);\n        return Math.min(maxAngle - minAngle,minAngle + Math.PI*2 - maxAngle);\n    },\n    normalizeAngle: function( val){\n        while(val < 0 ){\n            val+= 2 * Math.PI;\n        }\n        while(val > 2 * Math.PI ){\n            val-= 2 * Math.PI;\n        }\n        return val;\n    }\n};\n\nexport {Point, Rectangle, Geometry};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geometry.js\n **/","'use strict';\n\nvar util = {\n    getDefaultParent: function (element){\n        var parent = element.parentNode;\n        while(parent.parentNode && window.getComputedStyle(parent)[\"position\"] === \"static\"){\n            parent = parent.parentNode;\n        }\n        return parent;\n    },\n    bind: function(func, context){\n        return function(){\n            return func.apply(context, [].splice.call(arguments, 0));\n        };\n    },\n    getTouchByID: function(element, touchId){\n        var i;\n        for(i = 0; i < element.changedTouches.length; i++){\n            if(element.changedTouches[i].identifier === touchId){\n                return element.changedTouches[i];\n            }\n        }\n        return false;\n    },\n    getSumValueOfStyleRule: function(element, rules){\n        return rules.reduce(function(sum, rule){\n            return sum + parseInt(window.getComputedStyle(element)[rule]||0);\n        }, 0);\n    },\n    appendFirstChild: function(element, node){\n        element.firstChild ? element.insertBefore(node, element.firstChild) : element.appendChild(node);\n    },\n    range: function(start, stop, step){\n        var result = [];\n        if(typeof stop === 'undefined'){\n            stop = start;\n            start = 0;\n        }\n        if(typeof step === 'undefined'){\n            step = 1;\n        }\n        if((step > 0 && start >= stop) || (step < 0 && start <= stop)){\n            return [];\n        }\n        for(var i = start; step > 0 ? i < stop : i > stop; i += step){\n            result.push(i);\n        }\n        return result;\n    },\n    setStyle: function(element, style){\n        style = style || {};\n        var cssText = \"\", key;\n        for(key in style){\n            if(style.hasOwnProperty(key)){\n                cssText += key + \": \" + style[key] + \"; \";\n            }\n        }\n\n        element.style.cssText = cssText;\n    },\n    randomColor:function(){\n        var rnd = function(){\n                return Math.round(Math.random()*255);\n            },\n            toHexString = function(digit){\n                var str = digit.toString(16);\n                while(str.length < 2){\n                    str = \"0\" + str;\n                }\n                return str;\n            },\n            red = rnd(),\n            green = rnd(),\n            blue = rnd();\n\n        return \"#\" + toHexString(red) + toHexString(green) + toHexString(blue);\n    },\n    createCanvas: function(area, rectagle){\n        var canvas;\n        if(window.getComputedStyle(area).position === \"static\"){\n            area.style.position = \"relative\";\n        }\n        canvas = document.createElement(\"canvas\");\n        canvas.setAttribute(\"width\", rectagle.size.x + \"px\");\n        canvas.setAttribute(\"height\", rectagle.size.y + \"px\");\n        util.setStyle(canvas, {\n            position: \"absolute\",\n            left: rectagle.position.y + \"px\",\n            top: rectagle.position.y + \"px\",\n            width: rectagle.size.x + \"px\",\n            height: rectagle.size.y + \"px\"\n        });\n        util.appendFirstChild(area, canvas);\n        return canvas;\n    }\n};\n\nexport default util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","'use strict';\n\nimport util from './util'\nimport Event from './event'\nimport getStyleProperty from 'desandro-get-style-property'\nimport {bound} from './bound'\nimport {Geometry, Point, Rectangle} from './geometry'\nimport {defaultScope} from \"./scope\"\n\nvar Dragee = { util, bound, Event};//todo remove after refactore\n\nvar isTouch = 'ontouchstart' in window, mouseEvents = {\n    start: 'mousedown',\n    move: 'mousemove',\n    end: 'mouseup'\n}, touchEvents = {\n    start: 'touchstart',\n    move: 'touchmove',\n    end: 'touchend'\n},\nevents = isTouch ? touchEvents : mouseEvents,\ndraggables = [],\npreventDoubleInit = function(draggable){\n    var message = \"for this element Dragee.Draggable is already exist, don't create it twice \";\n    if(draggables.some(function(existing){\n        return draggable.element === existing.element;\n    })){\n        throw message;\n    }\n    draggables.push(draggable);\n},\naddToDefaultScope = function(draggable){\n    defaultScope.addDraggable(draggable);\n},\ntransformProperty = getStyleProperty('transform'),\ntransitionProperty = getStyleProperty('transition');\n\nfunction Draggable(element, options){\n    options = options || {};\n    var i, that = this, parent = options.parent || Dragee.util.getDefaultParent(element);\n    this.targets = [];\n    this.options = {\n        parent: parent,\n        bound: Dragee.bound.toElement(parent, parent),\n        startFilter: false,\n        isContentBoxSize: false,\n        position: false\n    }\n    for(i in options){\n        if(options.hasOwnProperty(i)){\n            this.options[i] = options[i];\n        }\n    }\n    this.onEnd = new Dragee.Event(this, { isReverse: true, isStopOnTrue: true });\n    this.onMove = new Dragee.Event(this);\n    this.onStart = new Dragee.Event(this);\n\n    this.onEnd.add(function(){\n        this.move(this.position, 0, true, true);\n    });\n\n    if(options.onEnd){\n        this.onEnd.add(options.onEnd);\n    }\n    if(options.onMove){\n        this.onMove.add(options.onMove);\n    }\n    if(options.onStart){\n        this.onStart.add(options.onStart);\n    }\n    this.element = element;\n    this.bound = this.options.bound;\n    preventDoubleInit(this);\n    Draggable.onCreate.fire(this);\n    that.init();\n}\n\nDraggable.onCreate = new Dragee.Event(Draggable, {isReverse: true, isStopOnTrue: true});\nDraggable.onCreate.add(addToDefaultScope);\n\nDraggable.prototype.init = function(){\n    this._enable = true;\n    this.offset = Geometry.getOffset(this.element, this.options.parent, true);\n    this.fixPosition = this.offset;\n    this.position = this.offset;\n    if(this.options.position){\n        this.initPosition = this.options.position;\n        this.move(this.initPosition, 0, true, true);\n    } else {\n        this.initPosition = this.offset;\n    }\n    this._dragStart = Dragee.util.bind(this.dragStart, this);\n    this._dragMove = Dragee.util.bind(this.dragMove, this);\n    this._dragEnd = Dragee.util.bind(this.dragEnd, this);\n\n    this.element.addEventListener(touchEvents.start, this._dragStart);\n    this.element.addEventListener(mouseEvents.start, this._dragStart);\n\n    this.bound.refresh && this.bound.refresh();\n};\n\nDraggable.prototype.reinit = function(){\n    this.offset = Geometry.getOffset(this.element, this.options.parent, true);\n    this.fixPosition = this.offset;\n    this.position = this.offset;\n    if(this.options.position){\n        this.initPosition = this.options.position;\n        this.move(this.initPosition, 0, true, true);\n    } else {\n        this.initPosition = this.offset;\n    }\n\n    this.bound.refresh && this.bound.refresh();\n};\n\nDraggable.prototype.getSize = function(recalulate){\n    return Geometry.getSizeOfElement(this.element, this.options.isContentBoxSize);\n};\n\nDraggable.prototype.getPosition = function(){\n    this.position = this.offset.add(this._transformPosition || new Point(0, 0));\n    return this.position;\n};\n\nDraggable.prototype.getCenter = function(){\n    return this.position.add(this.getSize().mult(0.5));\n};\n\nDraggable.prototype._setTranslate = function(point){\n    this._transformPosition = point;\n\n    var transform = this.element.style[transformProperty],\n        translateCss = ' translate3d(' + point.x + 'px,' + point.y + 'px, 0px)';\n\n    var ua = window.navigator.userAgent;\n    var msie = ua.indexOf(\"MSIE \");\n\n    if(msie) {\n        translateCss = ' translate(' + point.x + 'px,' + point.y + 'px)';\n        if(!/translate\\([^)]+\\)/.test(transform)){\n            transform += translateCss;\n        }else{\n            transform = transform.replace(/translate\\([^)]+\\)/, translateCss);\n        }\n    } else {\n        if(!/translate3d\\([^)]+\\)/.test(transform)){\n            transform += translateCss;\n        }else{\n            transform = transform.replace(/translate3d\\([^)]+\\)/, translateCss);\n        }\n    }\n\n    this.element.style[transformProperty] = transform;\n};\n\nDraggable.prototype.move = function(point, time, isFix, isSilent){\n    var that = this;\n    time = time || 0;\n    point = point.clone();\n    if(isFix){\n        this.fixPosition = point;\n    }\n\n    this.determineDirection(point);\n\n    this.position = point;\n\n    transitionProperty && (that.element.style[transitionProperty] = time + \"ms\");\n    that._setTranslate(point.sub(that.offset));\n    isSilent || that.onMove.fire();\n};\n\nDraggable.prototype.refreshPosition = function(){\n    this.setPosition(this.getPosition());\n};\n\nDraggable.prototype.setPosition = function(point){\n    point = point.clone();\n    this.position = point;\n\n    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n    this._setTranslate(point.sub(this.offset));\n};\n\nDraggable.prototype.setZeroTransition = function(){\n    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n};\n\nDraggable.prototype.determineDirection = function(point){\n    this.leftDirection = (this.position.x < point.x);\n    this.rightDirection = (this.position.x > point.x);\n    this.upDirection = (this.position.y > point.y);\n    this.downDirection = (this.position.y < point.y);\n};\n\nDraggable.prototype.dragStart = function(event){\n    this.currentEvent = event;\n    if(!this._enable || ( this.options.startFilter && !this.options.startFilter(event))){\n        return;\n    }\n\n    var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n    this._startTouchPoint = new Point(isTouchEvent ? event.changedTouches[0].pageX : event.clientX, isTouchEvent ? event.changedTouches[0].pageY : event.clientY);\n\n    this._startPosition = this.getPosition();\n    if(isTouchEvent){\n        this._touchId = event.changedTouches[0].identifier;\n    }\n    event.stopPropagation();\n    if(!(event.target instanceof HTMLInputElement\n        || event.target instanceof HTMLInputElement)){\n        event.preventDefault();\n    }else{\n        event.target.focus();\n    }\n\n    document.addEventListener(touchEvents.move, this._dragMove);\n    document.addEventListener(mouseEvents.move, this._dragMove);\n\n    document.addEventListener(touchEvents.end, this._dragEnd);\n    document.addEventListener(mouseEvents.end, this._dragEnd);\n\n    this.isDragee = true;\n\n    this.onStart.fire(event);\n    this.element.addClass(\"active\");\n    this.onMove.fire(event);\n};\n\nDraggable.prototype.dragMove = function(event){\n    this.currentEvent = event;\n\n    var touch, touchPoint, point;\n\n    var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n    if(isTouchEvent){\n        if(!(touch = Dragee.util.getTouchByID(event, this._touchId))){\n            return;\n        }\n    }\n    event.stopPropagation();\n    event.preventDefault();\n    touchPoint = new Point(isTouchEvent ? touch.pageX : event.clientX, isTouchEvent ? touch.pageY : event.clientY);\n    point = this._startPosition.add(touchPoint.sub(this._startTouchPoint));\n    point = this.bound(point, this.getSize());\n    this.touchPoint = touchPoint;\n    this.move(point, 0);\n};\n\nDraggable.prototype.dragEnd = function(event){\n    var touch;\n\n    var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n    if(isTouchEvent){\n        if(!(touch = Dragee.util.getTouchByID(event, this._touchId))){\n            return;\n        }\n    }\n    event.stopPropagation();\n    event.preventDefault();\n    this.onEnd.fire(event);\n\n    document.removeEventListener(touchEvents.move, this._dragMove);\n    document.removeEventListener(mouseEvents.move, this._dragMove);\n\n    document.removeEventListener(touchEvents.end, this._dragEnd);\n    document.removeEventListener(mouseEvents.end, this._dragEnd);\n\n    this.isDragee = false;\n    this.element.removeClass(\"active\");\n};\n\nDraggable.prototype.getRectangle = function(){\n    return new Rectangle(this.position, this.getSize());\n};\n\nDraggable.prototype.refresh = function(){\n    this.getSize(true);\n    this.bound.refresh && this.bound.refresh();\n}\n\nDraggable.prototype.destroy = function(){\n    this.element.removeEventListener(touchEvents.start, this._dragStart);\n    this.element.removeEventListener(mouseEvents.start, this._dragStart);\n    this.element.removeEventListener(touchEvents.move, this._dragMove);\n    this.element.removeEventListener(mouseEvents.move, this._dragMove);\n    this.element.removeEventListener(touchEvents.end, this._dragEnd);\n    this.element.removeEventListener(mouseEvents.end, this._dragEnd);\n\n    this.onEnd.reset();\n    this.onMove.reset();\n};\n\nDraggable.prototype.__defineGetter__(\"enable\", function(){\n    return this._enable;\n});\n\nDraggable.prototype.__defineSetter__(\"enable\", function(enable) {\n    if(enable) {\n        this.element.removeClass(\"disable\");\n    } else {\n        this.element.addClass(\"disable\");\n    }\n\n    return this._enable = enable;\n});\n\nexport {Draggable, draggables, events};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/draggable.js\n **/","'use strict';\n\nfunction Event(context, options){\n    options = options || {}\n    this.funcs = [];\n    this.context = context;\n    this.isReverse = options.isReverse || false;\n    this.isStopOnTrue = options.isStopOnTrue || false;\n}\n\nEvent.prototype.fire = function(){\n    var args = [].slice.call(arguments),\n        i, retValue, fs = this.isReverse ? this.funcs.slice().reverse() : this.funcs;\n\n    for(i = 0; i < fs.length; i++){\n        retValue = fs[i].apply(this.context, args);\n        if(this.isStopOnTrue && retValue){\n            return true;\n        }\n    }\n    return !this.isStopOnTrue;\n};\n\nEvent.prototype.add = function(f){\n    this.funcs.push(f);\n};\n\nEvent.prototype.unshift = function(f){\n    this.funcs.unshift(f);\n};\n\nEvent.prototype.remove = function(f){\n    var index = this.funcs.indexOf(f);\n    if(index !== -1){\n        this.funcs.splice(index, 1)\n    }\n};\n\nEvent.prototype.reset = function(f){\n    this.funcs = [];\n};\n\nexport default Event;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/event.js\n **/","/*!\n * getStyleProperty v1.0.4\n * original by kangax\n * http://perfectionkills.com/feature-testing-css-properties/\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true */\n/*global define: false, exports: false, module: false */\n\n( function( window ) {\n\n'use strict';\n\nvar prefixes = 'Webkit Moz ms Ms O'.split(' ');\nvar docElemStyle = document.documentElement.style;\n\nfunction getStyleProperty( propName ) {\n  if ( !propName ) {\n    return;\n  }\n\n  // test standard property first\n  if ( typeof docElemStyle[ propName ] === 'string' ) {\n    return propName;\n  }\n\n  // capitalize\n  propName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n  // test vendor specific properties\n  var prefixed;\n  for ( var i=0, len = prefixes.length; i < len; i++ ) {\n    prefixed = prefixes[i] + propName;\n    if ( typeof docElemStyle[ prefixed ] === 'string' ) {\n      return prefixed;\n    }\n  }\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( function() {\n    return getStyleProperty;\n  });\n} else if ( typeof exports === 'object' ) {\n  // CommonJS for Component\n  module.exports = getStyleProperty;\n} else {\n  // browser global\n  window.getStyleProperty = getStyleProperty;\n}\n\n})( window );\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/desandro-get-style-property/get-style-property.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\nimport {Geometry} from './geometry'\n\nfunction boundToRectangle(rectangle) {\n    return function (point, size){\n        var calcPoint = point.clone(),\n            rectP2 = rectangle.getP3();\n\n        if(rectangle.position.x > calcPoint.x){\n            (calcPoint.x = rectangle.position.x);\n        }\n        if(rectangle.position.y > calcPoint.y){\n            calcPoint.y = rectangle.position.y;\n        }\n        if(rectP2.x < calcPoint.x + size.x){\n            calcPoint.x = rectP2.x - size.x;\n        }\n        if(rectP2.y < calcPoint.y + size.y){\n            calcPoint.y = rectP2.y - size.y;\n        }\n        return calcPoint;\n    };\n}\n\nfunction boundToElement(element, parent) {\n    var bound,\n        retFunc = function(){\n            return bound.apply(this, arguments)\n        };\n\n    retFunc.refresh = function(){\n        bound = boundToRectangle(Geometry.createRectangleFromElement(element, parent))\n    }\n    retFunc.refresh();\n    return retFunc;\n}\n\nfunction boundToLineX(x, startY, endY) {\n    return function (point, size){\n        var calcPoint = point.clone();\n        calcPoint.x = x;\n        if(startY > calcPoint.y){\n            calcPoint.y = startY;\n        }\n        if(endY < calcPoint.y + size.y){\n            calcPoint.y = endY - size.y;\n        }\n        return calcPoint;\n    };\n}\n\nfunction boundToLineY(y, startX, endX) {\n    return function (point, size){\n        var calcPoint = point.clone();\n        calcPoint.y = y;\n        if(startX > calcPoint.x){\n            calcPoint.x = startX;\n        }\n        if(endX < calcPoint.x + size.x){\n            calcPoint.x = endX - size.x;\n        }\n        return calcPoint;\n    };\n}\n\nfunction boundToLine(start, end) {\n    var alpha = Math.atan2(end.y - start.y, end.x - start.x),\n        beta = alpha + Math.PI / 2,\n        someK = 10,\n        cosBeta = Math.cos(beta),\n        sinBeta = Math.sin(beta);\n\n    return function (point, size){\n        var point2 = new Point(point.x + someK * cosBeta, point.y + someK * sinBeta),\n            pointCrossing = Geometry.directCrossing(start, end, point, point2),\n            newEnd = Geometry.getPointInLineByLenght(end, start, size.x);\n\n        pointCrossing = Geometry.boundToLine(start, newEnd, pointCrossing);\n        return pointCrossing;\n    };\n}\n\nfunction boundToCircle(center, radius){\n    return function (point, size){\n        var boundedPoint = Geometry.getPointInLineByLenght(center, point, radius);\n        return boundedPoint;\n    };\n};\n\nfunction boundToArc(center, radius, startAgle, endAngle) {\n    return function (point, size){\n        var boundStartAngle = typeof startAgle === \"function\" ? startAgle() : startAgle,\n            boundEndtAngle = typeof startAgle === \"function\" ? endAngle() : endAngle,\n            angle = Geometry.getAngle(center, point);\n\n        angle = Geometry.normalizeAngle(angle);\n        angle = Geometry.boundAngle(boundStartAngle, boundEndtAngle, angle);\n        return Geometry.getPointFromRadialSystem(angle, radius, center);\n    };\n}\n\nvar bound = {\n    toRectangle: boundToRectangle,\n    toElement: boundToElement,\n    toLineX: boundToLineX,\n    toLineY: boundToLineY,\n    toLine: boundToLine,\n    toCircle: boundToCircle,\n    toArc: boundToArc\n}\n\nexport {bound};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bound.js\n **/","'use strict';\n\nimport util from './util'\nimport Event from './event'\nimport {Draggable} from './draggable'\nimport {targets, Target} from './target'\n\nvar Dragee = { util, Draggable,  Target, Event };//todo remove after refactore\n\nvar scopes = [], defaultScope;\n\nfunction Scope(draggables, targets, options){\n    scopes.forEach(function(scope){\n        draggables && draggables.forEach(function(draggable){\n            scope.draggables.removeItem(draggable);\n        });\n        targets && targets.forEach(function(target){\n            scope.targets.removeItem(target);\n        });\n    });\n\n    this.draggables = draggables || [];\n    this.targets = targets || [];\n    scopes.push(this);\n    this.options = {\n        timeEnd: (options && options.timeEnd) || 400\n    };\n\n    this.onChange = new Dragee.Event(this);\n    if(options && options.onChange){\n        this.onChange.add(options.onChange);\n    }\n    this.init();\n}\n\nScope.prototype.init = function(){\n    var that = this;\n    this.draggables.forEach(function(draggable){\n        draggable.onEnd.add(function(){\n            return that.onEnd(this);\n        });\n    });\n};\n\nScope.prototype.addDraggable = function(draggable){\n    var that = this;\n\n    this.draggables.push(draggable);\n    draggable.onEnd.unshift(function(){\n        return that.onEnd(this);\n    });\n};\n\nScope.prototype.addTarget = function(target){\n    this.targets.push(target);\n};\n\nScope.prototype.onEnd = function(draggable){\n    var shotTargets = this.targets.filter(function(target){\n        return target.draggables.indexOf(draggable) !== -1;\n    }).filter(function(target){\n        return target.catchDraggable(draggable);\n    }).sort(function(a, b){\n        return a.getRectangle().getSquare() - b.getRectangle().getSquare();\n    });\n\n    if(shotTargets.length){\n        shotTargets[0].onEnd(draggable);\n    } else if(draggable.targets.length) {\n        draggable.move(draggable.initPosition, this.options.timeEnd, true, true);\n    }\n    this.onChange.fire();\n    return true;\n};\n\nScope.prototype.reset = function(){\n    this.targets.forEach(function(target){\n        target.reset();\n    });\n};\n\nScope.prototype.refresh = function(){\n    this.draggables.forEach(function(draggable){\n        draggable.refresh();\n    });\n    this.targets.forEach(function(target){\n        target.refresh();\n    });\n};\n\nScope.prototype.__defineGetter__(\"positions\", function(){\n    return this.targets.map(function(target){\n        return target.innerDraggables.map(function(draggable){\n            return this.draggables.indexOf(draggable);\n        }, this);\n    }, this);\n});\n\nScope.prototype.__defineSetter__(\"positions\", function(positions){\n    var message = \"wrong array length\";\n    if(positions.length === this.targets.length){\n        this.targets.forEach(function(target){\n            target.reset();\n        }, this);\n        positions.forEach(function(targetIndexes, i){\n            targetIndexes.forEach(function(index){\n                this.targets[i].add(this.draggables[index]);\n            }, this);\n        }, this);\n    }else{\n        alert(message);\n        throw message;\n    }\n});\n\ndefaultScope = new Scope();\n\nfunction scope(fn){\n    var currentScope = new Scope(),\n        addDraggableToScope = function(draggable){\n            currentScope.addDraggable(draggable);\n            return true;\n        },\n        addTargetToScope = function(target){\n            currentScope.addTarget(target);\n            return true;\n        };\n\n    Draggable.onCreate.add(addDraggableToScope);\n    Target.onCreate.add(addTargetToScope);\n    fn.call();\n    Draggable.onCreate.remove(addDraggableToScope);\n    Target.onCreate.remove(addTargetToScope);\n    return currentScope;\n}\n\nfunction scopeFactory(parentElement, draggableElements, targetElements, options){\n    var draggables, targets, draggableOptions, targetOptions, scopeOptions;\n    options = options || {};\n    draggableOptions = options.draggable || {};\n    targetOptions = options.target || {};\n    scopeOptions = options.scope || {};\n    draggableOptions.parent = draggableOptions.parent || parentElement;\n    targetOptions.parent = targetOptions.parent || parentElement;\n    draggableElements = Array.prototype.slice.call(draggableElements);\n    targetElements = Array.prototype.slice.call(targetElements);\n\n    draggables = draggableElements.map(function(element){\n        return new Dragee.Draggable(element, draggableOptions);\n    });\n\n    targets = targetElements.map(function(el){\n        return new Dragee.Target(element, draggables, targetOptions);\n    });\n    return new Scope(draggables, targets, scopeOptions);\n}\n\nexport {scopes, defaultScope, Scope, scopeFactory, scope};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scope.js\n **/","'use strict';\n\nimport util from './util'\nimport Event from './event'\nimport {Geometry} from './geometry'\nimport {positionType, sortingFactory, positionFactory} from './positioning'\nimport {scopes, defaultScope} from './scope'\n\nvar Dragee = { util, positionType,  positionFactory, sortingFactory, scopes, Event };//todo remove after refactore\n\nvar targets = [],\n\t\taddToDefaultScope = function(target){\n\t\t\tdefaultScope.addTarget(target)\n\t\t};\n\nfunction Target(element, draggables, options){\n\toptions = options || {};\n\tvar target = this, i, parent = options.parent || Dragee.util.getDefaultParent(element);\n\tthis.options = {\n\t\ttimeEnd: 200,\n\t\ttimeExcange: 400,\n\t\tparent: parent,\n\t\tsorting: Dragee.sortingFactory(Dragee.positionType.floatLeft)(80, Geometry.transformedSpaceDistanceFactory({x: 1, y: 4})),\n\t\tpositioning: Dragee.positionFactory(Dragee.positionType.floatLeft)(this.getRectangle.bind(this), {removable: true})\n\t};\n\tfor(i in options){\n\t\tthis.options[i] = options[i];\n\t}\n\ttargets.push(this);\n\tthis.element = element;\n\tdraggables.forEach(function(draggable){\n\t\tdraggable.targets.push(target);\n\t})\n\tthis.draggables = draggables;\n\tthis.onAdd = new Dragee.Event(this);\n\tthis.beforeAdd = new Dragee.Event(this);\n\tthis.onRemove = new Dragee.Event(this);\n\n\toptions.onRemove && this.onRemove.add(options.onRemove);\n\toptions.onAdd && this.onAdd.add(options.onAdd);\n\toptions.beforeAdd && this.beforeAdd.add(options.beforeAdd);\n\tTarget.onCreate.fire(this);\n\n\tthis.init();\n};\n\nTarget.onCreate = new Dragee.Event(Target, {isReverse: true, isStopOnTrue: true});\nTarget.onCreate.add(addToDefaultScope);\n\nTarget.prototype.getRectangle = function(){\n\treturn Geometry.createRectangleFromElement(\n\t\tthis.element,\n\t\tthis.options.parent,\n\t\tthis.options.isContentBoxSize,\n\t\ttrue\n\t);\n};\n\nTarget.prototype.catchDraggable = function(draggable){\n\tif(this.options.catchDraggable) {\n\t\treturn this.options.catchDraggable(this, draggable);\n\t} else {\n\t\tvar targetRectangle = this.getRectangle(),\n\t\t\tdraggableSquare = draggable.getRectangle().getSquare();\n\n\t\treturn draggableSquare < targetRectangle.getSquare()\n\t\t\t&& targetRectangle.includePoint(draggable.getCenter());\n\t}\n};\n\nTarget.prototype.getPosition = function(){\n\treturn this.getRectangle().position;\n};\n\nTarget.prototype.getSize = function(){\n\treturn this.getRectangle().size;\n};\n\nTarget.prototype.init = function(){\n\tvar rectangles, indexesOfNew;\n\n\tthis.innerDraggables = this.draggables.filter(function(draggable){\n\t\tvar element = draggable.element.parentNode;\n\t\twhile(element){\n\t\t\tif(element === this.element){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t}\n\t\treturn false;\n\t}, this);\n\n\tif(this.innerDraggables.length){\n\t\tindexesOfNew = Dragee.util.range(this.innerDraggables.length);\n\t\trectangles = this.options.positioning(this.innerDraggables.map(function(draggable){\n\t\t\treturn draggable.getRectangle();\n\t\t}), indexesOfNew);\n\t\tthis.setPosition(rectangles, indexesOfNew);\n\t\tthis.innerDraggables.forEach(function(draggable){\n\t\t\tthis.onAdd.fire(draggable);\n\t\t}, this);\n\t}\n};\n\nTarget.prototype.destroy = function(){\n\tDragee.scopes.forEach(function(scope){\n\t\tscope.targets.removeItem(this);\n\t}, this);\n}\n\nTarget.prototype.refresh = function(){\n\tvar rectangles = this.options.positioning(this.innerDraggables.map(function(draggable){\n\t\treturn draggable.getRectangle();\n\t}), []);\n\tthis.setPosition(rectangles, [], 0);\n};\n\nTarget.prototype.onEnd = function(draggable){\n\tvar newDraggablesIndex = [],\n\t\trectangles,\n\t\tincludePoint = this.getRectangle().includePoint(draggable.getPosition());\n\n\tif(!includePoint){\n\t\tif(this.getRectangle().includePoint(draggable.getCenter())) {\n\t\t\tdraggable.position = draggable.getCenter().clone();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tthis.beforeAdd.fire(draggable);\n\n\tthis.innerDraggables = this.options.sorting(this.innerDraggables, [draggable], newDraggablesIndex);\n\trectangles = this.options.positioning(this.innerDraggables.map(function(draggable){\n\t\treturn draggable.getRectangle();\n\t}), newDraggablesIndex, draggable);\n\n\tthis.setPosition(rectangles, newDraggablesIndex);\n\tif(this.innerDraggables.indexOf(draggable) !== -1){\n\t\tthis.addRemoveOnMove(draggable);\n\t}\n\treturn true;\n};\n\nTarget.prototype.setPosition = function(rectangles, indexesOfNew, time){\n\tthis.innerDraggables.slice(0).forEach(function(draggable, i){\n\t\tvar rect = rectangles[i],\n\t\t\ttimeEnd = time || time == 0 ? time : indexesOfNew.indexOf(i) !== -1 ? this.options.timeEnd : this.options.timeExcange;\n\n\t\tif(rect.removable){\n\t\t\tdraggable.move(draggable.initPosition, timeEnd, true, true);\n\t\t\tthis.innerDraggables.removeItem(draggable);\n\n\t\t\tthis.onRemove.fire(draggable);\n\t\t} else {\n\t\t\tdraggable.move(rect.position, timeEnd, true, true);\n\t\t}\n\t}, this);\n};\n\nTarget.prototype.add = function(draggable, time){\n\tvar rectangles, newDraggablesIndex = this.innerDraggables.length;\n\n\tthis.beforeAdd.fire(draggable);\n\n\tthis.pushInnerDraggable(draggable);\n\trectangles = this.options.positioning(this.innerDraggables.map(function(draggable){\n\t\treturn draggable.getRectangle();\n\t}), newDraggablesIndex, draggable);\n\tthis.setPosition(rectangles, [newDraggablesIndex], time || 0);\n\tif(this.innerDraggables.indexOf(draggable) !== -1){\n\t\tthis.addRemoveOnMove(draggable);\n\t}\n};\n\nTarget.prototype.pushInnerDraggable = function(draggable){\n\tif(this.innerDraggables.indexOf(draggable)===-1){\n\t\tthis.innerDraggables.push(draggable);\n\t}\n};\n\nTarget.prototype.addRemoveOnMove = function(draggable){\n\tvar that = this;\n\n\tdraggable.onMove.add(this.removeHandler = function(){\n\t\tthat.remove(draggable)\n\t});\n\n\tthis.onAdd.fire(draggable);\n};\n\nTarget.prototype.remove = function(draggable){\n\tvar index, rectangles;\n\tdraggable.onMove.remove(this.removeHandler);\n\n\tindex = this.innerDraggables.indexOf(draggable);\n\tif(index === -1){\n\t\treturn;\n\t}\n\n\tthis.innerDraggables.splice(index, 1);\n\n\trectangles = this.options.positioning(this.innerDraggables.map(function(draggable){\n\t\treturn draggable.getRectangle();\n\t}), []);\n\n\tthis.setPosition(rectangles, []);\n\tthis.onRemove.fire(draggable);\n};\n\nTarget.prototype.reset = function(){\n\tthis.innerDraggables.forEach(function(draggable){\n\t\tdraggable.move(draggable.initPosition, 0, true, true);\n\t\tthis.onRemove.fire(draggable);\n\t}, this);\n\tthis.innerDraggables = [];\n};\n\nTarget.prototype.getSortedDraggables = function(){\n\tthis.innerDraggables.slice();\n}\n\nexport {targets, Target};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/target.js\n **/","'use strict';\nimport {Geometry, Point, Rectangle} from './geometry'\n\nvar\tpositionType = {\n\t\tnotCrossing: 0,\n\t\tfloatLeft: 1,\n\t\tfloatRight: 2\n};\n\nfunction positionFactory(type){\n\tswitch(type){\n\t\tcase positionType.notCrossing:\n\t\t\treturn function(rectangle, options){\n\t\t\t\tvar i, opts = {\n\t\t\t\t\tremovable: true\n\t\t\t\t}\n\t\t\t\tfor(i in options){\n\t\t\t\t\topts[i] = options[i];\n\t\t\t\t}\n\t\t\t\treturn function(rectangleList, indexesOfNews){\n\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle, staticRectangleIndexes = rectangleList.reduce(function(indexes, rect, index){\n\t\t\t\t\t\tif(indexesOfNews.indexOf(index) === -1){\n\t\t\t\t\t\t\tindexes.push(index);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn indexes;\n\t\t\t\t\t}, []);\n\t\t\t\t\tindexesOfNews.forEach(function(index){\n\t\t\t\t\t\tvar rect = rectangleList[index], removable = false;\n\t\t\t\t\t\tstaticRectangleIndexes.forEach(function(indexOfStatic){\n\t\t\t\t\t\t\tvar staticRect = rectangleList[indexOfStatic];\n\t\t\t\t\t\t\trect = staticRect.moveToBound(rect);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tremovable = staticRectangleIndexes.some(function(indexOfStatic){\n\t\t\t\t\t\t\tvar staticRect = rectangleList[indexOfStatic];\n\t\t\t\t\t\t\treturn  !!staticRect.and(rect);\n\t\t\t\t\t\t}) || rect.and(boundRect).getSquare() !== rect.getSquare();\n\t\t\t\t\t\tif(removable){\n\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tstaticRectangleIndexes.push(index);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn rectangleList;\n\t\t\t\t}\n\t\t\t};\n\t\tcase positionType.floatLeft:\n\t\t\treturn function(rectangle, options){\n\t\t\t\tvar i, opts = {\n\t\t\t\t\tpaddingTopLeft: new Point(0, 0),\n\t\t\t\t\tpaddingBottomRight: new Point(0, 0),\n\t\t\t\t\tyGapBetweenDraggables: 0,\n\t\t\t\t\tremovable: true\n\t\t\t\t}\n\t\t\t\tfor(i in options){\n\t\t\t\t\topts[i] = options[i];\n\t\t\t\t}\n\t\t\t\treturn function(rectangleList, indexesOfNews){\n\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle,\n\t\t\t\t\t\trectP2 = boundRect.getP2(), i, boundaryPoints = [boundRect.position];\n\t\t\t\t\trectangleList.forEach(function(rect, index){\n\t\t\t\t\t\tvar position, isValid = false;\n\t\t\t\t\t\tfor(i = 0; i < boundaryPoints.length; i++){\n\t\t\t\t\t\t\tposition = (new Point(boundaryPoints[i].x, i > 0 ? (boundaryPoints[i - 1].y + opts.yGapBetweenDraggables) : boundRect.position.y)).add(opts.paddingTopLeft);\n\t\t\t\t\t\t\tif(isValid = (position.x + rect.size.x < rectP2.x)){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!isValid){\n\t\t\t\t\t\t\tposition = (new Point(boundRect.position.x, boundaryPoints[boundaryPoints.length - 1].y + opts.yGapBetweenDraggables)).add(opts.paddingTopLeft);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trect.position = position;\n\t\t\t\t\t\tif(opts.removable && rect.getP3().y > boundRect.getP3().y){\n\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tboundaryPoints = Geometry.addPointToBoundPoints(boundaryPoints, rect.getP3().add(opts.paddingBottomRight));\n\t\t\t\t\t});\n\t\t\t\t\treturn rectangleList;\n\t\t\t\t};\n\t\t\t};\n\t\tcase positionType.floatRight:\n\t\t\treturn function(rectangle, options){\n\t\t\t\tvar paddingTopNegRight, paddingBottomNegLeft, i, opts = {\n\t\t\t\t\tpaddingTopRight: new Point(5, 5),\n\t\t\t\t\tpaddingBottomLeft: new Point(0, 0),\n\t\t\t\t\tremovable: true\n\t\t\t\t}\n\t\t\t\tfor(i in options){\n\t\t\t\t\topts[i] = options[i];\n\t\t\t\t}\n\t\t\t\tpaddingTopNegRight = new Point(-opts.paddingTopRight.x, opts.paddingTopRight.y);\n\t\t\t\tpaddingBottomNegLeft = new Point(-opts.paddingBottomLeft.x, opts.paddingBottomLeft.y);\n\t\t\t\treturn function(rectangleList, indexesOfNews){\n\t\t\t\t\tvar boundRect = typeof rectangle === \"function\" ? rectangle() : rectangle, i, boundaryPoints = [boundRect.getRightTopPoint()];\n\t\t\t\t\trectangleList.forEach(function(rect, index){\n\t\t\t\t\t\tvar position, isValid = false;\n\t\t\t\t\t\tfor(i = 0; i < boundaryPoints.length; i++){\n\t\t\t\t\t\t\tposition = (new Point(boundaryPoints[i].x - rect.size.x, i > 0 ? boundaryPoints[i - 1].y : boundRect.position.y)).add(paddingTopNegRight);\n\t\t\t\t\t\t\tif(isValid = (position.x > rect.position.x)){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!isValid){\n\t\t\t\t\t\t\tposition = new Point(boundRect.getP2().x, boundaryPoints[boundaryPoints.length - 1].y);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trect.position = position;\n\t\t\t\t\t\tif(opts.removable && rect.getLeftBottomPoint().y > boundRect.getP4().y){\n\t\t\t\t\t\t\trect.removable = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tboundaryPoints = Geometry.addPointToBoundPoints(boundaryPoints, rect.getP4().add(paddingBottomNegLeft), true);\n\t\t\t\t\t});\n\t\t\t\t\treturn rectangleList;\n\t\t\t\t};\n\t\t\t};\n\t}\n};\n\nfunction sortingFactory(type){\n\tswitch(type){\n\t\tcase positionType.notCrossing:\n\t\t\treturn function(){\n\t\t\t\treturn function(oldObjsList, newObjs, indexOfNews){\n\t\t\t\t\tvar objsList = oldObjsList.concat(newObjs);\n\t\t\t\t\tnewObjs.forEach(function(obj){\n\t\t\t\t\t\tindexOfNews.push(objsList.indexOf(obj));\n\t\t\t\t\t});\n\t\t\t\t\treturn objsList;\n\t\t\t\t};\n\t\t\t};\n\t\tcase positionType.floatLeft:\n\t\tcase positionType.floatRight:\n\t\t\treturn function(radius, getDistance, options){\n\t\t\t\tvar i, opts = {\n\t\t\t\t\tgetPosition: function(obj){\n\t\t\t\t\t\treturn obj.position;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(i in options){\n\t\t\t\t\topts[i] = options[i];\n\t\t\t\t}\n\t\t\t\treturn function(oldObjsList, newObjs, indexOfNews){\n\t\t\t\t\tvar newList = oldObjsList.concat(), listOldPosition;\n\t\t\t\t\tlistOldPosition = oldObjsList.map(opts.getPosition);\n\t\t\t\t\tnewObjs.forEach(function(newObj){\n\t\t\t\t\t\tvar index = Geometry.indexOfNearPoint(listOldPosition, opts.getPosition(newObj), radius, getDistance);\n\t\t\t\t\t\tif(index === -1){\n\t\t\t\t\t\t\tindex = newList.length;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex = newList.indexOf(oldObjsList[index]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewList.splice(index, 0, newObj);\n\t\t\t\t\t});\n\t\t\t\t\tnewObjs.forEach(function(newObj){\n\t\t\t\t\t\tindexOfNews.push(newList.indexOf(newObj));\n\t\t\t\t\t});\n\t\t\t\t\treturn newList;\n\t\t\t\t};\n\t\t\t};\n\t}\n};\n\nexport {positionType, sortingFactory, positionFactory};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/positioning.js\n **/","'use strict';\n\nvar lists = [];\n\nimport util from './util'\nimport Event from './event'\nimport {Geometry, Point} from './geometry'\nimport {bound} from './bound'\nimport {Draggable, draggables, events} from './draggable'\n\nvar Dragee = { util, bound, Draggable, events, Event };//todo remove after refactore\n\n\nfunction List(draggables, options){\n\tvar i;\n\tthis.options = {\n\t\ttimeEnd: 200,\n\t\ttimeExcange: 400,\n\t\tradius: 30,\n\t\tgetDistance: Geometry.getDistance,\n\t\tisDisplacement: false\n\t};\n\tfor(i in options){\n\t\tif(options.hasOwnProperty(i)){\n\t\t\tthis.options[i] = options[i];\n\t\t}\n\t}\n\tthis.draggables = draggables;\n\tlists.push(this);\n\tthis.onChange = new Dragee.Event(this);\n\tif(options && options.onChange){\n\t\tthis.onChange.add(options.onChange);\n\t}\n\tthis.init();\n}\n\nList.prototype.init = function(){\n\tthis._enable = true;\n\tthis.draggables.forEach(this.initDraggable, this);\n};\n\nList.prototype.initDraggable = function(draggable){\n\tvar moveHandler, that = this;\n\tdraggable.enable = this._enable;\n\tif(this.options.isDisplacement){\n\t\tmoveHandler = function(){\n\t\t\tif(this.isDragee){\n\t\t\t\tthat.onStart(this);\n\t\t\t\tdraggable.onMove.remove(moveHandler);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t};\n\t\tdraggable.onEnd.add(function(){\n\t\t\tthat.onEndDisplaycement(this);\n\t\t\tdraggable.onMove.add(moveHandler);\n\t\t\treturn true;\n\t\t});\n\t\tdraggable.onMove.add(moveHandler);\n\t}else{\n\t\tdraggable.onEnd.add(function(){\n\t\t\tthat.onEnd(this);\n\t\t\treturn true;\n\t\t});\n\t}\n};\n\nList.prototype.moveOrSave = function(draggable, position, time){\n\tif(draggable.isDragee){\n\t\tdraggable.fixPosition = position;\n\t}else{\n\t\tdraggable.move(position, time, true);\n\t}\n};\n\nList.prototype.onEnd = function(draggable){\n\tvar fixPositions = this.getCurrentFixPosition(), currentIndex, excangeIndex;\n\tcurrentIndex = this.draggables.indexOf(draggable);\n\texcangeIndex = Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n\tif(excangeIndex === -1 || excangeIndex === currentIndex){\n\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t}else{\n\t\tthis.moveOrSave(this.draggables[excangeIndex], fixPositions[currentIndex], this.options.timeExcange);\n\t\tthis.draggables[currentIndex].move(fixPositions[excangeIndex], this.options.timeEnd, true);\n\t\tthis.onChange.fire();\n\t}\n\treturn true;\n};\n\nList.prototype.onEndDisplaycement = function(draggable){\n\tvar currentIndex, i, targetIndex,\n\t\tsortedDraggables = this.getSortedDraggables(),\n\t\tfixPositions = sortedDraggables.map(function(draggable){\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\ttargetIndex = Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n\tif(targetIndex !==-1){\n\t\tif(targetIndex < currentIndex){\n\t\t\tfor(i=targetIndex; i<currentIndex; i++){\n\t\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i+1], this.options.timeExcange);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(i=currentIndex; i<targetIndex; i++){\n\t\t\t\tthis.moveOrSave(sortedDraggables[i+1], fixPositions[i], this.options.timeExcange);\n\t\t\t}\n\t\t}\n\t\tdraggable.move(fixPositions[targetIndex], this.options.timeEnd, true);\n\t} else {\n\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t}\n};\n\nList.prototype.onStart = function(draggable){\n\tvar currentIndex,i,\n\t\tsortedDraggables = this.getSortedDraggables(),\n\t\tfixPositions = sortedDraggables.map(function(draggable){\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\n\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\tfor(i = currentIndex + 1; i < sortedDraggables.length; i++){\n\t\tthis.moveOrSave(sortedDraggables[i],fixPositions[i-1],this.options.timeExcange);\n\t}\n\tsortedDraggables[currentIndex].fixPosition = fixPositions[i-1];\n};\n\n\n\nList.prototype.getCurrentFixPosition = function(){\n\treturn this.draggables.map(function(draggable){\n\t\treturn draggable.fixPosition.clone();\n\t});\n};\n\nList.prototype.getSortedDraggables = function(){\n\tvar sortedDraggables,\n\t\tinitPositions = this.draggables.map(function(draggable){\n\t\t\treturn draggable.initPosition;\n\t\t});\n\tsortedDraggables = initPositions.map(function(position){\n\t\treturn this.draggables.filter(function(draggable){\n\t\t\treturn draggable.fixPosition.compare(position);\n\t\t},this)[0];\n\t},this);\n\treturn sortedDraggables;\n};\n\nList.prototype.reset = function(){\n\tthis.draggables.forEach(function(draggable){\n\t\tdraggable.move(draggable.initPosition, 0, true, false);\n\t});\n};\n\nList.prototype.refresh = function(){\n\tthis.draggables.forEach(function(draggable){\n\t\tdraggable.refresh();\n\t});\n};\n\nList.prototype.add = function(draggables){\n\tif(!(draggables instanceof Array)){\n\t\tdraggables = [draggables];\n\t}\n\tdraggables.forEach(this.initDraggable, this);\n\tthis.draggables = this.draggables.concat(draggables);\n};\n\nList.prototype.remove = function(draggables){\n\tvar j, initPositions = this.draggables.map(function(draggable){\n\t\t\treturn draggable.initPosition;\n\t\t}),\n\t\tlist = [],\n\t\tsortedDraggables = this.getSortedDraggables();\n\tif(!(draggables instanceof Array)){\n\t\tdraggables = [draggables];\n\n\t}\n\tdraggables.forEach(function(draggable){\n\t\tdraggable.onEnd.reset();\n\t\tdraggable.onMove.reset();//todo remove reset in future\n\t\tthis.draggables.removeItem(draggable);\n\t\tDragee.util.remove(this.draggables, draggable);\n\t}, this);\n\tj = 0;\n\tsortedDraggables.forEach(function(draggable, i){\n\t\tif(this.draggables.indexOf(draggable) !== -1){\n\t\t\tif(draggable.fixPosition !== initPositions[j]){\n\t\t\t\tdraggable.move(initPositions[j], this.options.timeExcange, true);\n\t\t\t}\n\t\t\tdraggable.initPosition = initPositions[j];\n\t\t\tj++;\n\t\t\tlist.push(draggable);\n\t\t}\n\t}, this);\n\tthis.draggables = list;\n};\n\nList.prototype.clear = function(){\n\tthis.remove(this.draggables.slice());\n};\n\nList.prototype.destroy = function(){\n\tthis.draggables.forEach(function(draggable){\n\t\tdraggable.destroy();\n\t});\n};\n\nList.prototype.__defineGetter__(\"positions\", function(){\n\treturn this.getCurrentFixPosition();\n});\n\nList.prototype.__defineSetter__(\"positions\", function(positions){\n\tvar message = \"wrong array length\";\n\tif(positions.length === this.draggables.length){\n\t\tpositions.forEach(function(point, i){\n\t\t\tthis.draggables[i].move(point, 0, true, true);\n\t\t}, this);\n\t}else{\n\t\talert(message);\n\t\tthrow message;\n\t}\n});\n\nList.prototype.__defineGetter__(\"enable\", function(){\n\treturn this._enable;\n});\n\nList.prototype.__defineSetter__(\"enable\", function(value){\n\tthis._enable = value;\n\tthis.draggables.forEach(function(draggable){\n\t\tdraggable.enable = value;\n\t});\n});\n\n\nfunction listFactory(parentElement, elements, options){\n\tvar draggables, draggableOptions, listOptions;\n\toptions = options || {};\n\tdraggableOptions = options.draggable || {};\n\tlistOptions = options.list || {};\n\tdraggableOptions.parent = draggableOptions.parent || parentElement;\n\telements = Array.prototype.slice.call(elements);\n\n\tdraggables = elements.map(function(element){\n\t\treturn new Dragee.Draggable(element, draggableOptions);\n\t});\n\n\treturn new List(draggables, listOptions);\n}\n\nexport {lists, List, listFactory};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/list.js\n **/","'use strict';\n\nimport util from './util'\nimport {Geometry, Point} from './geometry'\nimport {bound} from './bound'\nimport {Draggable, draggables, events} from './draggable'\n\nvar Dragee = {util, bound, Draggable};\nvar spiders = [];\n\nfunction Spider(area, elements, options){\n\tvar i, areaRectangle = Geometry.createRectangleFromElement(area, area);\n\tthis.options = {\n\t\tangle: 0,\n\t\tdAngle: 2 * Math.PI / elements.length,\n\t\tcenter: areaRectangle.getCenter(),\n\t\tstartRadius: 50,\n\t\tendRadius: areaRectangle.getMinSide() / 2,\n\t\tlineWidth: 2,\n\t\tstrokeStyle: \"#ff5577\",\n\t\tfillStyle: \"rgba(150,255,50,0.8)\"\n\t};\n\n\tfor(i in options){\n\t\tif(options.hasOwnProperty(i)){\n\t\t\tthis.options[i] = options[i];\n\t\t}\n\t}\n\tspiders.push(this);\n\tthis.area = area;\n\tthis.areaRectangle = areaRectangle;\n\tthis.init(elements);\n}\n\nSpider.prototype.init = function(elements){\n\tvar that = this;\n\tthis.canvas = Dragee.util.createCanvas(this.area, this.areaRectangle);\n\tthis.context = this.canvas.getContext(\"2d\");\n\n\tthis.draggables = elements.map(function (element, i){\n\t\tvar angle = this.options.angle + i * this.options.dAngle,\n\t\t\thalfSize = Geometry.getSizeOfElement(element).mult(0.5),\n\t\t\tstart = Geometry.getPointFromRadialSystem(angle, this.options.startRadius, this.options.center).sub(halfSize),\n\t\t\tend = Geometry.getPointFromRadialSystem(angle, this.options.endRadius, this.options.center).sub(halfSize),\n\t\t\tbound = Dragee.bound.toLine(start, end);\n\n\t\treturn new Dragee.Draggable(element, {\n\t\t\tparent: this.area,\n\t\t\tbound: bound,\n\t\t\tposition: start,\n\t\t\tonMove:function (){\n\t\t\t\tthat.draw();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t}, this);\n\n\tthis.isInit = true;\n\tthis.draw();\n}\n\nSpider.prototype.draw = function (){\n\tvar point, i;\n\tif(!this.isInit){\n\t\treturn;\n\t}\n\tthis.context.clearRect(0, 0, this.areaRectangle.size.x, this.areaRectangle.size.y);\n\tthis.context.beginPath();\n\tpoint = this.draggables[0].getCenter();\n\tthis.context.moveTo(point.x, point.y);\n\tfor(i = 0; i < this.draggables.length; i++){\n\t\tpoint = this.draggables[i].getCenter();\n\t\tthis.context.lineTo(point.x, point.y);\n\t}\n\tthis.context.closePath();\n\tthis.context.lineWidth = this.options.lineWidth;\n\tthis.context.strokeStyle = this.options.strokeStyle;\n\tthis.context.stroke();\n\tthis.context.fillStyle = this.options.fillStyle;\n\tthis.context.fill();\n}\n\n\nexport {spiders, Spider}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/spider.js\n **/","'use strict';\n\nimport util from './util'\nimport {Geometry} from './geometry'\nimport {Draggable, draggables, events} from './draggable'\nimport {bound} from './bound'\n\nvar Dragee = { util, Draggable, bound };//todo remove after refactore\n\nvar arcSliders = [];\n\nfunction ArcSlider(area, element, options){\n\tvar i, areaRectangle = Geometry.createRectangleFromElement(area, area),\n\t\thalfSize = Geometry.getSizeOfElement(element).mult(0.5);\n\tthis.options = {\n\t\tcenter: areaRectangle.getCenter(),\n\t\tradius: areaRectangle.getMinSide() / 2,\n\t\tstartAngle: Math.PI,\n\t\tendAngle: 0,\n\t\tangles: [Math.PI,-Math.PI/4,0,Math.PI/4,Math.PI/2],\n\t\tonChange:function(){},\n\t\ttime: 500\n\t};\n\tfor(i in options){\n\t\tif(options.hasOwnProperty(i)){\n\t\t\tthis.options[i] = options[i];\n\t\t}\n\t}\n\tthis.shiftedCenter = this.options.center.sub(halfSize);\n\tthis.onChange = this.options.onChange;\n\tarcSliders.push(this);\n\tthis.area = area;\n\tthis.init(element);\n}\n\nArcSlider.prototype.init = function (element){\n\tvar that = this,\n\t\tangle = this.options.startAngle,\n\t\tposition = Geometry.getPointFromRadialSystem(\n\t\t\tangle,\n\t\t\tthis.options.radius,\n\t\t\tthis.shiftedCenter\n\t\t),\n\t\tbound = Dragee.bound.toArc(\n\t\t\tthat.shiftedCenter,\n\t\t\tthat.options.radius,\n\t\t\tthis.options.startAngle,\n\t\t\tthis.options.endAngle\n\t\t);\n\n\tthis.angle = angle;\n\tthis.draggable = new Dragee.Draggable(element, {\n\t\tparent: this.area,\n\t\tbound: bound,\n\t\tposition: position,\n\t\tonMove: function (){\n\t\t\tthat.change();\n\t\t\treturn true;\n\t\t}\n\t});\n};\n\nArcSlider.prototype.updateAngle = function (){\n\tthis.angle = Geometry.getAngle(this.shiftedCenter, this.draggable.position);\n};\n\nArcSlider.prototype.change = function (){\n\tthis.updateAngle();\n//\t\tvar angle = Geometry.getNearestAngle(this.options.angles, this.angle);\n//\t\tthis.setAngle(angle,this.options.time);\n\tthis.onChange(this.angle);\n};\n\nArcSlider.prototype.setAngle = function(angle, time){\n\tthis.angle = Geometry.normalizeAngle(angle, position);\n\tvar position = Geometry.getPointFromRadialSystem(\n\t\tthis.angle,\n\t\tthis.options.radius,\n\t\tthis.shiftedCenter\n\t);\n\tthis.draggable.move(position, time||0, true, true);\n\tthis.onChange(this.angle);\n};\n\nexport {arcSliders, ArcSlider};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/arcslider.js\n **/","'use strict';\n\nimport util from './util'\nimport {Geometry, Point} from './geometry'\nimport {Draggable, draggables, events} from './draggable'\nimport {bound} from './bound'\n\nvar Dragee = { util, bound, Draggable };//todo remove after refactore\n\nvar isTouch = 'ontouchstart' in window;\nvar charts = [];\n\nfunction getArrayWithBoundIndexes(index,length){\n    var retIndexes = [];\n    if(index != -1){\n        retIndexes.push(index);\n        retIndexes.push((index + 1) % length);\n    }\n    return retIndexes;\n}\n\n\nfunction Chart(area, elements, options){\n    var i, areaRectangle = Geometry.createRectangleFromElement(area, area);\n    this.options = {\n        center: areaRectangle.getCenter(),\n        radius: areaRectangle.getMinSide() / 2,\n        touchRadius: areaRectangle.getMinSide() / 2,\n        boundAngle: Math.PI/9,\n        fillStyles: Dragee.util.range(0, elements.length).map(function(){\n            return Dragee.util.randomColor();\n        }),\n        initAngles: Dragee.util.range(-90, 270, 360 / elements.length).map(function(angle){\n            return Geometry.toRadian(angle);\n        }),\n        onDraw:function(){},\n        limitImg: null,\n        limitImgOffset: new Point(0,0),\n        isSelectable: false\n    };\n    for(i in options){\n        if(options.hasOwnProperty(i)){\n            this.options[i] = options[i];\n        }\n    }\n\n    charts.push(this);\n    this.onDraw = this.options.onDraw;\n    this.area = area;\n    this.areaRectangle = areaRectangle;\n    this.init(elements);\n}\n\nChart.prototype.init = function (elements){\n    var that = this;\n    this.canvas = Dragee.util.createCanvas(this.area, this.areaRectangle);\n    this.context = this.canvas.getContext(\"2d\");\n    this.draggables = elements.map(function (element, i){\n        var angle = this.options.initAngles[i],\n            halfSize = Geometry.getSizeOfElement(element).mult(0.5),\n            position = Geometry.getPointFromRadialSystem(\n                angle,\n                this.options.touchRadius,\n                this.options.center.sub(halfSize)\n            ),\n            bound = Dragee.bound.toArc(\n                that.options.center.sub(halfSize),\n                that.options.touchRadius,\n                that.getBoundAngle(i, false),\n                that.getBoundAngle(i, true)\n            );\n\n        return new Dragee.Draggable(element, {\n            parent:this.area,\n            bound:bound,\n            position:position,\n            onMove:function (){\n                that.draw();\n                return true;\n            }\n        });\n    }, this);\n\n    this.isInit = true;\n    if(this.options.isSelectable){\n        this.initSelect();\n    }\n    this.draw();\n};\n\nChart.prototype.initSelect = function (){\n    var that = this;\n    this.setActiveArc(-1);\n\n    this.canvas.addEventListener(events.start, function(e){\n        var point = new Point(\n                isTouch ? e.changedTouches[0].pageX : e.clientX,\n                isTouch ? e.changedTouches[0].pageY : e.clientY\n            ), index;\n\n        if(!that.canvasOffset){\n            that.canvasOffset = Geometry.getOffset(that.canvas);\n        }\n\n        point = point.sub(that.canvasOffset);\n        index = that.getArcOnPoint(point);\n        if(index!=-1){\n            that.setActiveArc((that.activeArcIndex !== index)?index:-1);\n        }\n    });\n};\n\nChart.prototype.updateAngles = function (){\n    this.angles = this.draggables.map(function(draggable){\n        var halfSize = draggable.getSize().mult(0.5);\n        return Geometry.getAngle(this.options.center.sub(halfSize), draggable.position);\n    },this);\n};\n\nChart.prototype.getBoundAngle = function(index, isClossing){\n    var that = this, sign = isClossing?1:-1;\n\n    return function(){\n        var i = (index + sign) % that.angles.length;\n        if(i < 0){\n            i += that.angles.length;\n        }\n        return Geometry.normalizeAngle(that.angles[i] - sign * that.options.boundAngle);\n    };\n};\n\nChart.prototype.draw = function (){\n    if(!this.isInit){\n        return;\n    }\n\n    this.updateAngles();\n    this.context.clearRect(0, 0, this.areaRectangle.size.x, this.areaRectangle.size.y);\n    this.draggables.forEach(function(draggable, index){\n        this.drawArc(this.context, this.options.center, this.options.radius, index);\n    }, this);\n\n    this.draggables.forEach(function(draggable, index){\n        var enableIndexes;\n        if(this.options.isSelectable){\n            enableIndexes = getArrayWithBoundIndexes(this.activeArcIndex, this.draggables.length);\n            if(enableIndexes.indexOf(index) !== -1){\n                this.drawLimitImg(index);\n            }\n        } else {\n            this.drawLimitImg(index);\n        }\n    }, this);\n    this.onDraw();\n};\n\nChart.prototype.createClone = function(element, options){\n    var i, canvas, context, opts, rectangle, cloneObj, that = this;\n    if(!this.isInit){\n        return;\n    }\n    rectangle = Geometry.createRectangleFromElement(element, element);\n    opts = {\n        center: rectangle.getCenter(),\n        radius: rectangle.getMinSide() / 2,\n        fillStyles: this.options.fillStyles\n    };\n    for(i in options){\n        if(options.hasOwnProperty(i)){\n            opts[i] = options[i];\n        }\n    }\n    canvas = Dragee.util.createCanvas(element, rectangle);\n    context = canvas.getContext(\"2d\");\n    cloneObj = {\n        draw: function(){\n            context.clearRect(0, 0, rectangle.size.x, rectangle.size.y);\n            that.draggables.forEach(function(draggable, index){\n                that.drawArc(context, opts.center, opts.radius, index);\n            });\n        }\n    };\n    cloneObj.draw();\n    return cloneObj;\n};\n\nChart.prototype.getFillStyle = function(index){\n    if(typeof this.options.fillStyles[index] === \"function\"){\n        this.options.fillStyles[index] = this.options.fillStyles[index].call(this);\n    }\n    return this.options.fillStyles[index];\n};\n\nChart.prototype.drawArc = function(context,center,radius,index){\n    var startAngle = this.angles[index],\n        endAngle = this.angles[(index+1)%this.angles.length],\n        color = this.getFillStyle(index);\n\n    context.beginPath();\n    context.moveTo(center.x, center.y);\n    context.arc(center.x, center.y, radius, startAngle, endAngle, false);\n    context.lineTo(center.x, center.y);\n    context.closePath();\n    context.fillStyle = color;\n    context.fill();\n};\n\nChart.prototype.drawLimitImg = function(index){\n    var angle, point, img;\n    if(this.options.limitImg){\n        img = this.options.limitImg instanceof Array ? this.options.limitImg[index] : this.options.limitImg;\n    }\n    if(!img){\n        return ;\n    }\n    angle = Geometry.normalizeAngle(this.angles[index]);\n    point = new Point(0, -img.height/2);\n    point = point.add(this.options.limitImgOffset);\n    this.context.translate(this.areaRectangle.size.x / 2, this.areaRectangle.size.y / 2);\n    this.context.rotate(angle);\n    this.context.drawImage(img, point.x, point.y);\n    this.context.setTransform(1, 0, 0, 1, 0, 0);\n};\n\nChart.prototype.getAnglesDiff = function(){\n    var baseAngle = this.angles[0],\n        angles = this.angles.slice(1);\n\n    angles.push(baseAngle);\n    return angles.map(function(angle){\n        var diffAngle = Geometry.normalizeAngle(angle - baseAngle);\n        baseAngle = angle;\n        return diffAngle;\n    });\n};\n\nChart.prototype.getPercent = function(){\n    return this.getAnglesDiff().map(function(diffAngle){\n        return diffAngle / (2 * Math.PI);\n    });\n};\n\nChart.prototype.getArcBisectrixs = function(){\n    return this.getAnglesDiff().map(function(diffAngle,i){\n        return Geometry.normalizeAngle(this.angles[i] + diffAngle/2);\n    },this);\n};\n\nChart.prototype.getArcOnPoint = function(point){\n    var angle = Geometry.getAngle(this.options.center, point), i, offset, j,\n        radius = Geometry.getDistance(this.options.center, point);\n    if(radius > this.options.radius ){\n        return -1;\n    }\n    offset = -1;\n    for(i = 0; i < this.angles.length; i++){\n        if(offset === -1 || this.angles[offset] > this.angles[i]){\n            offset = i;\n        }\n    }\n    for(i = 0,j = offset; i < this.angles.length; i++,j = (i + offset) % this.angles.length){\n        if(angle < this.angles[j]){\n            break;\n        }\n    }\n    if(--j < 0){\n        j += this.angles.length;\n    }\n    return j;\n};\n\nChart.prototype.setAngles = function(angles){\n    this.angles = angles;\n    this.draggables.forEach(function (draggable, i){\n        var angle = this.angles[i],\n            halfSize = draggable.getSize().mult(0.5),\n            position = Geometry.getPointFromRadialSystem(\n                angle,\n                this.options.touchRadius,\n                this.options.center.sub(halfSize)\n            );\n\n        draggable.move(position, 0, true, true);\n    }, this);\n    this.draw();\n};\n\nChart.prototype.setActiveArc = function(index){\n    var enableIndexes = getArrayWithBoundIndexes(index, this.draggables.length);\n    this.activeArcIndex = index;\n    this.draggables.forEach(function(draggable, i){\n        draggable.enable = enableIndexes.indexOf(i) !== -1;\n    });\n    this.draw();\n};\n\n\nexport {charts, Chart}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/chart.js\n **/","'use strict';\n\n\nimport {Geometry, Point} from './geometry'\nimport {Draggable} from './draggable'\nimport {List} from './list'\n\nvar Dragee = { List, Draggable };//todo remove after refactore\n\nvar extend = function(Child, Parent) {\n    var F = function() { }\n    F.prototype = Parent.prototype;\n    Child.prototype = new F();\n    Child.prototype.constructor = Child;\n    Child.superclass = Parent.prototype;\n};//todo remove after refacore\n\nfunction ListSwitcher(draggables, options){\n  options = options || {};\n  options.stepOn = options.stepOn || new Point(-50, 0);\n  Dragee.List.call(this, draggables, options);\n}\n\nextend(ListSwitcher, Dragee.List);\n\nListSwitcher.prototype.init = function(){\n  var that = this;\n  this.draggables.forEach(function(draggable){\n    draggable.isOn = false;\n    draggable.onEnd.add(function(){\n      that.onEnd(this);\n      return true;\n    });\n  });\n};\n\nListSwitcher.prototype.onEnd = function(draggable){\n  var fixPositions = this.getCurrentFixPositionWithOff(), currentIndex, excangeIndex;\n  currentIndex = this.draggables.indexOf(draggable);\n  excangeIndex = Geometry.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getDistance);\n  if(excangeIndex === -1 || excangeIndex === currentIndex){\n    this.moveDraggable(currentIndex, draggable.position, fixPositions[currentIndex], this.options.timeEnd);\n  } else {\n    if(this.draggables[excangeIndex].isDragee){\n      this.fixToOff(excangeIndex, fixPositions[currentIndex]);\n    } else {\n      this.moveDraggableToOff(excangeIndex, fixPositions[currentIndex], this.options.timeExcange);\n    }\n    this.moveDraggable(currentIndex, draggable.position, fixPositions[excangeIndex], this.options.timeEnd);\n    this.onChange.fire();\n  }\n  return true;\n};\n\nListSwitcher.prototype.moveDraggable = function(index, position, fixOffPosition, time){\n  var positions = [fixOffPosition, fixOffPosition.add(this.options.stepOn)], isOn = Geometry.indexOfNearPoint(positions, position, -1, Geometry.getXDifference);\n  if(this.draggables[index].isOn !== !!isOn){\n    this.draggables[index].isOn = !!isOn;\n    this.onChange.fire();\n  }\n  this.draggables[index].move(positions[isOn], time, true);\n};\n\nListSwitcher.prototype.fixToOff = function(index, fixOffPosition){\n  this.draggables[index].isOn = false;\n  this.draggables[index].fixPosition = fixOffPosition;\n};\n\nListSwitcher.prototype.moveDraggableToOff = function(index, fixOffPosition, time){\n  this.draggables[index].isOn = false;\n  this.draggables[index].move(fixOffPosition, time, true);\n};\n\nListSwitcher.prototype.getCurrentFixPositionWithOff = function(){\n  return this.draggables.map(function(draggable){\n    return draggable.isOn ? draggable.fixPosition.sub(this.options.stepOn) : draggable.fixPosition.clone();\n  }, this);\n};\n\nListSwitcher.prototype.getSortedDraggables = function(){\n  return this.draggables.map(\n      function(draggable){\n        return draggable.initPosition;\n      }).map(function(position){\n        return this.draggables.filter(function(draggable){\n          return draggable.fixPosition.compare(position) || draggable.fixPosition.compare(position.add(this.options.stepOn));\n        }, this)[0];\n      }, this);\n};\n\nListSwitcher.prototype.reset = function(){\n  this.draggables.forEach(function(draggable){\n    draggable.move(draggable.initPosition, 0, true, false);\n    draggable.isOn = false;\n  });\n};\n\nListSwitcher.prototype.__defineGetter__(\"positions\", function(){\n  return this.draggables.map(function(draggable){\n    var position = draggable.fixPosition.clone();\n    position.isOn = draggable.isOn;\n    return position;\n  });\n});\n\nListSwitcher.prototype.__defineSetter__(\"positions\", function(positions){\n  var message = \"wrong array length\";\n  if(positions.length === this.draggables.length){\n    positions.forEach(function(point, i){\n      this.draggables[i].isOn = point.isOn;\n      this.draggables[i].move(point, 0, true, true);\n    }, this);\n  } else {\n    alert(message);\n    throw message;\n  }\n});\n\n\nfunction listSwitcherFactory(element, draggableElements, options){\n  var draggables, draggableOptions, listOptions;\n  options = options || {};\n  draggableOptions = options.draggable || {};\n  listOptions = options.list || {};\n  draggableOptions.parent = draggableOptions.parent || element;\n  draggableElements = Array.prototype.slice.call(draggableElements);\n\n  draggables = draggableElements.map(function(element){\n    return new Dragee.Draggable(element, draggableOptions);\n  });\n  return new ListSwitcher(draggables, listOptions);\n}\n\nexport {listSwitcherFactory, ListSwitcher}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/listswitcher.js\n **/"],"sourceRoot":""}
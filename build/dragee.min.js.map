{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dragee.min.js","webpack:///webpack/bootstrap 3e847cb95c74bfbfde99","webpack:///./src/index.js","webpack:///./src/expandnative.js","webpack:///./src/draggable.js","webpack:///./src/util.js","webpack:///./src/bound.js","webpack:///./src/point.js","webpack:///./src/list.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Object","defineProperty","value","listFactory","List","Draggable","undefined","_draggable","_list","Array","prototype","forEach","fun","TypeError","t","len","length","thisp","arguments","i","filter","res","val","push","every","map","some","removeItem","splice","Element","hasClass","re","RegExp","test","className","addClass","replace","removeClass","HTMLElement","appbeginChild","node","firstChild","insertBefore","appendChild","exchange","refNode","tempParentNode","parentNode","tempBeforeNode","nextElementSibling","augment","receivingClass","givingClass","methodName","NodeList","Math","getNearIndex","arr","delta","abs","index","temp","getNearIndexWithCaptureRadius","radius","bound","min","max","boundPoint","x","y","Point","getLength","p1","p2","dx","dy","sqrt","toRadian","angle","PI","String","substrend","substr","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","__defineGetter__","get","enumerable","configurable","name","func","set","defPropException","_interopRequireDefault","obj","__esModule","default","options","that","parent","Dragee","util","getDefaultParent","boundFactory","boundType","startFilter","isContentBoxSize","position","hasOwnProperty","onEnd","triggerFactory","context","isReverse","isStopOnTrue","onMove","onStart","add","move","onCreateDraggable","init","events","draggables","_util","_util2","_bound","_point","isTouch","mouseEvents","start","end","touchEvents","draggable","message","existing","transformProperty","getStyleProperty","transitionProperty","_enable","offset","mathPoint","getOffset","fixPosition","initPosition","_dragStart","bind","dragStart","_delayedDragStart","delayedDragStart","_dragMove","dragMove","_dragEnd","dragEnd","delayedStart","addEventListener","refresh","reinit","getSize","recalulate","getSizeOfElement","getPosition","_transformPosition","getCenter","mult","_setTranslate","point","transform","style","translateCss","ua","navigator","userAgent","msie","indexOf","time","isFix","isSilent","clone","determineDirection","sub","fire","refreshPosition","setPosition","setZeroTransition","leftDirection","rightDirection","upDirection","downDirection","delayedEvent","checkMovement","event","isTouchEvent","TouchEvent","touchPoint","changedTouches","pageX","clientX","pageY","clientY","startTouchPoint","document","removeEventListener","BlockSelection","startDragSelection","removeCheckMovement","shiftKey","currentEvent","_startTouchPoint","_startPosition","_touchId","identifier","stopPropagation","target","HTMLInputElement","focus","preventDefault","isDragee","touch","getTouchByID","getRectangle","Rectangle","destroy","reset","__defineSetter__","enable","getComputedStyle","apply","touchId","getSumValueOfStyleRule","rules","reduce","sum","rule","parseInt","appendFirstChild","range","stop","step","result","setStyle","key","cssText","opts","funcs","retValue","args","slice","fs","reverse","f","unshift","remove","randomColor","rnd","round","random","toHexString","digit","str","toString","red","green","blue","createCanvas","area","rectagle","canvas","createElement","setAttribute","size","left","top","width","height","type","retFunc","rectangle","createRectangleFromElement","calcPoint","rectP2","getP3","lineX","startY","endY","lineY","startX","endX","line","alpha","atan2","beta","someK","cosBeta","cos","sinBeta","sin","point2","pointCrossing","directCrossing","newEnd","getPointInLineByLenght","boundOnLine","circle","center","boundedPoint","arc","startAgle","endAngle","boundStartAngle","boundEndtAngle","getAngle","normalizeAngle","boundAngle","getPointFromRadialSystem","unificationOfRectangle","k","negative","compare","getP1","getP2","getP4","or","rect","and","includePoint","includeRectangle","moveToBound","axis","selAxis","crossRectangle","thisCenter","rectCenter","sign","getSquare","styleApply","el","querySelector","growth","getMinSide","isTransformationSpace","pow","indexOfNearPoint","L1P1","L1P2","L2P1","L2P2","k1","k2","b1","b2","boundOnSegment","LP1","LP2","P","A","B","AP","AB","ab2","ap_ab","getPointInLine","percent","lenght","isConsiderTranslate","elRect","getBoundingClientRect","parentRect","addPointToBoundPoints","boundpoints","isRight","bPoint","diff","toDegree","dmin","dmax","getAngleDiff","getNearestAngle","minAngle","maxAngle","distance","P1","P2","xs","ys","timeEnd","timeExcange","isDisplacement","lists","onChange","parentElement","elements","draggableOptions","listOptions","list","initDraggable","moveHandler","onEndDisplaycement","moveOrSave","currentIndex","excangeIndex","fixPositions","getCurrentFixPosition","targetIndex","sortedDraggables","getSortedDraggables","initPositions","concat","j","clear","positions","alert"],"mappings":"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","file":"dragee.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Dragee\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dragee\"] = factory();\n\telse\n\t\troot[\"Dragee\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Dragee\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dragee\"] = factory();\n\telse\n\t\troot[\"Dragee\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.listFactory = exports.List = exports.Draggable = undefined;\n\t\n\t__webpack_require__(1);\n\t\n\tvar _draggable = __webpack_require__(2);\n\t\n\tvar _list = __webpack_require__(6);\n\t\n\texports.Draggable = _draggable.Draggable;\n\texports.List = _list.List;\n\texports.listFactory = _list.listFactory;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar clone = function clone(o) {\n\t    function c(o) {\n\t        for (var i in o) {\n\t            this[i] = o[i];\n\t        }\n\t    }\n\t    return new c(o);\n\t};\n\t\n\t/************ Array **************/\n\t\n\tif (!Array.prototype.forEach) {\n\t    Array.prototype.forEach = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) fun.call(thisp, t[i], i, t);\n\t        }\n\t    };\n\t}\n\t\n\tif (!Array.prototype.filter) {\n\t    Array.prototype.filter = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var res = [];\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) {\n\t                var val = t[i]; // in case fun mutates this\n\t                if (fun.call(thisp, val, i, t)) res.push(val);\n\t            }\n\t        }\n\t        return res;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.every) {\n\t    Array.prototype.every = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t && !fun.call(thisp, t[i], i, t)) return false;\n\t        }\n\t        return true;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.map) {\n\t    Array.prototype.map = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var res = new Array(len);\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t) res[i] = fun.call(thisp, t[i], i, t);\n\t        }\n\t        return res;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.some) {\n\t    Array.prototype.some = function (fun /*, thisp */) {\n\t        if (this === void 0 || this === null) throw new TypeError();\n\t        var t = Object(this);\n\t        var len = t.length >>> 0;\n\t        if (typeof fun !== \"function\") throw new TypeError();\n\t        var thisp = arguments[1];\n\t        for (var i = 0; i < len; i++) {\n\t            if (i in t && fun.call(thisp, t[i], i, t)) return true;\n\t        }\n\t        return false;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.removeItem) {\n\t    Array.prototype.removeItem = function (val) {\n\t        for (var i = 0; i < this.length; i++) {\n\t            if (this[i] === val) {\n\t                this.splice(i, 1);\n\t                i--;\n\t            }\n\t        }\n\t        return this;\n\t    };\n\t}\n\t\n\t/*********** HTMLElement ***************/\n\tElement.prototype.hasClass = function (c) {\n\t    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n\t    return re.test(this.className);\n\t};\n\t\n\tElement.prototype.addClass = function (c) {\n\t    if (this.hasClass(c)) return this;\n\t    this.className = (this.className + \" \" + c).replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n\t    return this;\n\t};\n\t\n\tElement.prototype.removeClass = function (c) {\n\t    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n\t    this.className = this.className.replace(re, \"$1\").replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n\t    return this;\n\t};\n\t\n\tHTMLElement.prototype.appbeginChild = function (node) {\n\t    this.firstChild ? this.insertBefore(node, this.firstChild) : this.appendChild(node);\n\t};\n\t\n\tHTMLElement.prototype.exchange = function (refNode) {\n\t    var tempParentNode = refNode.parentNode;\n\t    var tempBeforeNode = refNode.nextElementSibling;\n\t    this.parentNode.insertBefore(refNode, this);\n\t    if (tempBeforeNode) tempParentNode.insertBefore(this, tempBeforeNode);else tempParentNode.appendChild(this);\n\t\n\t    return refNode;\n\t};\n\t\n\tvar fullOffset = function fullOffset(element, axis, parent_id) {\n\t    var tor = 0;\n\t    while (element && element.id != parent_id) {\n\t        //&& (element!=\"\")\n\t        if (axis == \"x\") {\n\t            if (element.offsetLeft) tor += element.offsetLeft;\n\t        }\n\t        if (axis == \"y\") {\n\t            if (element.offsetTop) tor += element.offsetTop;\n\t        }\n\t        element = element.parentNode;\n\t    }\n\t    return tor;\n\t};\n\t\n\t/*********************** 00P *************************/\n\tvar extend = function extend(Child, Parent) {\n\t    var F = function F() {};\n\t    F.prototype = Parent.prototype;\n\t    Child.prototype = new F();\n\t    Child.prototype.constructor = Child;\n\t    Child.superclass = Parent.prototype;\n\t};\n\t\n\tvar augment = function augment(receivingClass, givingClass) {\n\t    /* only provide certain methods */\n\t    if (arguments[2]) {\n\t        for (var i = 2, len = arguments.length; i < len; i++) {\n\t            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];\n\t        }\n\t    }\n\t    /* provide all methods*/\n\t    else {\n\t            for (methodName in givingClass.prototype) {\n\t                /* check to make sure the receiving class doesn't\n\t                   have a method of the same name as the one currently\n\t                   being processed */\n\t                if (!receivingClass.prototype[methodName]) {\n\t                    receivingClass.prototype[methodName] = givingClass.prototype[methodName];\n\t                }\n\t            }\n\t        }\n\t};\n\t/**************************************************/\n\taugment(NodeList, Array, 'forEach');\n\t\n\t/**************************************************/\n\tMath.getNearIndex = function (arr, val) {\n\t    var delta = Math.abs(arr[0] - val);\n\t    var index = 0;\n\t    for (var i = 0; i < arr.length; i++) {\n\t        var temp = Math.abs(arr[i] - val);\n\t        if (temp < delta) {\n\t            delta = temp;\n\t            index = i;\n\t        }\n\t    }\n\t    return index;\n\t};\n\t\n\tMath.getNearIndexWithCaptureRadius = function (arr, radius, val) {\n\t    var delta = Math.abs(arr[0] - val);\n\t    var index = 0;\n\t    for (var i = 0; i < arr.length; i++) {\n\t        var temp = Math.abs(arr[i] - val);\n\t        if (temp < delta) {\n\t            delta = temp;\n\t            index = i;\n\t        }\n\t    }\n\t    if (delta > radius) {\n\t        return -1;\n\t    }\n\t    return index;\n\t};\n\t\n\tMath.bound = function (min, max, val) {\n\t    //console.log(min,max,val)\n\t    return Math.max(min, Math.min(max, val));\n\t};\n\tMath.boundPoint = function (min, max, val) {\n\t    var x = Math.max(min.x, Math.min(max.x, val.x));\n\t    var y = Math.max(min.y, Math.min(max.y, val.y));\n\t    return new Point(x, y);\n\t};\n\tMath.getLength = function (p1, p2) {\n\t    var dx = p1.x - p2.x;\n\t    var dy = p1.y - p2.y;\n\t    return Math.sqrt(dx * dx + dy * dy);\n\t};\n\t\n\tMath.toRadian = function (angle) {\n\t    return angle % 361 * Math.PI / 180;\n\t};\n\t/********************************************/\n\t\n\tString.prototype.substrend = function (length) {\n\t    return this.substr(0, this.length - length);\n\t};\n\t/********************************************/\n\t\n\tfunction XmlHttpRequest() {\n\t    if (window.XMLHttpRequest) {\n\t        xmlhttp = new XMLHttpRequest();\n\t    } else if (window.ActiveXObject) {\n\t        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t    }\n\t    if (xmlhttp == null) {\n\t        alert(\"Your browser does not support XMLHTTP.\");\n\t    }\n\t    return xmlhttp;\n\t}\n\t\n\twindow.requestAnimationFrame = function () {\n\t    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function ( /* function */callback, /* DOMElement */element) {\n\t        window.setTimeout(callback, 1000 / 60);\n\t    };\n\t}();\n\t\n\ttry {\n\t    if (!Object.prototype.__defineGetter__ && Object.defineProperty({}, \"x\", { get: function get() {\n\t            return true;\n\t        } }).x) {\n\t        Object.defineProperty(Object.prototype, \"__defineGetter__\", { enumerable: false, configurable: true,\n\t            value: function value(name, func) {\n\t                Object.defineProperty(this, name, { get: func, enumerable: true, configurable: true });\n\t            }\n\t        });\n\t        Object.defineProperty(Object.prototype, \"__defineSetter__\", { enumerable: false, configurable: true,\n\t            value: function value(name, func) {\n\t                Object.defineProperty(this, name, { set: func, enumerable: true, configurable: true });\n\t            }\n\t        });\n\t    }\n\t} catch (defPropException) {/*Do nothing if an exception occurs*/};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.events = exports.draggables = exports.Draggable = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _bound = __webpack_require__(4);\n\t\n\tvar _point = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Dragee = { util: _util2.default, boundType: _bound.boundType, boundFactory: _bound.boundFactory }; //todo remove after refactore\n\t\n\tvar isTouch = 'ontouchstart' in window,\n\t    mouseEvents = {\n\t    start: 'mousedown',\n\t    move: 'mousemove',\n\t    end: 'mouseup'\n\t},\n\t    touchEvents = {\n\t    start: 'touchstart',\n\t    move: 'touchmove',\n\t    end: 'touchend'\n\t},\n\t    events = isTouch ? touchEvents : mouseEvents,\n\t    draggables = [],\n\t    onCreateDraggable = function onCreateDraggable(draggable) {\n\t    var message = \"for this element Dragee.Draggable is already exist, don't create it twice \";\n\t    if (draggables.some(function (existing) {\n\t        return draggable.element === existing.element;\n\t    })) {\n\t        throw message;\n\t    }\n\t    draggables.push(draggable);\n\t},\n\t    transformProperty = getStyleProperty('transform'),\n\t    transitionProperty = getStyleProperty('transition');\n\t\n\t//Dragee.events = events;\n\t\n\tfunction Draggable(element, options) {\n\t    options = options || {};\n\t    var i,\n\t        that = this,\n\t        displayListener,\n\t        parent = options.parent || Dragee.util.getDefaultParent(element);\n\t    this.options = {\n\t        parent: parent,\n\t        bound: Dragee.boundFactory(Dragee.boundType.element)(parent, parent),\n\t        startFilter: false,\n\t        isContentBoxSize: false,\n\t        position: false\n\t    };\n\t    for (i in options) {\n\t        if (options.hasOwnProperty(i)) {\n\t            this.options[i] = options[i];\n\t        }\n\t    }\n\t    this.onEnd = Dragee.util.triggerFactory({\n\t        context: this, isReverse: true, isStopOnTrue: true\n\t    });\n\t    this.onMove = Dragee.util.triggerFactory({ context: this });\n\t    this.onStart = Dragee.util.triggerFactory({ context: this });\n\t\n\t    this.onEnd.add(function () {\n\t        this.move(this.position, 0, true, true);\n\t    });\n\t\n\t    if (options.onEnd) {\n\t        this.onEnd.add(options.onEnd);\n\t    }\n\t    if (options.onMove) {\n\t        this.onMove.add(options.onMove);\n\t    }\n\t    if (options.onStart) {\n\t        this.onStart.add(options.onStart);\n\t    }\n\t    this.element = element;\n\t    this.bound = this.options.bound;\n\t    onCreateDraggable(this);\n\t    that.init();\n\t}\n\t\n\tDraggable.prototype.init = function () {\n\t    this._enable = true;\n\t    this.offset = _point.mathPoint.getOffset(this.element, this.options.parent, true);\n\t    this.fixPosition = this.offset;\n\t    this.position = this.offset;\n\t    if (this.options.position) {\n\t        this.initPosition = this.options.position;\n\t        this.move(this.initPosition, 0, true, true);\n\t    } else {\n\t        this.initPosition = this.offset;\n\t    }\n\t    this._dragStart = Dragee.util.bind(this.dragStart, this);\n\t    this._delayedDragStart = Dragee.util.bind(this.delayedDragStart, this);\n\t    this._dragMove = Dragee.util.bind(this.dragMove, this);\n\t    this._dragEnd = Dragee.util.bind(this.dragEnd, this);\n\t\n\t    if (this.options.delayedStart) {\n\t        this.element.addEventListener(touchEvents.start, this._delayedDragStart);\n\t        this.element.addEventListener(mouseEvents.start, this._delayedDragStart);\n\t    } else {\n\t        this.element.addEventListener(touchEvents.start, this._dragStart);\n\t        this.element.addEventListener(mouseEvents.start, this._dragStart);\n\t    }\n\t\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.reinit = function () {\n\t    this.offset = _point.mathPoint.getOffset(this.element, this.options.parent, true);\n\t    this.fixPosition = this.offset;\n\t    this.position = this.offset;\n\t    if (this.options.position) {\n\t        this.initPosition = this.options.position;\n\t        this.move(this.initPosition, 0, true, true);\n\t    } else {\n\t        this.initPosition = this.offset;\n\t    }\n\t\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.getSize = function (recalulate) {\n\t    return _point.mathPoint.getSizeOfElement(this.element, this.options.isContentBoxSize);\n\t};\n\t\n\tDraggable.prototype.getPosition = function () {\n\t    this.position = this.offset.add(this._transformPosition || new _point.Point(0, 0));\n\t    return this.position;\n\t};\n\t\n\tDraggable.prototype.getCenter = function () {\n\t    return this.position.add(this.getSize().mult(0.5));\n\t};\n\t\n\tDraggable.prototype._setTranslate = function (point) {\n\t    this._transformPosition = point;\n\t\n\t    var transform = this.element.style[transformProperty],\n\t        translateCss = ' translate3d(' + point.x + 'px,' + point.y + 'px, 0px)';\n\t\n\t    var ua = window.navigator.userAgent;\n\t    var msie = ua.indexOf(\"MSIE \");\n\t\n\t    if (msie) {\n\t        translateCss = ' translate(' + point.x + 'px,' + point.y + 'px)';\n\t        if (!/translate\\([^)]+\\)/.test(transform)) {\n\t            transform += translateCss;\n\t        } else {\n\t            transform = transform.replace(/translate\\([^)]+\\)/, translateCss);\n\t        }\n\t    } else {\n\t        if (!/translate3d\\([^)]+\\)/.test(transform)) {\n\t            transform += translateCss;\n\t        } else {\n\t            transform = transform.replace(/translate3d\\([^)]+\\)/, translateCss);\n\t        }\n\t    }\n\t\n\t    this.element.style[transformProperty] = transform;\n\t};\n\t\n\tDraggable.prototype.move = function (point, time, isFix, isSilent) {\n\t    var that = this;\n\t    time = time || 0;\n\t    point = point.clone();\n\t    if (isFix) {\n\t        this.fixPosition = point;\n\t    }\n\t\n\t    this.determineDirection(point);\n\t\n\t    this.position = point;\n\t\n\t    transitionProperty && (that.element.style[transitionProperty] = time + \"ms\");\n\t    that._setTranslate(point.sub(that.offset));\n\t    isSilent || that.onMove.fire();\n\t};\n\t\n\tDraggable.prototype.refreshPosition = function () {\n\t    this.setPosition(this.getPosition());\n\t};\n\t\n\tDraggable.prototype.setPosition = function (point) {\n\t    point = point.clone();\n\t    this.position = point;\n\t\n\t    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n\t    this._setTranslate(point.sub(this.offset));\n\t};\n\t\n\tDraggable.prototype.setZeroTransition = function () {\n\t    transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n\t};\n\t\n\tDraggable.prototype.determineDirection = function (point) {\n\t    this.leftDirection = this.position.x < point.x;\n\t    this.rightDirection = this.position.x > point.x;\n\t    this.upDirection = this.position.y > point.y;\n\t    this.downDirection = this.position.y < point.y;\n\t};\n\t\n\tDraggable.prototype.delayedDragStart = function (delayedEvent) {\n\t    var isTouchEvent = isTouch && delayedEvent instanceof TouchEvent,\n\t        startTouchPoint = new _point.Point(isTouchEvent ? delayedEvent.changedTouches[0].pageX : delayedEvent.clientX, isTouchEvent ? delayedEvent.changedTouches[0].pageY : delayedEvent.clientY),\n\t        that = this;\n\t\n\t    if (delayedEvent.shiftKey) return;\n\t\n\t    function checkMovement(event) {\n\t        var isTouchEvent = isTouch && event instanceof TouchEvent,\n\t            touchPoint = new _point.Point(isTouchEvent ? event.changedTouches[0].pageX : event.clientX, isTouchEvent ? event.changedTouches[0].pageY : event.clientY);\n\t\n\t        if (Math.abs(touchPoint.x - startTouchPoint.x) > 5 || Math.abs(touchPoint.y - startTouchPoint.y) > 5) {\n\t\n\t            document.removeEventListener(touchEvents.move, checkMovement);\n\t            document.removeEventListener(mouseEvents.move, checkMovement);\n\t\n\t            BlockSelection.startDragSelection(that, delayedEvent);\n\t            that.dragStart(delayedEvent);\n\t        }\n\t    }\n\t\n\t    function removeCheckMovement(event) {\n\t        document.removeEventListener(touchEvents.move, checkMovement);\n\t        document.removeEventListener(mouseEvents.move, checkMovement);\n\t\n\t        document.removeEventListener(touchEvents.end, removeCheckMovement);\n\t        document.removeEventListener(mouseEvents.end, removeCheckMovement);\n\t    }\n\t\n\t    document.addEventListener(touchEvents.move, checkMovement);\n\t    document.addEventListener(mouseEvents.move, checkMovement);\n\t\n\t    document.addEventListener(touchEvents.end, removeCheckMovement);\n\t    document.addEventListener(mouseEvents.end, removeCheckMovement);\n\t};\n\t\n\tDraggable.prototype.dragStart = function (event) {\n\t    this.currentEvent = event;\n\t    if (!this._enable || this.options.startFilter && !this.options.startFilter(event)) {\n\t        return;\n\t    }\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    this._startTouchPoint = new _point.Point(isTouchEvent ? event.changedTouches[0].pageX : event.clientX, isTouchEvent ? event.changedTouches[0].pageY : event.clientY);\n\t\n\t    this._startPosition = this.getPosition();\n\t    if (isTouchEvent) {\n\t        this._touchId = event.changedTouches[0].identifier;\n\t    }\n\t    event.stopPropagation();\n\t    if (!(event.target instanceof HTMLInputElement || event.target instanceof HTMLInputElement)) {\n\t        event.preventDefault();\n\t    } else {\n\t        event.target.focus();\n\t    }\n\t\n\t    document.addEventListener(touchEvents.move, this._dragMove);\n\t    document.addEventListener(mouseEvents.move, this._dragMove);\n\t\n\t    document.addEventListener(touchEvents.end, this._dragEnd);\n\t    document.addEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.isDragee = true;\n\t\n\t    this.onStart.fire(event);\n\t    this.element.addClass(\"active\");\n\t    this.onMove.fire(event);\n\t};\n\t\n\tDraggable.prototype.dragMove = function (event) {\n\t    this.currentEvent = event;\n\t\n\t    var touch, touchPoint, point;\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    if (isTouchEvent) {\n\t        if (!(touch = Dragee.util.getTouchByID(event, this._touchId))) {\n\t            return;\n\t        }\n\t    }\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    touchPoint = new _point.Point(isTouchEvent ? touch.pageX : event.clientX, isTouchEvent ? touch.pageY : event.clientY);\n\t    point = this._startPosition.add(touchPoint.sub(this._startTouchPoint));\n\t    point = this.bound(point, this.getSize());\n\t    this.touchPoint = touchPoint;\n\t    this.move(point, 0);\n\t};\n\t\n\tDraggable.prototype.dragEnd = function (event) {\n\t    var touch;\n\t\n\t    var isTouchEvent = isTouch && event instanceof TouchEvent;\n\t\n\t    if (isTouchEvent) {\n\t        if (!(touch = Dragee.util.getTouchByID(event, this._touchId))) {\n\t            return;\n\t        }\n\t    }\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    this.onEnd.fire(event);\n\t\n\t    document.removeEventListener(touchEvents.move, this._dragMove);\n\t    document.removeEventListener(mouseEvents.move, this._dragMove);\n\t\n\t    document.removeEventListener(touchEvents.end, this._dragEnd);\n\t    document.removeEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.isDragee = false;\n\t    this.element.removeClass(\"active\");\n\t};\n\t\n\tDraggable.prototype.getRectangle = function () {\n\t    return new Rectangle(this.position, this.getSize());\n\t};\n\t\n\tDraggable.prototype.refresh = function () {\n\t    this.getSize(true);\n\t    this.bound.refresh && this.bound.refresh();\n\t};\n\t\n\tDraggable.prototype.destroy = function () {\n\t    this.element.removeEventListener(touchEvents.start, this._dragStart);\n\t    this.element.removeEventListener(mouseEvents.start, this._dragStart);\n\t    this.element.removeEventListener(touchEvents.move, this._dragMove);\n\t    this.element.removeEventListener(mouseEvents.move, this._dragMove);\n\t    this.element.removeEventListener(touchEvents.end, this._dragEnd);\n\t    this.element.removeEventListener(mouseEvents.end, this._dragEnd);\n\t\n\t    this.onEnd.reset();\n\t    this.onMove.reset();\n\t};\n\t\n\tDraggable.prototype.__defineGetter__(\"enable\", function () {\n\t    return this._enable;\n\t});\n\t\n\tDraggable.prototype.__defineSetter__(\"enable\", function (enable) {\n\t    if (enable) {\n\t        this.element.removeClass(\"disable\");\n\t    } else {\n\t        this.element.addClass(\"disable\");\n\t    }\n\t\n\t    return this._enable = enable;\n\t});\n\t\n\texports.Draggable = Draggable;\n\texports.draggables = draggables;\n\texports.events = events;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar util = {\n\t    getDefaultParent: function getDefaultParent(element) {\n\t        var parent = element.parentNode;\n\t        while (parent.parentNode && window.getComputedStyle(parent)[\"position\"] === \"static\") {\n\t            parent = parent.parentNode;\n\t        }\n\t        return parent;\n\t    },\n\t    bind: function bind(func, context) {\n\t        return function () {\n\t            return func.apply(context, [].splice.call(arguments, 0));\n\t        };\n\t    },\n\t    getTouchByID: function getTouchByID(element, touchId) {\n\t        var i;\n\t        for (i = 0; i < element.changedTouches.length; i++) {\n\t            if (element.changedTouches[i].identifier === touchId) {\n\t                return element.changedTouches[i];\n\t            }\n\t        }\n\t        return false;\n\t    },\n\t    getSumValueOfStyleRule: function getSumValueOfStyleRule(element, rules) {\n\t        return rules.reduce(function (sum, rule) {\n\t            return sum + parseInt(window.getComputedStyle(element)[rule] || 0);\n\t        }, 0);\n\t    },\n\t    appendFirstChild: function appendFirstChild(element, node) {\n\t        element.firstChild ? element.insertBefore(node, element.firstChild) : element.appendChild(node);\n\t    },\n\t    range: function range(start, stop, step) {\n\t        var result = [];\n\t        if (typeof stop === 'undefined') {\n\t            stop = start;\n\t            start = 0;\n\t        }\n\t        if (typeof step === 'undefined') {\n\t            step = 1;\n\t        }\n\t        if (step > 0 && start >= stop || step < 0 && start <= stop) {\n\t            return [];\n\t        }\n\t        for (var i = start; step > 0 ? i < stop : i > stop; i += step) {\n\t            result.push(i);\n\t        }\n\t        return result;\n\t    },\n\t    setStyle: function setStyle(element, style) {\n\t        style = style || {};\n\t        var cssText = \"\",\n\t            key;\n\t        for (key in style) {\n\t            if (style.hasOwnProperty(key)) {\n\t                cssText += key + \": \" + style[key] + \"; \";\n\t            }\n\t        }\n\t\n\t        element.style.cssText = cssText;\n\t    },\n\t    triggerFactory: function triggerFactory(opts) {\n\t        var funcs = [],\n\t            i,\n\t            options = {\n\t            isReverse: false,\n\t            isStopOnTrue: false,\n\t            context: window\n\t        };\n\t        for (i in opts) {\n\t            if (opts.hasOwnProperty(i)) {\n\t                options[i] = opts[i];\n\t            }\n\t        };\n\t        return {\n\t            fire: function fire() {\n\t                var args = [].slice.call(arguments),\n\t                    i,\n\t                    retValue,\n\t                    fs = options.isReverse ? funcs.slice().reverse() : funcs;\n\t\n\t                for (i = 0; i < fs.length; i++) {\n\t                    retValue = fs[i].apply(options.context, args);\n\t                    if (options.isStopOnTrue && retValue) {\n\t                        return true;\n\t                    }\n\t                }\n\t                return !options.isStopOnTrue;\n\t            },\n\t            add: function add(f) {\n\t                funcs.push(f);\n\t            },\n\t            unshift: function unshift(f) {\n\t                funcs.unshift(f);\n\t            },\n\t            remove: function remove(f) {\n\t                var index = funcs.indexOf(f);\n\t                if (index !== -1) {\n\t                    funcs.splice(index, 1);\n\t                }\n\t            },\n\t            reset: function reset() {\n\t                funcs = [];\n\t            }\n\t        };\n\t    },\n\t    randomColor: function randomColor() {\n\t        var rnd = function rnd() {\n\t            return Math.round(Math.random() * 255);\n\t        },\n\t            toHexString = function toHexString(digit) {\n\t            var str = digit.toString(16);\n\t            while (str.length < 2) {\n\t                str = \"0\" + str;\n\t            }\n\t            return str;\n\t        },\n\t            red = rnd(),\n\t            green = rnd(),\n\t            blue = rnd();\n\t\n\t        return \"#\" + toHexString(red) + toHexString(green) + toHexString(blue);\n\t    },\n\t    createCanvas: function createCanvas(area, rectagle) {\n\t        var canvas;\n\t        if (window.getComputedStyle(area).position === \"static\") {\n\t            area.style.position = \"relative\";\n\t        }\n\t        canvas = document.createElement(\"canvas\");\n\t        canvas.setAttribute(\"width\", rectagle.size.x + \"px\");\n\t        canvas.setAttribute(\"height\", rectagle.size.y + \"px\");\n\t        util.setStyle(canvas, {\n\t            position: \"absolute\",\n\t            left: rectagle.position.y + \"px\",\n\t            top: rectagle.position.y + \"px\",\n\t            width: rectagle.size.x + \"px\",\n\t            height: rectagle.size.y + \"px\"\n\t        });\n\t        util.appendFirstChild(area, canvas);\n\t        return canvas;\n\t    }\n\t};\n\t\n\texports.default = util;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.boundFactory = exports.boundType = undefined;\n\t\n\tvar _point = __webpack_require__(5);\n\t\n\tvar Dragee = window.Dragee || {},\n\t    boundType = {\n\t\telement: -1,\n\t\trectangle: 0,\n\t\tlineX: 1,\n\t\tlineY: 2,\n\t\tline: 3,\n\t\tunificationOfRectangle: 4,\n\t\tcircle: 5,\n\t\tarc: 6\n\t};\n\tfunction boundFactory(type) {\n\t\tswitch (type) {\n\t\t\tcase boundType.element:\n\t\t\t\treturn function (element, parent) {\n\t\t\t\t\tvar bound,\n\t\t\t\t\t    retFunc = function retFunc() {\n\t\t\t\t\t\treturn bound.apply(this, arguments);\n\t\t\t\t\t};\n\t\n\t\t\t\t\tretFunc.refresh = function () {\n\t\t\t\t\t\tbound = boundFactory(boundType.rectangle)(_point.mathPoint.createRectangleFromElement(element, parent));\n\t\t\t\t\t};\n\t\n\t\t\t\t\tretFunc.refresh();\n\t\t\t\t\treturn retFunc;\n\t\t\t\t};\n\t\t\tcase boundType.rectangle:\n\t\t\t\treturn function (rectangle) {\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar calcPoint = point.clone(),\n\t\t\t\t\t\t    rectP2 = rectangle.getP3();\n\t\n\t\t\t\t\t\tif (rectangle.position.x > calcPoint.x) {\n\t\t\t\t\t\t\tcalcPoint.x = rectangle.position.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rectangle.position.y > calcPoint.y) {\n\t\t\t\t\t\t\tcalcPoint.y = rectangle.position.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rectP2.x < calcPoint.x + size.x) {\n\t\t\t\t\t\t\tcalcPoint.x = rectP2.x - size.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rectP2.y < calcPoint.y + size.y) {\n\t\t\t\t\t\t\tcalcPoint.y = rectP2.y - size.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.lineX:\n\t\t\t\treturn function (x, startY, endY) {\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar calcPoint = point.clone();\n\t\t\t\t\t\tcalcPoint.x = x;\n\t\t\t\t\t\tif (startY > calcPoint.y) {\n\t\t\t\t\t\t\tcalcPoint.y = startY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (endY < calcPoint.y + size.y) {\n\t\t\t\t\t\t\tcalcPoint.y = endY - size.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.lineY:\n\t\t\t\treturn function (y, startX, endX) {\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar calcPoint = point.clone();\n\t\t\t\t\t\tcalcPoint.y = y;\n\t\t\t\t\t\tif (startX > calcPoint.x) {\n\t\t\t\t\t\t\tcalcPoint.x = startX;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (endX < calcPoint.x + size.x) {\n\t\t\t\t\t\t\tcalcPoint.x = endX - size.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.line:\n\t\t\t\treturn function (start, end) {\n\t\t\t\t\tvar alpha = Math.atan2(end.y - start.y, end.x - start.x),\n\t\t\t\t\t    beta = alpha + Math.PI / 2,\n\t\t\t\t\t    someK = 10,\n\t\t\t\t\t    cosBeta = Math.cos(beta),\n\t\t\t\t\t    sinBeta = Math.sin(beta);\n\t\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar point2 = new Point(point.x + someK * cosBeta, point.y + someK * sinBeta),\n\t\t\t\t\t\t    pointCrossing = _point.mathPoint.directCrossing(start, end, point, point2),\n\t\t\t\t\t\t    newEnd = _point.mathPoint.getPointInLineByLenght(end, start, size.x);\n\t\n\t\t\t\t\t\tpointCrossing = _point.mathPoint.boundOnLine(start, newEnd, pointCrossing);\n\t\t\t\t\t\treturn pointCrossing;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.circle:\n\t\t\t\treturn function (center, radius) {\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar boundedPoint = _point.mathPoint.getPointInLineByLenght(center, point, radius);\n\t\t\t\t\t\treturn boundedPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.arc:\n\t\t\t\treturn function (center, radius, startAgle, endAngle) {\n\t\t\t\t\treturn function (point, size) {\n\t\t\t\t\t\tvar boundStartAngle = typeof startAgle === \"function\" ? startAgle() : startAgle,\n\t\t\t\t\t\t    boundEndtAngle = typeof startAgle === \"function\" ? endAngle() : endAngle,\n\t\t\t\t\t\t    angle = _point.mathPoint.getAngle(center, point);\n\t\n\t\t\t\t\t\tangle = _point.mathPoint.normalizeAngle(angle);\n\t\t\t\t\t\tangle = _point.mathPoint.boundAngle(boundStartAngle, boundEndtAngle, angle);\n\t\t\t\t\t\treturn _point.mathPoint.getPointFromRadialSystem(angle, radius, center);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t}\n\t}\n\t\n\texports.boundType = boundType;\n\texports.boundFactory = boundFactory;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.mathPoint = exports.Rectangle = exports.Point = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mathPoint;\n\tvar Dragee = { util: _util2.default }; //todo remove after refactore\n\t\n\t\n\t/*********************/\n\tfunction Point(x, y) {\n\t    this.x = x;\n\t    this.y = y;\n\t}\n\t\n\tPoint.prototype.toString = function () {\n\t    return '{x=' + this.x + ',y=' + this.y + '}';\n\t};\n\tPoint.prototype.add = function (p) {\n\t    return new Point(this.x + p.x, this.y + p.y);\n\t};\n\tPoint.prototype.sub = function (p) {\n\t    return new Point(this.x - p.x, this.y - p.y);\n\t};\n\tPoint.prototype.mult = function (k) {\n\t    return new Point(this.x * k, this.y * k);\n\t};\n\tPoint.prototype.negative = function () {\n\t    return new Point(-this.x, -this.y);\n\t};\n\tPoint.prototype.compare = function (p) {\n\t    return this.x === p.x && this.y === p.y;\n\t};\n\tPoint.prototype.clone = function () {\n\t    return new Point(this.x, this.y);\n\t};\n\t\n\t/****************/\n\tfunction Rectangle(position, size) {\n\t    this.position = position;\n\t    this.size = size;\n\t}\n\t\n\tRectangle.prototype.getP1 = function () {\n\t    return this.position;\n\t};\n\tRectangle.prototype.getP2 = function () {\n\t    return new Point(this.position.x + this.size.x, this.position.y);\n\t};\n\tRectangle.prototype.getP3 = function () {\n\t    return this.position.add(this.size);\n\t};\n\tRectangle.prototype.getP4 = function () {\n\t    return new Point(this.position.x, this.position.y + this.size.y);\n\t};\n\tRectangle.prototype.getCenter = function () {\n\t    return this.position.add(this.size.mult(0.5));\n\t};\n\tRectangle.prototype.or = function (rect) {\n\t    var position = new Point(Math.min(this.position.x, rect.position.x), Math.min(this.position.y, rect.position.y)),\n\t        size = new Point(Math.max(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.max(this.position.y + this.size.y, rect.position.y + rect.size.y)).sub(position);\n\t    return new Rectangle(position, size);\n\t};\n\tRectangle.prototype.and = function (rect) {\n\t    var position = new Point(Math.max(this.position.x, rect.position.x), Math.max(this.position.y, rect.position.y)),\n\t        size = new Point(Math.min(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.min(this.position.y + this.size.y, rect.position.y + rect.size.y)).sub(position);\n\t    if (size.x <= 0 || size.y <= 0) {\n\t        return null;\n\t    }\n\t    return new Rectangle(position, size);\n\t};\n\tRectangle.prototype.includePoint = function (p) {\n\t    return !(this.position.x > p.x || this.position.x + this.size.x < p.x || this.position.y > p.y || this.position.y + this.size.y < p.y);\n\t};\n\tRectangle.prototype.includeRectangle = function (rectangle) {\n\t    return this.includePoint(rectangle.position) && this.includePoint(rectangle.getP3());\n\t};\n\tRectangle.prototype.moveToBound = function (rect, axis) {\n\t    var selAxis, crossRectangle, thisCenter, rectCenter, sign, offset;\n\t    if (axis) {\n\t        selAxis = axis;\n\t    } else {\n\t        crossRectangle = this.and(rect);\n\t        if (!crossRectangle) {\n\t            return rect;\n\t        }\n\t        selAxis = crossRectangle.size.x > crossRectangle.size.y ? \"y\" : \"x\";\n\t    }\n\t    thisCenter = this.getCenter();\n\t    rectCenter = rect.getCenter();\n\t    sign = thisCenter[selAxis] > rectCenter[selAxis] ? -1 : 1;\n\t    offset = sign > 0 ? this.position[selAxis] + this.size[selAxis] - rect.position[selAxis] : this.position[selAxis] - (rect.position[selAxis] + rect.size[selAxis]);\n\t    rect.position[selAxis] = rect.position[selAxis] + offset;\n\t    return rect;\n\t};\n\tRectangle.prototype.getSquare = function () {\n\t    return this.size.x * this.size.y;\n\t};\n\tRectangle.prototype.styleApply = function (el) {\n\t    el = el || document.querySelector(\"ind\");\n\t    el.style.left = this.position.x + \"px\";\n\t    el.style.top = this.position.y + \"px\";\n\t    el.style.width = this.size.x + \"px\";\n\t    el.style.height = this.size.y + \"px\";\n\t};\n\tRectangle.prototype.growth = function (size) {\n\t    this.size = this.size.add(size);\n\t    this.position = this.position.add(size.mult(-0.5));\n\t};\n\tRectangle.prototype.getMinSide = function () {\n\t    return Math.min(this.size.x, this.size.y);\n\t};\n\t\n\t/*****************/\n\texports.mathPoint = mathPoint = {\n\t    getLength: function getLength(options) {\n\t        if (!options || options.x && options.y && !options.isTransformationSpace) {\n\t            return function (p1, p2) {\n\t                var dx = p1.x - p2.x,\n\t                    dy = p1.y - p2.y;\n\t                return Math.sqrt(dx * dx + dy * dy);\n\t            };\n\t        } else {\n\t            if (options.x && options.y && options.isTransformationSpace) {\n\t                return function (p1, p2) {\n\t                    return Math.sqrt(Math.pow(options.x * Math.abs(p1.x - p2.x), 2) + Math.pow(options.y * Math.abs(p1.y - p2.y), 2));\n\t                };\n\t            } else {\n\t                if (options.x) {\n\t                    return function (p1, p2) {\n\t                        return Math.abs(p1.x - p2.x);\n\t                    };\n\t                } else {\n\t                    if (options.y) {\n\t                        return function (p1, p2) {\n\t                            return Math.abs(p1.y - p2.y);\n\t                        };\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    },\n\t    indexOfNearPoint: function indexOfNearPoint(arr, val, radius, getLength) {\n\t        var size,\n\t            index = 0,\n\t            i,\n\t            temp;\n\t        getLength = getLength || this.getLength();\n\t        if (arr.length === 0) {\n\t            return -1;\n\t        }\n\t        size = getLength(arr[0], val);\n\t        for (i = 0; i < arr.length; i++) {\n\t            temp = getLength(arr[i], val);\n\t            if (temp < size) {\n\t                size = temp;\n\t                index = i;\n\t            }\n\t        }\n\t        if (radius >= 0 && size > radius) {\n\t            return -1;\n\t        }\n\t        return index;\n\t    },\n\t    bound: function bound(min, max, val) {\n\t        return Math.max(min, Math.min(max, val));\n\t    },\n\t    boundPoint: function boundPoint(min, max, val) {\n\t        var x = Math.max(min.x, Math.min(max.x, val.x)),\n\t            y = Math.max(min.y, Math.min(max.y, val.y));\n\t        return new Point(x, y);\n\t    },\n\t    //Return crossing point of two lines\n\t    directCrossing: function directCrossing(L1P1, L1P2, L2P1, L2P2) {\n\t        var temp, k1, k2, b1, b2, x, y;\n\t        if (L2P1.x === L2P2.x) {\n\t            temp = L2P1;\n\t            L2P1 = L1P1;\n\t            L1P1 = temp;\n\t            temp = L2P2;\n\t            L2P2 = L1P2;\n\t            L1P2 = temp;\n\t        }\n\t        if (L1P1.x === L1P2.x) {\n\t            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n\t            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n\t            x = L1P1.x;\n\t            y = x * k2 + b2;\n\t            return new Point(x, y);\n\t        } else {\n\t            k1 = (L1P2.y - L1P1.y) / (L1P2.x - L1P1.x);\n\t            b1 = (L1P2.x * L1P1.y - L1P1.x * L1P2.y) / (L1P2.x - L1P1.x);\n\t            k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n\t            b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n\t            x = (b1 - b2) / (k2 - k1);\n\t            y = x * k1 + b1;\n\t            return new Point(x, y);\n\t        }\n\t    },\n\t    //Get point and check that point belong to segment of the line\n\t    // if not - return the nearest point of segment\n\t    boundOnSegment: function boundOnSegment(LP1, LP2, P) {\n\t        var x, y;\n\t        x = mathPoint.bound(Math.min(LP1.x, LP2.x), Math.max(LP1.x, LP2.x), P.x);\n\t        if (x != P.x) {\n\t            y = x === LP1.x ? LP1.y : LP2.y;\n\t            P = new Point(x, y);\n\t        }\n\t        y = mathPoint.bound(Math.min(LP1.y, LP2.y), Math.max(LP1.y, LP2.y), P.y);\n\t        if (y != P.y) {\n\t            x = y === LP1.y ? LP1.x : LP2.x;\n\t            P = new Point(x, y);\n\t        }\n\t        return P;\n\t    },\n\t    boundOnLine: function boundOnLine(A, B, P) {\n\t        var AP = new Point(P.x - A.x, P.y - A.y),\n\t            AB = new Point(B.x - A.x, B.y - A.y),\n\t            ab2 = AB.x * AB.x + AB.y * AB.y,\n\t            ap_ab = AP.x * AB.x + AP.y * AB.y,\n\t            t = ap_ab / ab2;\n\t        return new Point(A.x + AB.x * t, A.y + AB.y * t);\n\t    },\n\t    getPointInLine: function getPointInLine(LP1, LP2, percent) {\n\t        var dx = LP2.x - LP1.x,\n\t            dy = LP2.y - LP1.y;\n\t        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n\t    },\n\t    getPointInLineByLenght: function getPointInLineByLenght(LP1, LP2, lenght) {\n\t        var dx = LP2.x - LP1.x,\n\t            dy = LP2.y - LP1.y,\n\t            percent = lenght / this.getLength()(LP1, LP2);\n\t        return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n\t    },\n\t    createRectangleFromElement: function createRectangleFromElement(el, parent, isContentBoxSize, isConsiderTranslate) {\n\t        var size = this.getSizeOfElement(el, isContentBoxSize);\n\t        return new Rectangle(this.getOffset(el, parent || el.parentNode, isConsiderTranslate), size);\n\t    },\n\t    getSizeOfElement: function getSizeOfElement(el, isContentBoxSize) {\n\t        var width = parseInt(window.getComputedStyle(el)['width']),\n\t            height = parseInt(window.getComputedStyle(el)['height']);\n\t        if (!isContentBoxSize) {\n\t            width += Dragee.util.getSumValueOfStyleRule(el, [\"padding-left\", \"padding-right\", \"border-left-width\", \"border-right-width\"]);\n\t            height += Dragee.util.getSumValueOfStyleRule(el, [\"padding-top\", \"padding-bottom\", \"border-top-width\", \"border-bottom-width\"]);\n\t        }\n\t        return new Point(width, height);\n\t    },\n\t    getOffset: function getOffset(el, parent, isConsiderTranslate) {\n\t        var elRect = el.getBoundingClientRect(),\n\t            parentRect = parent.getBoundingClientRect();\n\t        return new Point(elRect.left - parentRect.left, elRect.top - parentRect.top);\n\t    },\n\t    getPointFromRadialSystem: function getPointFromRadialSystem(angle, length, center) {\n\t        center = center || new Point(0, 0);\n\t        return center.add(new Point(length * Math.cos(angle), length * Math.sin(angle)));\n\t    },\n\t    addPointToBoundPoints: function addPointToBoundPoints(boundpoints, point, isRight) {\n\t        var i,\n\t            result = boundpoints.filter(function (bPoint) {\n\t            return bPoint.y > point.y || (isRight ? bPoint.x < point.x : bPoint.x > point.x);\n\t        });\n\t        for (i = 0; i < result.length; i++) {\n\t            if (point.y < result[i].y) {\n\t                result.splice(i, 0, point);\n\t                return result;\n\t            }\n\t        }\n\t        result.push(point);\n\t        return result;\n\t    },\n\t    getAngle: function getAngle(p1, p2) {\n\t        var diff = p2.sub(p1);\n\t        return this.normalizeAngle(Math.atan2(diff.y, diff.x));\n\t    },\n\t    toRadian: function toRadian(angle) {\n\t        return angle % 360 * Math.PI / 180;\n\t    },\n\t    toDegree: function toDegree(angle) {\n\t        return angle * 180 / Math.PI % 360;\n\t    },\n\t    boundAngle: function boundAngle(min, max, val) {\n\t        var dmin, dmax;\n\t        if (min < max && val > min && val < max) {\n\t            return val;\n\t        } else if (max < min && (val < max || val > min)) {\n\t            return val;\n\t        } else {\n\t            dmin = this.getAngleDiff(min, val);\n\t            dmax = this.getAngleDiff(max, val);\n\t            if (dmin < dmax) {\n\t                return min;\n\t            } else {\n\t                return max;\n\t            }\n\t        }\n\t    },\n\t    getNearestAngle: function getNearestAngle(arr, angle) {\n\t        var i,\n\t            temp,\n\t            diff = Math.PI * 2,\n\t            value;\n\t        for (i = 0; i < arr.length; i++) {\n\t            temp = mathPoint.getAngleDiff(arr[i], angle);\n\t            if (diff < temp) {\n\t                diff = temp;\n\t                value = arr[i];\n\t            }\n\t        }\n\t        return value;\n\t    },\n\t    getAngleDiff: function getAngleDiff(alpha, beta) {\n\t        var minAngle = Math.min(alpha, beta),\n\t            maxAngle = Math.max(alpha, beta);\n\t        return Math.min(maxAngle - minAngle, minAngle + Math.PI * 2 - maxAngle);\n\t    },\n\t    normalizeAngle: function normalizeAngle(val) {\n\t        while (val < 0) {\n\t            val += 2 * Math.PI;\n\t        }\n\t        while (val > 2 * Math.PI) {\n\t            val -= 2 * Math.PI;\n\t        }\n\t        return val;\n\t    },\n\t    distance: function distance(P1, P2) {\n\t        var xs = 0;\n\t        var ys = 0;\n\t\n\t        xs = P2.x - P1.x;\n\t        xs = xs * xs;\n\t\n\t        ys = P2.y - P1.y;\n\t        ys = ys * ys;\n\t\n\t        return Math.sqrt(xs + ys);\n\t    }\n\t};\n\t\n\texports.Point = Point;\n\texports.Rectangle = Rectangle;\n\texports.mathPoint = mathPoint;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.listFactory = exports.List = exports.lists = undefined;\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _point = __webpack_require__(5);\n\t\n\tvar _bound = __webpack_require__(4);\n\t\n\tvar _draggable = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar lists = [];\n\t\n\tvar Dragee = { util: _util2.default, boundType: _bound.boundType, boundFactory: _bound.boundFactory, Draggable: _draggable.Draggable, events: _draggable.events }; //todo remove after refactore\n\t\n\t\n\tfunction List(draggables, options) {\n\t\tvar i;\n\t\tthis.options = {\n\t\t\ttimeEnd: 200,\n\t\t\ttimeExcange: 400,\n\t\t\tradius: 30,\n\t\t\tgetLength: _point.mathPoint.getLength(),\n\t\t\tisDisplacement: false\n\t\t};\n\t\tfor (i in options) {\n\t\t\tif (options.hasOwnProperty(i)) {\n\t\t\t\tthis.options[i] = options[i];\n\t\t\t}\n\t\t}\n\t\tthis.draggables = draggables;\n\t\tlists.push(this);\n\t\tthis.onChange = Dragee.util.triggerFactory({ context: this });\n\t\tif (options && options.onChange) {\n\t\t\tthis.onChange.add(options.onChange);\n\t\t}\n\t\tthis.init();\n\t}\n\t\n\tList.prototype.init = function () {\n\t\tthis._enable = true;\n\t\tthis.draggables.forEach(this.initDraggable, this);\n\t};\n\t\n\tList.prototype.initDraggable = function (draggable) {\n\t\tvar _moveHandler,\n\t\t    that = this;\n\t\tdraggable.enable = this._enable;\n\t\tif (this.options.isDisplacement) {\n\t\t\t_moveHandler = function moveHandler() {\n\t\t\t\tif (this.isDragee) {\n\t\t\t\t\tthat.onStart(this);\n\t\t\t\t\tdraggable.onMove.remove(_moveHandler);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\tdraggable.onEnd.add(function () {\n\t\t\t\tthat.onEndDisplaycement(this);\n\t\t\t\tdraggable.onMove.add(_moveHandler);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tdraggable.onMove.add(_moveHandler);\n\t\t} else {\n\t\t\tdraggable.onEnd.add(function () {\n\t\t\t\tthat.onEnd(this);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t};\n\t\n\tList.prototype.moveOrSave = function (draggable, position, time) {\n\t\tif (draggable.isDragee) {\n\t\t\tdraggable.fixPosition = position;\n\t\t} else {\n\t\t\tdraggable.move(position, time, true);\n\t\t}\n\t};\n\t\n\tList.prototype.onEnd = function (draggable) {\n\t\tvar fixPositions = this.getCurrentFixPosition(),\n\t\t    currentIndex,\n\t\t    excangeIndex;\n\t\tcurrentIndex = this.draggables.indexOf(draggable);\n\t\texcangeIndex = _point.mathPoint.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getLength);\n\t\tif (excangeIndex === -1 || excangeIndex === currentIndex) {\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t} else {\n\t\t\tthis.moveOrSave(this.draggables[excangeIndex], fixPositions[currentIndex], this.options.timeExcange);\n\t\t\tthis.draggables[currentIndex].move(fixPositions[excangeIndex], this.options.timeEnd, true);\n\t\t\tthis.onChange.fire();\n\t\t}\n\t\treturn true;\n\t};\n\t\n\tList.prototype.onEndDisplaycement = function (draggable) {\n\t\tvar currentIndex,\n\t\t    i,\n\t\t    targetIndex,\n\t\t    sortedDraggables = this.getSortedDraggables(),\n\t\t    fixPositions = sortedDraggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\ttargetIndex = _point.mathPoint.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getLength);\n\t\tif (targetIndex !== -1) {\n\t\t\tif (targetIndex < currentIndex) {\n\t\t\t\tfor (i = targetIndex; i < currentIndex; i++) {\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i + 1], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = currentIndex; i < targetIndex; i++) {\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i + 1], fixPositions[i], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdraggable.move(fixPositions[targetIndex], this.options.timeEnd, true);\n\t\t} else {\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t}\n\t};\n\t\n\tList.prototype.onStart = function (draggable) {\n\t\tvar currentIndex,\n\t\t    i,\n\t\t    sortedDraggables = this.getSortedDraggables(),\n\t\t    fixPositions = sortedDraggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition;\n\t\t});\n\t\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\tfor (i = currentIndex + 1; i < sortedDraggables.length; i++) {\n\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i - 1], this.options.timeExcange);\n\t\t}\n\t\tsortedDraggables[currentIndex].fixPosition = fixPositions[i - 1];\n\t};\n\t\n\tList.prototype.getCurrentFixPosition = function () {\n\t\treturn this.draggables.map(function (draggable) {\n\t\t\treturn draggable.fixPosition.clone();\n\t\t});\n\t};\n\t\n\tList.prototype.getSortedDraggables = function () {\n\t\tvar sortedDraggables,\n\t\t    initPositions = this.draggables.map(function (draggable) {\n\t\t\treturn draggable.initPosition;\n\t\t});\n\t\tsortedDraggables = initPositions.map(function (position) {\n\t\t\treturn this.draggables.filter(function (draggable) {\n\t\t\t\treturn draggable.fixPosition.compare(position);\n\t\t\t}, this)[0];\n\t\t}, this);\n\t\treturn sortedDraggables;\n\t};\n\t\n\tList.prototype.reset = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.move(draggable.initPosition, 0, true, false);\n\t\t});\n\t};\n\t\n\tList.prototype.refresh = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.refresh();\n\t\t});\n\t};\n\t\n\tList.prototype.add = function (draggables) {\n\t\tvar that = this;\n\t\tif (!(draggables instanceof Array)) {\n\t\t\tdraggables = [draggables];\n\t\t}\n\t\tdraggables.forEach(this.initDraggable, this);\n\t\tthis.draggables = this.draggables.concat(draggables);\n\t};\n\t\n\tList.prototype.remove = function (draggables) {\n\t\tvar j,\n\t\t    initPositions = this.draggables.map(function (draggable) {\n\t\t\treturn draggable.initPosition;\n\t\t}),\n\t\t    list = [],\n\t\t    sortedDraggables = this.getSortedDraggables();\n\t\tif (!(draggables instanceof Array)) {\n\t\t\tdraggables = [draggables];\n\t\t}\n\t\tdraggables.forEach(function (draggable) {\n\t\t\tdraggable.onEnd.reset();\n\t\t\tdraggable.onMove.reset(); //todo remove reset in future\n\t\t\tthis.draggables.removeItem(draggable);\n\t\t\tDragee.util.remove(this.draggables, draggable);\n\t\t}, this);\n\t\tj = 0;\n\t\tsortedDraggables.forEach(function (draggable, i) {\n\t\t\tif (this.draggables.indexOf(draggable) !== -1) {\n\t\t\t\tif (draggable.fixPosition !== initPositions[j]) {\n\t\t\t\t\tdraggable.move(initPositions[j], this.options.timeExcange, true);\n\t\t\t\t}\n\t\t\t\tdraggable.initPosition = initPositions[j];\n\t\t\t\tj++;\n\t\t\t\tlist.push(draggable);\n\t\t\t}\n\t\t}, this);\n\t\tthis.draggables = list;\n\t};\n\t\n\tList.prototype.clear = function () {\n\t\tthis.remove(this.draggables.slice());\n\t};\n\t\n\tList.prototype.destroy = function () {\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.destroy();\n\t\t});\n\t};\n\t\n\tList.prototype.__defineGetter__(\"positions\", function () {\n\t\treturn this.getCurrentFixPosition();\n\t});\n\t\n\tList.prototype.__defineSetter__(\"positions\", function (positions) {\n\t\tvar message = \"wrong array length\";\n\t\tif (positions.length === this.draggables.length) {\n\t\t\tpositions.forEach(function (point, i) {\n\t\t\t\tthis.draggables[i].move(point, 0, true, true);\n\t\t\t}, this);\n\t\t} else {\n\t\t\talert(message);\n\t\t\tthrow message;\n\t\t}\n\t});\n\t\n\tList.prototype.__defineGetter__(\"enable\", function () {\n\t\treturn this._enable;\n\t});\n\t\n\tList.prototype.__defineSetter__(\"enable\", function (value) {\n\t\tthis._enable = value;\n\t\tthis.draggables.forEach(function (draggable) {\n\t\t\tdraggable.enable = value;\n\t\t});\n\t});\n\t\n\tfunction listFactory(parentElement, elements, options) {\n\t\tvar draggables, draggableOptions, listOptions;\n\t\toptions = options || {};\n\t\tdraggableOptions = options.draggable || {};\n\t\tlistOptions = options.list || {};\n\t\tdraggableOptions.parent = draggableOptions.parent || parentElement;\n\t\telements = Array.prototype.slice.call(elements);\n\t\n\t\tdraggables = elements.map(function (element) {\n\t\t\treturn new Dragee.Draggable(element, draggableOptions);\n\t\t});\n\t\n\t\treturn new List(draggables, listOptions);\n\t}\n\t\n\texports.lists = lists;\n\texports.List = List;\n\texports.listFactory = listFactory;\n\t\n\t// Dragee.lists = lists;\n\t// Dragee.List = List;\n\t// Dragee.listFactory = listFactory;\n\t// window.Dragee = Dragee;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** dragee.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3e847cb95c74bfbfde99\n **/","import './expandnative'\nimport {Draggable} from './draggable'\nimport {List, listFactory} from './list'\n\nexport { Draggable, List, listFactory }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","var clone = function (o) {\n    function c(o) {\n        for (var i in o) {\n            this[i] = o[i];\n        }\n    }\n    return new c(o);\n}\n\n\n/************ Array **************/\n\nif (!Array.prototype.forEach){\n    Array.prototype.forEach = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t)\n                fun.call(thisp, t[i], i, t);\n        }\n    };\n}\n\nif (!Array.prototype.filter){\n    Array.prototype.filter = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var res = [];\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t){\n                var val = t[i]; // in case fun mutates this\n                if (fun.call(thisp, val, i, t))\n                    res.push(val);\n            }\n        }\n        return res;\n    };\n}\n\nif (!Array.prototype.every){\n        Array.prototype.every = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n        throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t && !fun.call(thisp, t[i], i, t))\n                return false;\n        }\n        return true;\n    };\n}\n\nif (!Array.prototype.map){\n    Array.prototype.map = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var res = new Array(len);\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t)\n                res[i] = fun.call(thisp, t[i], i, t);\n        }\n        return res;\n    };\n}\n\nif (!Array.prototype.some){\n    Array.prototype.some = function(fun /*, thisp */){\n        if (this === void 0 || this === null)\n            throw new TypeError();\n        var t = Object(this);\n        var len = t.length >>> 0;\n        if (typeof fun !== \"function\")\n            throw new TypeError();\n        var thisp = arguments[1];\n        for (var i = 0; i < len; i++){\n            if (i in t && fun.call(thisp, t[i], i, t))\n                return true;\n        }\n        return false;\n    };\n}\n\nif (!Array.prototype.removeItem){\n    Array.prototype.removeItem = function(val) {\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === val) {\n                this.splice(i, 1);\n                i--;\n            }\n        }\n        return this;\n    }\n}\n\n/*********** HTMLElement ***************/\nElement.prototype.hasClass = function(c){\n    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\");\n    return (re.test(this.className));\n}\n\nElement.prototype.addClass = function(c){\n    if (this.hasClass(c)) return this;\n    this.className = (this.className + \" \" + c).replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n    return this;\n}\n\nElement.prototype.removeClass = function(c){\n    var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", \"g\")\n    this.className = this.className.replace(re, \"$1\").replace(/\\s+/g, \" \").replace(/(^ | $)/g, \"\");\n    return this;\n}\n\nHTMLElement.prototype.appbeginChild = function(node) {\n    this.firstChild ? this.insertBefore(node, this.firstChild) : this.appendChild(node);\n}\n\nHTMLElement.prototype.exchange = function(refNode) {\n    var tempParentNode = refNode.parentNode;\n    var tempBeforeNode = refNode.nextElementSibling;\n    this.parentNode.insertBefore(refNode,this);\n    if(tempBeforeNode)\n        tempParentNode.insertBefore(this,tempBeforeNode);\n    else\n        tempParentNode.appendChild(this);\n\n    return refNode;\n}\n\nvar fullOffset = function(element, axis, parent_id){\n    var tor = 0;\n    while((element) && (element.id!=parent_id)){  //&& (element!=\"\")\n        if( axis == \"x\" )\n        {\n            if(element.offsetLeft)\n                tor += element.offsetLeft;\n        }\n        if( axis == \"y\" )\n        {\n            if(element.offsetTop)\n                tor += element.offsetTop;\n        }\n            element = element.parentNode;\n    }\n    return tor;\n}\n\n/*********************** 00P *************************/\nvar extend = function(Child, Parent) {\n    var F = function() { }\n    F.prototype = Parent.prototype;\n    Child.prototype = new F();\n    Child.prototype.constructor = Child;\n    Child.superclass = Parent.prototype;\n}\n\nvar augment = function(receivingClass, givingClass) {\n    /* only provide certain methods */\n    if (arguments[2]) {\n        for (var i=2, len=arguments.length; i<len; i++) {\n            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];\n        }\n    }\n    /* provide all methods*/\n    else {\n        for (methodName in givingClass.prototype) {\n            /* check to make sure the receiving class doesn't\n               have a method of the same name as the one currently\n               being processed */\n            if (!receivingClass.prototype[methodName]) {\n                receivingClass.prototype[methodName] = givingClass.prototype[methodName];\n            }\n        }\n    }\n}\n/**************************************************/\naugment(NodeList,Array,'forEach');\n\n/**************************************************/\nMath.getNearIndex = function(arr, val){\n    var delta = Math.abs(arr[0] - val);\n    var index = 0;\n    for(var i=0; i<arr.length; i++){\n        var temp = Math.abs(arr[i] - val);\n        if(temp<delta){\n            delta = temp;\n            index = i;\n        }\n    }\n    return index;\n}\n\nMath.getNearIndexWithCaptureRadius = function(arr, radius, val){\n    var delta=Math.abs(arr[0]-val);\n    var index=0;\n    for(var i=0;i<arr.length;i++){\n        var temp=Math.abs(arr[i]-val);\n        if(temp<delta){\n            delta=temp;\n            index=i;\n        }\n    }\n    if(delta>radius){\n        return -1;\n    }\n    return index;\n}\n\nMath.bound = function(min, max, val){\n    //console.log(min,max,val)\n    return Math.max(min,Math.min(max,val));\n}\nMath.boundPoint = function(min, max, val){\n    var x = Math.max(min.x, Math.min(max.x, val.x));\n    var y = Math.max(min.y, Math.min(max.y, val.y));\n    return new Point(x, y);\n}\nMath.getLength = function(p1, p2){\n    var dx = p1.x - p2.x;\n    var dy = p1.y - p2.y;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n\nMath.toRadian = function(angle){\n    return ((angle % 361) * Math.PI / 180);\n}\n/********************************************/\n\nString.prototype.substrend = function(length) {\n    return this.substr(0, this.length - length);\n}\n/********************************************/\n\nfunction XmlHttpRequest() {\n    if (window.XMLHttpRequest) {\n        xmlhttp = new XMLHttpRequest();\n    } else if (window.ActiveXObject) {\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    if (xmlhttp == null) {\n        alert(\"Your browser does not support XMLHTTP.\");\n    }\n    return xmlhttp;\n}\n\nwindow.requestAnimationFrame = (function(){\n  return  window.requestAnimationFrame       ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame    ||\n          window.oRequestAnimationFrame      ||\n          window.msRequestAnimationFrame     ||\n          function(/* function */ callback, /* DOMElement */ element){\n            window.setTimeout(callback, 1000 / 60);\n          };\n})();\n\ntry {\n    if(!Object.prototype.__defineGetter__ &&\n    Object.defineProperty({}, \"x\", { get: function() { return true } }).x) {\n        Object.defineProperty(Object.prototype, \"__defineGetter__\",\n     { enumerable: false, configurable: true,\n        value: function(name, func) {\n            Object.defineProperty(this, name,\n             { get: func, enumerable: true, configurable: true });\n        }\n     });\n        Object.defineProperty(Object.prototype, \"__defineSetter__\",\n     { enumerable: false, configurable: true,\n        value: function(name, func) {\n            Object.defineProperty(this, name,\n             { set: func, enumerable: true, configurable: true });\n        }\n     });\n    }\n} catch(defPropException) { /*Do nothing if an exception occurs*/ };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expandnative.js\n **/","    'use strict';\n\n\n    import util from './util'\n    import {boundType, boundFactory} from './bound'\n    import {mathPoint, Point} from './point'\n\n    var Dragee = { util, boundType, boundFactory };//todo remove after refactore\n\n    var isTouch = 'ontouchstart' in window, mouseEvents = {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup'\n    }, touchEvents = {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend'\n    },\n    events = isTouch ? touchEvents : mouseEvents,\n    draggables = [],\n    onCreateDraggable = function(draggable){\n        var message = \"for this element Dragee.Draggable is already exist, don't create it twice \";\n        if(draggables.some(function(existing){\n            return draggable.element === existing.element;\n        })){\n            throw message;\n        }\n        draggables.push(draggable);\n    },\n    transformProperty = getStyleProperty('transform'),\n    transitionProperty = getStyleProperty('transition');\n\n    //Dragee.events = events;\n\n    function Draggable(element, options){\n        options = options || {};\n        var i, that = this, displayListener, parent = options.parent || Dragee.util.getDefaultParent(element);\n        this.options = {\n            parent: parent,\n            bound: Dragee.boundFactory(Dragee.boundType.element)(parent, parent),\n            startFilter: false,\n            isContentBoxSize: false,\n            position: false\n        }\n        for(i in options){\n            if(options.hasOwnProperty(i)){\n                this.options[i] = options[i];\n            }\n        }\n        this.onEnd = Dragee.util.triggerFactory({\n            context: this, isReverse: true, isStopOnTrue: true\n        });\n        this.onMove = Dragee.util.triggerFactory({context: this});\n        this.onStart = Dragee.util.triggerFactory({context: this});\n\n        this.onEnd.add(function(){\n            this.move(this.position, 0, true, true);\n        });\n\n        if(options.onEnd){\n            this.onEnd.add(options.onEnd);\n        }\n        if(options.onMove){\n            this.onMove.add(options.onMove);\n        }\n        if(options.onStart){\n            this.onStart.add(options.onStart);\n        }\n        this.element = element;\n        this.bound = this.options.bound;\n        onCreateDraggable(this);\n        that.init();\n    }\n\n    Draggable.prototype.init = function(){\n        this._enable = true;\n        this.offset = mathPoint.getOffset(this.element, this.options.parent, true);\n        this.fixPosition = this.offset;\n        this.position = this.offset;\n        if(this.options.position){\n            this.initPosition = this.options.position;\n            this.move(this.initPosition, 0, true, true);\n        } else {\n            this.initPosition = this.offset;\n        }\n        this._dragStart = Dragee.util.bind(this.dragStart, this);\n        this._delayedDragStart = Dragee.util.bind(this.delayedDragStart, this);\n        this._dragMove = Dragee.util.bind(this.dragMove, this);\n        this._dragEnd = Dragee.util.bind(this.dragEnd, this);\n\n        if(this.options.delayedStart) {\n            this.element.addEventListener(touchEvents.start, this._delayedDragStart);\n            this.element.addEventListener(mouseEvents.start, this._delayedDragStart);\n        } else {\n            this.element.addEventListener(touchEvents.start, this._dragStart);\n            this.element.addEventListener(mouseEvents.start, this._dragStart);\n        }\n\n        this.bound.refresh && this.bound.refresh();\n    };\n\n    Draggable.prototype.reinit = function(){\n        this.offset = mathPoint.getOffset(this.element, this.options.parent, true);\n        this.fixPosition = this.offset;\n        this.position = this.offset;\n        if(this.options.position){\n            this.initPosition = this.options.position;\n            this.move(this.initPosition, 0, true, true);\n        } else {\n            this.initPosition = this.offset;\n        }\n\n        this.bound.refresh && this.bound.refresh();\n    };\n\n    Draggable.prototype.getSize = function(recalulate){\n        return mathPoint.getSizeOfElement(this.element, this.options.isContentBoxSize);\n    };\n\n    Draggable.prototype.getPosition = function(){\n        this.position = this.offset.add(this._transformPosition || new Point(0, 0));\n        return this.position;\n    };\n\n    Draggable.prototype.getCenter = function(){\n        return this.position.add(this.getSize().mult(0.5));\n    };\n\n    Draggable.prototype._setTranslate = function(point){\n        this._transformPosition = point;\n\n        var transform = this.element.style[transformProperty],\n            translateCss = ' translate3d(' + point.x + 'px,' + point.y + 'px, 0px)';\n\n        var ua = window.navigator.userAgent;\n        var msie = ua.indexOf(\"MSIE \");\n\n        if(msie) {\n            translateCss = ' translate(' + point.x + 'px,' + point.y + 'px)';\n            if(!/translate\\([^)]+\\)/.test(transform)){\n                transform += translateCss;\n            }else{\n                transform = transform.replace(/translate\\([^)]+\\)/, translateCss);\n            }\n        } else {\n            if(!/translate3d\\([^)]+\\)/.test(transform)){\n                transform += translateCss;\n            }else{\n                transform = transform.replace(/translate3d\\([^)]+\\)/, translateCss);\n            }\n        }\n\n        this.element.style[transformProperty] = transform;\n    };\n\n    Draggable.prototype.move = function(point, time, isFix, isSilent){\n        var that = this;\n        time = time || 0;\n        point = point.clone();\n        if(isFix){\n            this.fixPosition = point;\n        }\n\n        this.determineDirection(point);\n\n        this.position = point;\n\n        transitionProperty && (that.element.style[transitionProperty] = time + \"ms\");\n        that._setTranslate(point.sub(that.offset));\n        isSilent || that.onMove.fire();\n    };\n\n    Draggable.prototype.refreshPosition = function(){\n        this.setPosition(this.getPosition());\n    };\n\n    Draggable.prototype.setPosition = function(point){\n        point = point.clone();\n        this.position = point;\n\n        transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n        this._setTranslate(point.sub(this.offset));\n    };\n\n    Draggable.prototype.setZeroTransition = function(){\n        transitionProperty && (this.element.style[transitionProperty] = \"0ms\");\n    };\n\n    Draggable.prototype.determineDirection = function(point){\n        this.leftDirection = (this.position.x < point.x);\n        this.rightDirection = (this.position.x > point.x);\n        this.upDirection = (this.position.y > point.y);\n        this.downDirection = (this.position.y < point.y);\n    };\n\n    Draggable.prototype.delayedDragStart = function(delayedEvent){\n        var isTouchEvent = (isTouch && (delayedEvent instanceof TouchEvent)),\n            startTouchPoint = new Point(\n                isTouchEvent ? delayedEvent.changedTouches[0].pageX : delayedEvent.clientX,\n                isTouchEvent ? delayedEvent.changedTouches[0].pageY : delayedEvent.clientY\n            ),\n            that = this;\n\n        if(delayedEvent.shiftKey) return;\n\n        function checkMovement(event){\n            var isTouchEvent = (isTouch && (event instanceof TouchEvent)),\n                touchPoint = new Point(\n                    isTouchEvent ? event.changedTouches[0].pageX : event.clientX,\n                    isTouchEvent ? event.changedTouches[0].pageY : event.clientY\n                );\n\n            if(Math.abs(touchPoint.x-startTouchPoint.x) > 5\n                || Math.abs(touchPoint.y-startTouchPoint.y) > 5) {\n\n                document.removeEventListener(touchEvents.move, checkMovement);\n                document.removeEventListener(mouseEvents.move, checkMovement);\n\n                BlockSelection.startDragSelection(that, delayedEvent);\n                that.dragStart(delayedEvent);\n            }\n        }\n\n        function removeCheckMovement(event){\n            document.removeEventListener(touchEvents.move, checkMovement);\n            document.removeEventListener(mouseEvents.move, checkMovement);\n\n            document.removeEventListener(touchEvents.end, removeCheckMovement);\n            document.removeEventListener(mouseEvents.end, removeCheckMovement);\n        }\n\n        document.addEventListener(touchEvents.move, checkMovement);\n        document.addEventListener(mouseEvents.move, checkMovement);\n\n        document.addEventListener(touchEvents.end, removeCheckMovement);\n        document.addEventListener(mouseEvents.end, removeCheckMovement);\n    };\n\n    Draggable.prototype.dragStart = function(event){\n        this.currentEvent = event;\n        if(!this._enable || ( this.options.startFilter && !this.options.startFilter(event))){\n            return;\n        }\n\n        var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n        this._startTouchPoint = new Point(isTouchEvent ? event.changedTouches[0].pageX : event.clientX, isTouchEvent ? event.changedTouches[0].pageY : event.clientY);\n\n        this._startPosition = this.getPosition();\n        if(isTouchEvent){\n            this._touchId = event.changedTouches[0].identifier;\n        }\n        event.stopPropagation();\n        if(!(event.target instanceof HTMLInputElement\n            || event.target instanceof HTMLInputElement)){\n            event.preventDefault();\n        }else{\n            event.target.focus();\n        }\n\n        document.addEventListener(touchEvents.move, this._dragMove);\n        document.addEventListener(mouseEvents.move, this._dragMove);\n\n        document.addEventListener(touchEvents.end, this._dragEnd);\n        document.addEventListener(mouseEvents.end, this._dragEnd);\n\n        this.isDragee = true;\n\n        this.onStart.fire(event);\n        this.element.addClass(\"active\");\n        this.onMove.fire(event);\n    };\n\n    Draggable.prototype.dragMove = function(event){\n        this.currentEvent = event;\n\n        var touch, touchPoint, point;\n\n        var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n        if(isTouchEvent){\n            if(!(touch = Dragee.util.getTouchByID(event, this._touchId))){\n                return;\n            }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        touchPoint = new Point(isTouchEvent ? touch.pageX : event.clientX, isTouchEvent ? touch.pageY : event.clientY);\n        point = this._startPosition.add(touchPoint.sub(this._startTouchPoint));\n        point = this.bound(point, this.getSize());\n        this.touchPoint = touchPoint;\n        this.move(point, 0);\n    };\n\n    Draggable.prototype.dragEnd = function(event){\n        var touch;\n\n        var isTouchEvent = (isTouch && (event instanceof TouchEvent));\n\n        if(isTouchEvent){\n            if(!(touch = Dragee.util.getTouchByID(event, this._touchId))){\n                return;\n            }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        this.onEnd.fire(event);\n\n        document.removeEventListener(touchEvents.move, this._dragMove);\n        document.removeEventListener(mouseEvents.move, this._dragMove);\n\n        document.removeEventListener(touchEvents.end, this._dragEnd);\n        document.removeEventListener(mouseEvents.end, this._dragEnd);\n\n        this.isDragee = false;\n        this.element.removeClass(\"active\");\n    };\n\n    Draggable.prototype.getRectangle = function(){\n        return new Rectangle(this.position, this.getSize());\n    };\n\n    Draggable.prototype.refresh = function(){\n        this.getSize(true);\n        this.bound.refresh && this.bound.refresh();\n    }\n\n    Draggable.prototype.destroy = function(){\n        this.element.removeEventListener(touchEvents.start, this._dragStart);\n        this.element.removeEventListener(mouseEvents.start, this._dragStart);\n        this.element.removeEventListener(touchEvents.move, this._dragMove);\n        this.element.removeEventListener(mouseEvents.move, this._dragMove);\n        this.element.removeEventListener(touchEvents.end, this._dragEnd);\n        this.element.removeEventListener(mouseEvents.end, this._dragEnd);\n\n        this.onEnd.reset();\n        this.onMove.reset();\n    };\n\n    Draggable.prototype.__defineGetter__(\"enable\", function(){\n        return this._enable;\n    });\n\n    Draggable.prototype.__defineSetter__(\"enable\", function(enable) {\n        if(enable) {\n            this.element.removeClass(\"disable\");\n        } else {\n            this.element.addClass(\"disable\");\n        }\n\n        return this._enable = enable;\n    });\n\n    export {Draggable, draggables, events};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/draggable.js\n **/","    'use strict';\n\n    var util = {\n        getDefaultParent: function (element){\n            var parent = element.parentNode;\n            while(parent.parentNode && window.getComputedStyle(parent)[\"position\"] === \"static\"){\n                parent = parent.parentNode;\n            }\n            return parent;\n        },\n        bind: function(func, context){\n            return function(){\n                return func.apply(context, [].splice.call(arguments, 0));\n            };\n        },\n        getTouchByID: function(element, touchId){\n            var i;\n            for(i = 0; i < element.changedTouches.length; i++){\n                if(element.changedTouches[i].identifier === touchId){\n                    return element.changedTouches[i];\n                }\n            }\n            return false;\n        },\n        getSumValueOfStyleRule: function(element, rules){\n            return rules.reduce(function(sum, rule){\n                return sum + parseInt(window.getComputedStyle(element)[rule]||0);\n            }, 0);\n        },\n        appendFirstChild: function(element, node){\n            element.firstChild ? element.insertBefore(node, element.firstChild) : element.appendChild(node);\n        },\n        range: function(start, stop, step){\n            var result = [];\n            if(typeof stop === 'undefined'){\n                stop = start;\n                start = 0;\n            }\n            if(typeof step === 'undefined'){\n                step = 1;\n            }\n            if((step > 0 && start >= stop) || (step < 0 && start <= stop)){\n                return [];\n            }\n            for(var i = start; step > 0 ? i < stop : i > stop; i += step){\n                result.push(i);\n            }\n            return result;\n        },\n        setStyle: function(element, style){\n            style = style || {};\n            var cssText = \"\", key;\n            for(key in style){\n                if(style.hasOwnProperty(key)){\n                    cssText += key + \": \" + style[key] + \"; \";\n                }\n            }\n\n            element.style.cssText = cssText;\n        },\n        triggerFactory: function(opts){\n            var funcs = [], i, options = {\n                isReverse: false,\n                isStopOnTrue: false,\n                context: window\n            };\n            for(i in opts){\n                if(opts.hasOwnProperty(i)){\n                    options[i] = opts[i];\n                }\n            };\n            return {\n                fire: function(){\n                    var args = [].slice.call(arguments),\n                        i, retValue, fs = options.isReverse ? funcs.slice().reverse() : funcs;\n\n                    for(i = 0; i < fs.length; i++){\n                        retValue = fs[i].apply(options.context, args);\n                        if(options.isStopOnTrue && retValue){\n                            return true;\n                        }\n                    }\n                    return !options.isStopOnTrue;\n                },\n                add: function(f){\n                    funcs.push(f);\n                },\n                unshift: function(f){\n                    funcs.unshift(f);\n                },\n                remove: function(f){\n                    var index = funcs.indexOf(f);\n                    if(index !== -1){\n                        funcs.splice(index, 1)\n                    }\n                },\n                reset:function(){\n                    funcs = [];\n                }\n            }\n        },\n        randomColor:function(){\n            var rnd = function(){\n                    return Math.round(Math.random()*255);\n                },\n                toHexString = function(digit){\n                    var str = digit.toString(16);\n                    while(str.length < 2){\n                        str = \"0\" + str;\n                    }\n                    return str;\n                },\n                red = rnd(),\n                green = rnd(),\n                blue = rnd();\n\n            return \"#\" + toHexString(red) + toHexString(green) + toHexString(blue);\n        },\n        createCanvas: function(area, rectagle){\n            var canvas;\n            if(window.getComputedStyle(area).position === \"static\"){\n                area.style.position = \"relative\";\n            }\n            canvas = document.createElement(\"canvas\");\n            canvas.setAttribute(\"width\", rectagle.size.x + \"px\");\n            canvas.setAttribute(\"height\", rectagle.size.y + \"px\");\n            util.setStyle(canvas, {\n                position: \"absolute\",\n                left: rectagle.position.y + \"px\",\n                top: rectagle.position.y + \"px\",\n                width: rectagle.size.x + \"px\",\n                height: rectagle.size.y + \"px\"\n            });\n            util.appendFirstChild(area, canvas);\n            return canvas;\n        }\n    };\n\n    export default util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","'use strict';\nimport {mathPoint} from './point'\n\n\n\tvar Dragee = window.Dragee || {},\n\t\tboundType = {\n\t\t\telement: -1,\n\t\t\trectangle: 0,\n\t\t\tlineX: 1,\n\t\t\tlineY: 2,\n\t\t\tline: 3,\n\t\t\tunificationOfRectangle: 4,\n\t\t\tcircle:5,\n\t\t\tarc:6\n\t\t};\n\tfunction boundFactory(type){\n\t\tswitch(type){\n\t\t\tcase boundType.element:\n\t\t\t\treturn function(element, parent){\n\t\t\t\t\tvar bound,\n\t\t\t\t\t\tretFunc = function(){\n\t\t\t\t\t\t\treturn bound.apply(this, arguments);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tretFunc.refresh = function(){\n\t\t\t\t\t\tbound = boundFactory(boundType.rectangle)(\n\t\t\t\t\t\t\tmathPoint.createRectangleFromElement(element, parent)\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\tretFunc.refresh();\n\t\t\t\t\treturn retFunc;\n\t\t\t\t};\n\t\t\tcase boundType.rectangle:\n\t\t\t\treturn function (rectangle){\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar calcPoint = point.clone(),\n\t\t\t\t\t\t\trectP2 = rectangle.getP3();\n\n\t\t\t\t\t\tif(rectangle.position.x > calcPoint.x){\n\t\t\t\t\t\t\t(calcPoint.x = rectangle.position.x);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(rectangle.position.y > calcPoint.y){\n\t\t\t\t\t\t\tcalcPoint.y = rectangle.position.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(rectP2.x < calcPoint.x + size.x){\n\t\t\t\t\t\t\tcalcPoint.x = rectP2.x - size.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(rectP2.y < calcPoint.y + size.y){\n\t\t\t\t\t\t\tcalcPoint.y = rectP2.y - size.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.lineX:\n\t\t\t\treturn function (x, startY, endY){\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar calcPoint = point.clone();\n\t\t\t\t\t\tcalcPoint.x = x;\n\t\t\t\t\t\tif(startY > calcPoint.y){\n\t\t\t\t\t\t\tcalcPoint.y = startY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(endY < calcPoint.y + size.y){\n\t\t\t\t\t\t\tcalcPoint.y = endY - size.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.lineY:\n\t\t\t\treturn function (y, startX, endX){\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar calcPoint = point.clone();\n\t\t\t\t\t\tcalcPoint.y = y;\n\t\t\t\t\t\tif(startX > calcPoint.x){\n\t\t\t\t\t\t\tcalcPoint.x = startX;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(endX < calcPoint.x + size.x){\n\t\t\t\t\t\t\tcalcPoint.x = endX - size.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn calcPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.line:\n\t\t\t\treturn function (start, end){\n\t\t\t\t\tvar alpha = Math.atan2(end.y - start.y, end.x - start.x),\n\t\t\t\t\t\tbeta = alpha + Math.PI / 2,\n\t\t\t\t\t\tsomeK = 10,\n\t\t\t\t\t\tcosBeta = Math.cos(beta),\n\t\t\t\t\t\tsinBeta = Math.sin(beta);\n\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar point2 = new Point(point.x + someK * cosBeta, point.y + someK * sinBeta),\n\t\t\t\t\t\t\tpointCrossing = mathPoint.directCrossing(start, end, point, point2),\n\t\t\t\t\t\t\tnewEnd = mathPoint.getPointInLineByLenght(end, start, size.x);\n\n\t\t\t\t\t\tpointCrossing = mathPoint.boundOnLine(start, newEnd, pointCrossing);\n\t\t\t\t\t\treturn pointCrossing;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.circle:\n\t\t\t\treturn function(center, radius){\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar boundedPoint = mathPoint.getPointInLineByLenght(center,point,radius);\n\t\t\t\t\t\treturn boundedPoint;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\tcase boundType.arc:\n\t\t\t\treturn function(center, radius, startAgle, endAngle){\n\t\t\t\t\treturn function (point, size){\n\t\t\t\t\t\tvar boundStartAngle = typeof startAgle === \"function\" ? startAgle() : startAgle,\n\t\t\t\t\t\t\tboundEndtAngle = typeof startAgle === \"function\" ? endAngle() : endAngle,\n\t\t\t\t\t\t\tangle = mathPoint.getAngle(center, point);\n\n\t\t\t\t\t\tangle = mathPoint.normalizeAngle(angle);\n\t\t\t\t\t\tangle = mathPoint.boundAngle(boundStartAngle, boundEndtAngle, angle);\n\t\t\t\t\t\treturn mathPoint.getPointFromRadialSystem(angle, radius, center);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t}\n\t}\n\n  export {boundType, boundFactory};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bound.js\n **/","'use strict';\n    import util from './util'\n    var mathPoint;\n    var Dragee = { util };//todo remove after refactore\n\n\n\n    /*********************/\n    function Point(x, y){\n        this.x = x;\n        this.y = y;\n    }\n\n    Point.prototype.toString = function(){\n        return '{x=' + this.x + ',y=' + this.y + '}';\n    };\n    Point.prototype.add = function(p){\n        return new Point(this.x + p.x, this.y + p.y);\n    };\n    Point.prototype.sub = function(p){\n        return new Point(this.x - p.x, this.y - p.y);\n    };\n    Point.prototype.mult = function(k){\n        return new Point(this.x * k, this.y * k);\n    };\n    Point.prototype.negative = function(){\n        return new Point(-this.x, -this.y);\n    };\n    Point.prototype.compare = function(p){\n        return (this.x === p.x && this.y === p.y);\n    };\n    Point.prototype.clone = function(){\n        return new Point(this.x, this.y);\n    };\n\n    /****************/\n    function Rectangle(position, size){\n        this.position = position;\n        this.size = size;\n    }\n\n    Rectangle.prototype.getP1 = function(){\n        return this.position;\n    };\n    Rectangle.prototype.getP2 = function(){\n        return new Point(this.position.x + this.size.x, this.position.y);\n    };\n    Rectangle.prototype.getP3 = function(){\n        return this.position.add(this.size);\n    };\n    Rectangle.prototype.getP4 = function(){\n        return new Point(this.position.x, this.position.y + this.size.y);\n    };\n    Rectangle.prototype.getCenter = function(){\n        return this.position.add(this.size.mult(0.5));\n    };\n    Rectangle.prototype.or = function(rect){\n        var position = new Point(Math.min(this.position.x, rect.position.x), Math.min(this.position.y, rect.position.y)), size = (new Point(Math.max(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.max(this.position.y + this.size.y, rect.position.y + rect.size.y))).sub(position);\n        return new Rectangle(position, size);\n    };\n    Rectangle.prototype.and = function(rect){\n        var position = new Point(Math.max(this.position.x, rect.position.x), Math.max(this.position.y, rect.position.y)), size = (new Point(Math.min(this.position.x + this.size.x, rect.position.x + rect.size.x), Math.min(this.position.y + this.size.y, rect.position.y + rect.size.y))).sub(position);\n        if(size.x <= 0 || size.y <= 0){\n            return null;\n        }\n        return new Rectangle(position, size);\n    };\n\tRectangle.prototype.includePoint = function(p){\n\t\treturn !(this.position.x > p.x || this.position.x + this.size.x < p.x || this.position.y > p.y || this.position.y + this.size.y < p.y);\n\t};\n\tRectangle.prototype.includeRectangle = function(rectangle){\n\t\treturn this.includePoint(rectangle.position) && this.includePoint(rectangle.getP3());\n\t};\n    Rectangle.prototype.moveToBound = function(rect, axis){\n        var selAxis, crossRectangle, thisCenter, rectCenter, sign, offset;\n        if(axis){\n            selAxis = axis;\n        }else{\n            crossRectangle = this.and(rect);\n            if(!crossRectangle){\n                return rect;\n            }\n            selAxis = crossRectangle.size.x > crossRectangle.size.y ? \"y\" : \"x\";\n        }\n        thisCenter = this.getCenter();\n        rectCenter = rect.getCenter();\n        sign = thisCenter[selAxis] > rectCenter[selAxis] ? -1 : 1;\n        offset = sign > 0 ? this.position[selAxis] + this.size[selAxis] - rect.position[selAxis] : this.position[selAxis] - (rect.position[selAxis] + rect.size[selAxis]);\n        rect.position[selAxis] = rect.position[selAxis] + offset;\n        return rect;\n    };\n    Rectangle.prototype.getSquare = function(){\n        return this.size.x * this.size.y;\n    };\n    Rectangle.prototype.styleApply = function(el){\n        el = el || document.querySelector(\"ind\");\n        el.style.left = this.position.x + \"px\";\n        el.style.top = this.position.y + \"px\";\n        el.style.width = this.size.x + \"px\";\n        el.style.height = this.size.y + \"px\";\n    };\n    Rectangle.prototype.growth = function(size){\n        this.size = this.size.add(size);\n        this.position = this.position.add(size.mult(-0.5));\n    };\n    Rectangle.prototype.getMinSide = function(){\n        return Math.min(this.size.x, this.size.y);\n    };\n\n    /*****************/\n    mathPoint = {\n        getLength: function(options){\n            if(!options || (options.x && options.y && !options.isTransformationSpace)){\n                return function(p1, p2){\n                    var dx = p1.x - p2.x, dy = p1.y - p2.y;\n                    return Math.sqrt(dx * dx + dy * dy);\n                };\n            }else{\n                if(options.x && options.y && options.isTransformationSpace){\n                    return function(p1, p2){\n                        return Math.sqrt(Math.pow(options.x * Math.abs(p1.x - p2.x), 2) + Math.pow(options.y * Math.abs(p1.y - p2.y), 2));\n                    };\n                }else{\n                    if(options.x){\n                        return function(p1, p2){\n                            return Math.abs(p1.x - p2.x);\n                        };\n                    }else{\n                        if(options.y){\n                            return function(p1, p2){\n                                return Math.abs(p1.y - p2.y);\n                            };\n                        }\n                    }\n                }\n            }\n        },\n        indexOfNearPoint: function(arr, val, radius, getLength){\n            var size, index = 0, i, temp;\n            getLength = getLength || this.getLength();\n            if(arr.length === 0){\n                return -1;\n            }\n            size = getLength(arr[0], val);\n            for(i = 0; i < arr.length; i++){\n                temp = getLength(arr[i], val);\n                if(temp < size){\n                    size = temp;\n                    index = i;\n                }\n            }\n            if(radius >= 0 && size > radius){\n                return -1;\n            }\n            return index;\n        },\n        bound: function(min, max, val){\n            return Math.max(min, Math.min(max, val));\n        },\n        boundPoint: function(min, max, val){\n            var x = Math.max(min.x, Math.min(max.x, val.x)), y = Math.max(min.y, Math.min(max.y, val.y));\n            return new Point(x, y);\n        },\n        //Return crossing point of two lines\n        directCrossing: function(L1P1, L1P2, L2P1, L2P2){\n            var temp, k1, k2, b1, b2, x, y;\n            if(L2P1.x === L2P2.x){\n                temp = L2P1;\n                L2P1 = L1P1;\n                L1P1 = temp;\n                temp = L2P2;\n                L2P2 = L1P2;\n                L1P2 = temp;\n            }\n            if(L1P1.x === L1P2.x){\n                k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n                b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n                x = L1P1.x;\n                y = x * k2 + b2;\n                return new Point(x, y);\n            }else{\n                k1 = (L1P2.y - L1P1.y) / (L1P2.x - L1P1.x);\n                b1 = (L1P2.x * L1P1.y - L1P1.x * L1P2.y) / (L1P2.x - L1P1.x);\n                k2 = (L2P2.y - L2P1.y) / (L2P2.x - L2P1.x);\n                b2 = (L2P2.x * L2P1.y - L2P1.x * L2P2.y) / (L2P2.x - L2P1.x);\n                x = (b1 - b2) / (k2 - k1);\n                y = x * k1 + b1;\n                return new Point(x, y);\n            }\n        },\n        //Get point and check that point belong to segment of the line\n        // if not - return the nearest point of segment\n        boundOnSegment: function(LP1, LP2, P){\n            var x, y;\n            x = mathPoint.bound(Math.min(LP1.x, LP2.x), Math.max(LP1.x, LP2.x), P.x);\n            if(x != P.x){\n                y = (x === LP1.x) ? LP1.y : LP2.y;\n                P = new Point(x, y);\n            }\n            y = mathPoint.bound(Math.min(LP1.y, LP2.y), Math.max(LP1.y, LP2.y), P.y);\n            if(y != P.y){\n                x = (y === LP1.y) ? LP1.x : LP2.x;\n                P = new Point(x, y);\n            }\n            return P;\n        },\n        boundOnLine: function(A, B, P){\n            var AP = new Point(P.x - A.x, P.y - A.y),\n                AB = new Point(B.x - A.x, B.y - A.y),\n                ab2 = AB.x * AB.x + AB.y * AB.y,\n                ap_ab = AP.x * AB.x + AP.y * AB.y,\n                t = ap_ab/ab2;\n            return new Point(A.x + AB.x * t, A.y + AB.y * t);\n        },\n        getPointInLine: function(LP1, LP2, percent){\n            var dx = LP2.x - LP1.x, dy = LP2.y - LP1.y;\n            return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n        },\n        getPointInLineByLenght: function(LP1, LP2, lenght){\n            var dx = LP2.x - LP1.x, dy = LP2.y - LP1.y, percent = lenght / this.getLength()(LP1, LP2);\n            return new Point(LP1.x + percent * dx, LP1.y + percent * dy);\n        },\n        createRectangleFromElement: function(el, parent, isContentBoxSize, isConsiderTranslate){\n            var size = this.getSizeOfElement(el, isContentBoxSize)\n            return new Rectangle(this.getOffset(el, parent || el.parentNode, isConsiderTranslate), size);\n        },\n        getSizeOfElement: function(el, isContentBoxSize){\n            var width = parseInt(window.getComputedStyle(el)['width']), height = parseInt(window.getComputedStyle(el)['height']);\n            if(!isContentBoxSize){\n                width += Dragee.util.getSumValueOfStyleRule(el, [\"padding-left\", \"padding-right\", \"border-left-width\", \"border-right-width\"]);\n                height += Dragee.util.getSumValueOfStyleRule(el, [\"padding-top\", \"padding-bottom\", \"border-top-width\", \"border-bottom-width\"]);\n            }\n            return new Point(width, height);\n        },\n        getOffset: function(el, parent, isConsiderTranslate){\n            var elRect = el.getBoundingClientRect(), parentRect = parent.getBoundingClientRect();\n            return new Point(elRect.left - parentRect.left, elRect.top - parentRect.top);\n        },\n        getPointFromRadialSystem: function(angle, length, center){\n            center = center || new Point(0, 0);\n            return center.add(new Point(length * Math.cos(angle), length * Math.sin(angle)));\n        },\n        addPointToBoundPoints: function(boundpoints, point, isRight){\n            var i, result = boundpoints.filter(function(bPoint){\n                return  bPoint.y > point.y || (isRight ? bPoint.x < point.x : bPoint.x > point.x);\n            });\n            for(i = 0; i < result.length; i++){\n                if(point.y < result[i].y){\n                    result.splice(i, 0, point);\n                    return result;\n                }\n            }\n            result.push(point);\n            return result;\n        },\n        getAngle: function(p1, p2){\n            var diff = p2.sub(p1);\n            return this.normalizeAngle(Math.atan2(diff.y, diff.x));\n        },\n        toRadian: function(angle){\n            return ((angle % 360) * Math.PI / 180);\n        },\n        toDegree: function(angle){\n            return (angle * 180 / Math.PI ) % 360;\n        },\n        boundAngle: function(min, max, val){\n            var dmin,dmax;\n            if(min < max && val > min && val < max){\n                return val;\n            }else if(max < min && ( val < max || val > min )){\n                return val;\n            }else{\n                dmin = this.getAngleDiff(min,val);\n                dmax = this.getAngleDiff(max,val);\n                if(dmin < dmax){\n                    return min;\n                }else{\n                    return max;\n                }\n            }\n        },\n        getNearestAngle:function(arr,angle){\n            var i,temp,diff = Math.PI * 2 ,value;\n            for(i = 0; i < arr.length;i++){\n                temp = mathPoint.getAngleDiff(arr[i],angle);\n                if(diff < temp){\n                    diff = temp;\n                    value = arr[i];\n                }\n            }\n            return value;\n        },\n        getAngleDiff:function(alpha,beta){\n            var minAngle = Math.min(alpha,beta),\n                maxAngle =  Math.max(alpha,beta);\n            return Math.min(maxAngle - minAngle,minAngle + Math.PI*2 - maxAngle);\n        },\n        normalizeAngle: function( val){\n            while(val < 0 ){\n                val+= 2 * Math.PI;\n            }\n            while(val > 2 * Math.PI ){\n                val-= 2 * Math.PI;\n            }\n            return val;\n        },\n        distance: function(P1, P2){\n          var xs = 0;\n          var ys = 0;\n\n          xs = P2.x - P1.x;\n          xs = xs * xs;\n\n          ys = P2.y - P1.y;\n          ys = ys * ys;\n\n          return Math.sqrt( xs + ys );\n        }\n    };\n\n    export {Point, Rectangle, mathPoint};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/point.js\n **/","'use strict';\n\n\tvar lists = [];\n\n\timport util from './util'\n\timport {mathPoint, Point} from './point'\n\timport {boundType, boundFactory} from './bound'\n\timport {Draggable, draggables, events} from './draggable'\n\n\tvar Dragee = { util, boundType, boundFactory, Draggable, events };//todo remove after refactore\n\n\n\tfunction List(draggables, options){\n\t\tvar i;\n\t\tthis.options = {\n\t\t\ttimeEnd: 200,\n\t\t\ttimeExcange: 400,\n\t\t\tradius: 30,\n\t\t\tgetLength: mathPoint.getLength(),\n\t\t\tisDisplacement: false\n\t\t};\n\t\tfor(i in options){\n\t\t\tif(options.hasOwnProperty(i)){\n\t\t\t\tthis.options[i] = options[i];\n\t\t\t}\n\t\t}\n\t\tthis.draggables = draggables;\n\t\tlists.push(this);\n\t\tthis.onChange = Dragee.util.triggerFactory({context: this});\n\t\tif(options && options.onChange){\n\t\t\tthis.onChange.add(options.onChange);\n\t\t}\n\t\tthis.init();\n\t}\n\n\tList.prototype.init = function(){\n\t\tthis._enable = true;\n\t\tthis.draggables.forEach(this.initDraggable, this);\n\t};\n\n\tList.prototype.initDraggable = function(draggable){\n\t\tvar moveHandler, that = this;\n\t\tdraggable.enable = this._enable;\n\t\tif(this.options.isDisplacement){\n\t\t\tmoveHandler = function(){\n\t\t\t\tif(this.isDragee){\n\t\t\t\t\tthat.onStart(this);\n\t\t\t\t\tdraggable.onMove.remove(moveHandler);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\tdraggable.onEnd.add(function(){\n\t\t\t\tthat.onEndDisplaycement(this);\n\t\t\t\tdraggable.onMove.add(moveHandler);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tdraggable.onMove.add(moveHandler);\n\t\t}else{\n\t\t\tdraggable.onEnd.add(function(){\n\t\t\t\tthat.onEnd(this);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t};\n\n\tList.prototype.moveOrSave = function(draggable, position, time){\n\t\tif(draggable.isDragee){\n\t\t\tdraggable.fixPosition = position;\n\t\t}else{\n\t\t\tdraggable.move(position, time, true);\n\t\t}\n\t};\n\n\tList.prototype.onEnd = function(draggable){\n\t\tvar fixPositions = this.getCurrentFixPosition(), currentIndex, excangeIndex;\n\t\tcurrentIndex = this.draggables.indexOf(draggable);\n\t\texcangeIndex = mathPoint.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getLength);\n\t\tif(excangeIndex === -1 || excangeIndex === currentIndex){\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t}else{\n\t\t\tthis.moveOrSave(this.draggables[excangeIndex], fixPositions[currentIndex], this.options.timeExcange);\n\t\t\tthis.draggables[currentIndex].move(fixPositions[excangeIndex], this.options.timeEnd, true);\n\t\t\tthis.onChange.fire();\n\t\t}\n\t\treturn true;\n\t};\n\n\tList.prototype.onEndDisplaycement = function(draggable){\n\t\tvar currentIndex, i, targetIndex,\n\t\t\tsortedDraggables = this.getSortedDraggables(),\n\t\t\tfixPositions = sortedDraggables.map(function(draggable){\n\t\t\t\treturn draggable.fixPosition;\n\t\t\t});\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\ttargetIndex = mathPoint.indexOfNearPoint(fixPositions, draggable.position, this.options.radius, this.options.getLength);\n\t\tif(targetIndex !==-1){\n\t\t\tif(targetIndex < currentIndex){\n\t\t\t\tfor(i=targetIndex; i<currentIndex; i++){\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i], fixPositions[i+1], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor(i=currentIndex; i<targetIndex; i++){\n\t\t\t\t\tthis.moveOrSave(sortedDraggables[i+1], fixPositions[i], this.options.timeExcange);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdraggable.move(fixPositions[targetIndex], this.options.timeEnd, true);\n\t\t} else {\n\t\t\tdraggable.move(draggable.fixPosition, this.options.timeEnd, true);\n\t\t}\n\t};\n\n\tList.prototype.onStart = function(draggable){\n\t\tvar currentIndex,i,\n\t\t\tsortedDraggables = this.getSortedDraggables(),\n\t\t\tfixPositions = sortedDraggables.map(function(draggable){\n\t\t\t\treturn draggable.fixPosition;\n\t\t\t});\n\n\t\tcurrentIndex = sortedDraggables.indexOf(draggable);\n\t\tfor(i = currentIndex + 1; i < sortedDraggables.length; i++){\n\t\t\tthis.moveOrSave(sortedDraggables[i],fixPositions[i-1],this.options.timeExcange);\n\t\t}\n\t\tsortedDraggables[currentIndex].fixPosition = fixPositions[i-1];\n\t};\n\n\n\n\tList.prototype.getCurrentFixPosition = function(){\n\t\treturn this.draggables.map(function(draggable){\n\t\t\treturn draggable.fixPosition.clone();\n\t\t});\n\t};\n\n\tList.prototype.getSortedDraggables = function(){\n\t\tvar sortedDraggables,\n\t\t\tinitPositions = this.draggables.map(function(draggable){\n\t\t\t\treturn draggable.initPosition;\n\t\t\t});\n\t\tsortedDraggables = initPositions.map(function(position){\n\t\t\treturn this.draggables.filter(function(draggable){\n\t\t\t\treturn draggable.fixPosition.compare(position);\n\t\t\t},this)[0];\n\t\t},this);\n\t\treturn sortedDraggables;\n\t};\n\n\tList.prototype.reset = function(){\n\t\tthis.draggables.forEach(function(draggable){\n\t\t\tdraggable.move(draggable.initPosition, 0, true, false);\n\t\t});\n\t};\n\n\tList.prototype.refresh = function(){\n\t\tthis.draggables.forEach(function(draggable){\n\t\t\tdraggable.refresh();\n\t\t});\n\t};\n\n\tList.prototype.add = function(draggables){\n\t\tvar that = this;\n\t\tif(!(draggables instanceof Array)){\n\t\t\tdraggables = [draggables];\n\t\t}\n\t\tdraggables.forEach(this.initDraggable, this);\n\t\tthis.draggables = this.draggables.concat(draggables);\n\t};\n\n\tList.prototype.remove = function(draggables){\n\t\tvar j, initPositions = this.draggables.map(function(draggable){\n\t\t\t\treturn draggable.initPosition;\n\t\t\t}),\n\t\t\tlist = [],\n\t\t\tsortedDraggables = this.getSortedDraggables();\n\t\tif(!(draggables instanceof Array)){\n\t\t\tdraggables = [draggables];\n\n\t\t}\n\t\tdraggables.forEach(function(draggable){\n\t\t\tdraggable.onEnd.reset();\n\t\t\tdraggable.onMove.reset();//todo remove reset in future\n\t\t\tthis.draggables.removeItem(draggable);\n\t\t\tDragee.util.remove(this.draggables, draggable);\n\t\t}, this);\n\t\tj = 0;\n\t\tsortedDraggables.forEach(function(draggable, i){\n\t\t\tif(this.draggables.indexOf(draggable) !== -1){\n\t\t\t\tif(draggable.fixPosition !== initPositions[j]){\n\t\t\t\t\tdraggable.move(initPositions[j], this.options.timeExcange, true);\n\t\t\t\t}\n\t\t\t\tdraggable.initPosition = initPositions[j];\n\t\t\t\tj++;\n\t\t\t\tlist.push(draggable);\n\t\t\t}\n\t\t}, this);\n\t\tthis.draggables = list;\n\t};\n\n\tList.prototype.clear = function(){\n\t\tthis.remove(this.draggables.slice());\n\t};\n\n\tList.prototype.destroy = function(){\n\t\tthis.draggables.forEach(function(draggable){\n\t\t\tdraggable.destroy();\n\t\t});\n\t};\n\n\tList.prototype.__defineGetter__(\"positions\", function(){\n\t\treturn this.getCurrentFixPosition();\n\t});\n\n\tList.prototype.__defineSetter__(\"positions\", function(positions){\n\t\tvar message = \"wrong array length\";\n\t\tif(positions.length === this.draggables.length){\n\t\t\tpositions.forEach(function(point, i){\n\t\t\t\tthis.draggables[i].move(point, 0, true, true);\n\t\t\t}, this);\n\t\t}else{\n\t\t\talert(message);\n\t\t\tthrow message;\n\t\t}\n\t});\n\n\tList.prototype.__defineGetter__(\"enable\", function(){\n\t\treturn this._enable;\n\t});\n\n\tList.prototype.__defineSetter__(\"enable\", function(value){\n\t\tthis._enable = value;\n\t\tthis.draggables.forEach(function(draggable){\n\t\t\tdraggable.enable = value;\n\t\t});\n\t});\n\n\n\tfunction listFactory(parentElement, elements, options){\n\t\tvar draggables, draggableOptions, listOptions;\n\t\toptions = options || {};\n\t\tdraggableOptions = options.draggable || {};\n\t\tlistOptions = options.list || {};\n\t\tdraggableOptions.parent = draggableOptions.parent || parentElement;\n\t\telements = Array.prototype.slice.call(elements);\n\n\t\tdraggables = elements.map(function(element){\n\t\t\treturn new Dragee.Draggable(element, draggableOptions);\n\t\t});\n\n\t\treturn new List(draggables, listOptions);\n\t}\n\n  export {lists, List, listFactory};\n\n\t// Dragee.lists = lists;\n\t// Dragee.List = List;\n\t// Dragee.listFactory = listFactory;\n\t// window.Dragee = Dragee;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/list.js\n **/"],"sourceRoot":""}